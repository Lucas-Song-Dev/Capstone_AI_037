var a3=t=>{throw TypeError(t)};var wE=(t,e,n)=>e.has(t)||a3("Cannot "+n);var ze=(t,e,n)=>(wE(t,e,"read from private field"),n?n.call(t):e.get(t)),Qt=(t,e,n)=>e.has(t)?a3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Dt=(t,e,n,r)=>(wE(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ii=(t,e,n)=>(wE(t,e,"access private method"),n);var y0=(t,e,n,r)=>({set _(i){Dt(t,e,i,n)},get _(){return ze(t,e,r)}});function TX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xz={exports:{}},xb={},_z={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv=Symbol.for("react.element"),AX=Symbol.for("react.portal"),PX=Symbol.for("react.fragment"),CX=Symbol.for("react.strict_mode"),RX=Symbol.for("react.profiler"),OX=Symbol.for("react.provider"),IX=Symbol.for("react.context"),NX=Symbol.for("react.forward_ref"),DX=Symbol.for("react.suspense"),LX=Symbol.for("react.memo"),kX=Symbol.for("react.lazy"),s3=Symbol.iterator;function UX(t){return t===null||typeof t!="object"?null:(t=s3&&t[s3]||t["@@iterator"],typeof t=="function"?t:null)}var bz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wz=Object.assign,Sz={};function cp(t,e,n){this.props=t,this.context=e,this.refs=Sz,this.updater=n||bz}cp.prototype.isReactComponent={};cp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ez(){}Ez.prototype=cp.prototype;function fC(t,e,n){this.props=t,this.context=e,this.refs=Sz,this.updater=n||bz}var dC=fC.prototype=new Ez;dC.constructor=fC;wz(dC,cp.prototype);dC.isPureReactComponent=!0;var l3=Array.isArray,Mz=Object.prototype.hasOwnProperty,hC={current:null},Tz={key:!0,ref:!0,__self:!0,__source:!0};function Az(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Mz.call(e,r)&&!Tz.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Xv,type:t,key:o,ref:a,props:i,_owner:hC.current}}function FX(t,e){return{$$typeof:Xv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xv}function BX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c3=/\/+/g;function SE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BX(""+t.key):e.toString(36)}function r1(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xv:case AX:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+SE(a,0):r,l3(i)?(n="",t!=null&&(n=t.replace(c3,"$&/")+"/"),r1(i,e,n,"",function(c){return c})):i!=null&&(pC(i)&&(i=FX(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(c3,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",l3(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+SE(o,s);a+=r1(o,e,n,l,i)}else if(l=UX(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+SE(o,s++),a+=r1(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function _0(t,e,n){if(t==null)return t;var r=[],i=0;return r1(t,r,"","",function(o){return e.call(n,o,i++)}),r}function zX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bi={current:null},i1={transition:null},jX={ReactCurrentDispatcher:Bi,ReactCurrentBatchConfig:i1,ReactCurrentOwner:hC};function Pz(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:_0,forEach:function(t,e,n){_0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _0(t,function(){e++}),e},toArray:function(t){return _0(t,function(e){return e})||[]},only:function(t){if(!pC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wt.Component=cp;Wt.Fragment=PX;Wt.Profiler=RX;Wt.PureComponent=fC;Wt.StrictMode=CX;Wt.Suspense=DX;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jX;Wt.act=Pz;Wt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wz({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=hC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Mz.call(e,l)&&!Tz.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Xv,type:t.type,key:i,ref:o,props:r,_owner:a}};Wt.createContext=function(t){return t={$$typeof:IX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OX,_context:t},t.Consumer=t};Wt.createElement=Az;Wt.createFactory=function(t){var e=Az.bind(null,t);return e.type=t,e};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(t){return{$$typeof:NX,render:t}};Wt.isValidElement=pC;Wt.lazy=function(t){return{$$typeof:kX,_payload:{_status:-1,_result:t},_init:zX}};Wt.memo=function(t,e){return{$$typeof:LX,type:t,compare:e===void 0?null:e}};Wt.startTransition=function(t){var e=i1.transition;i1.transition={};try{t()}finally{i1.transition=e}};Wt.unstable_act=Pz;Wt.useCallback=function(t,e){return Bi.current.useCallback(t,e)};Wt.useContext=function(t){return Bi.current.useContext(t)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(t){return Bi.current.useDeferredValue(t)};Wt.useEffect=function(t,e){return Bi.current.useEffect(t,e)};Wt.useId=function(){return Bi.current.useId()};Wt.useImperativeHandle=function(t,e,n){return Bi.current.useImperativeHandle(t,e,n)};Wt.useInsertionEffect=function(t,e){return Bi.current.useInsertionEffect(t,e)};Wt.useLayoutEffect=function(t,e){return Bi.current.useLayoutEffect(t,e)};Wt.useMemo=function(t,e){return Bi.current.useMemo(t,e)};Wt.useReducer=function(t,e,n){return Bi.current.useReducer(t,e,n)};Wt.useRef=function(t){return Bi.current.useRef(t)};Wt.useState=function(t){return Bi.current.useState(t)};Wt.useSyncExternalStore=function(t,e,n){return Bi.current.useSyncExternalStore(t,e,n)};Wt.useTransition=function(){return Bi.current.useTransition()};Wt.version="18.3.1";_z.exports=Wt;var L=_z.exports;const J=rn(L),mC=TX({__proto__:null,default:J},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HX=L,VX=Symbol.for("react.element"),GX=Symbol.for("react.fragment"),$X=Object.prototype.hasOwnProperty,WX=HX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XX={key:!0,ref:!0,__self:!0,__source:!0};function Cz(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)$X.call(e,r)&&!XX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VX,type:t,key:o,ref:a,props:i,_owner:WX.current}}xb.Fragment=GX;xb.jsx=Cz;xb.jsxs=Cz;xz.exports=xb;var C=xz.exports,Rz={exports:{}},Ro={},Oz={exports:{}},Iz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var j=U.length;U.push(F);e:for(;0<j;){var z=j-1>>>1,X=U[z];if(0<i(X,F))U[z]=F,U[j]=X,j=z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],j=U.pop();if(j!==F){U[0]=j;e:for(var z=0,X=U.length,q=X>>>1;z<q;){var Z=2*(z+1)-1,ne=U[Z],se=Z+1,ae=U[se];if(0>i(ne,j))se<X&&0>i(ae,ne)?(U[z]=ae,U[se]=j,z=se):(U[z]=ne,U[Z]=j,z=Z);else if(se<X&&0>i(ae,j))U[z]=ae,U[se]=j,z=se;else break e}}return F}function i(U,F){var j=U.sortIndex-F.sortIndex;return j!==0?j:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=U)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(U){if(x=!1,b(U),!g)if(n(l)!==null)g=!0,H(E);else{var F=n(c);F!==null&&K(w,F.startTime-U)}}function E(U,F){g=!1,x&&(x=!1,y(O),O=-1),h=!0;var j=d;try{for(b(F),f=n(l);f!==null&&(!(f.expirationTime>F)||U&&!k());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var X=z(f.expirationTime<=F);F=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),b(F)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var Z=n(c);Z!==null&&K(w,Z.startTime-F),q=!1}return q}finally{f=null,d=j,h=!1}}var M=!1,T=null,O=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function D(){if(T!==null){var U=t.unstable_now();R=U;var F=!0;try{F=T(!0,U)}finally{F?G():(M=!1,T=null)}}else M=!1}var G;if(typeof _=="function")G=function(){_(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=D,G=function(){$.postMessage(null)}}else G=function(){v(D,0)};function H(U){T=U,M||(M=!0,G())}function K(U,F){O=v(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,H(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var j=d;d=F;try{return U()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=d;d=U;try{return F()}finally{d=j}},t.unstable_scheduleCallback=function(U,F,j){var z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,U={id:u++,callback:F,priorityLevel:U,startTime:j,expirationTime:X,sortIndex:-1},j>z?(U.sortIndex=j,e(c,U),n(l)===null&&U===n(c)&&(x?(y(O),O=-1):x=!0,K(w,j-z))):(U.sortIndex=X,e(l,U),g||h||(g=!0,H(E))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var F=d;return function(){var j=d;d=F;try{return U.apply(this,arguments)}finally{d=j}}}})(Iz);Oz.exports=Iz;var qX=Oz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YX=L,Co=qX;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nz=new Set,gg={};function Af(t,e){Eh(t,e),Eh(t+"Capture",e)}function Eh(t,e){for(gg[t]=e,t=0;t<e.length;t++)Nz.add(e[t])}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CT=Object.prototype.hasOwnProperty,KX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u3={},f3={};function ZX(t){return CT.call(f3,t)?!0:CT.call(u3,t)?!1:KX.test(t)?f3[t]=!0:(u3[t]=!0,!1)}function JX(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QX(t,e,n,r){if(e===null||typeof e>"u"||JX(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zi(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zr[t]=new zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zr[e]=new zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zr[t]=new zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zr[t]=new zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zr[t]=new zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zr[t]=new zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zr[t]=new zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zr[t]=new zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zr[t]=new zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var gC=/[\-:]([a-z])/g;function vC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gC,vC);Zr[e]=new zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gC,vC);Zr[e]=new zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gC,vC);Zr[e]=new zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zr[t]=new zi(t,1,!1,t.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zr[t]=new zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function yC(t,e,n,r){var i=Zr.hasOwnProperty(e)?Zr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QX(e,n,i,r)&&(n=null),r||i===null?ZX(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vl=YX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b0=Symbol.for("react.element"),Id=Symbol.for("react.portal"),Nd=Symbol.for("react.fragment"),xC=Symbol.for("react.strict_mode"),RT=Symbol.for("react.profiler"),Dz=Symbol.for("react.provider"),Lz=Symbol.for("react.context"),_C=Symbol.for("react.forward_ref"),OT=Symbol.for("react.suspense"),IT=Symbol.for("react.suspense_list"),bC=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),kz=Symbol.for("react.offscreen"),d3=Symbol.iterator;function am(t){return t===null||typeof t!="object"?null:(t=d3&&t[d3]||t["@@iterator"],typeof t=="function"?t:null)}var Wn=Object.assign,EE;function zm(t){if(EE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);EE=e&&e[1]||""}return`
`+EE+t}var ME=!1;function TE(t,e){if(!t||ME)return"";ME=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{ME=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zm(t):""}function eq(t){switch(t.tag){case 5:return zm(t.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return t=TE(t.type,!1),t;case 11:return t=TE(t.type.render,!1),t;case 1:return t=TE(t.type,!0),t;default:return""}}function NT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nd:return"Fragment";case Id:return"Portal";case RT:return"Profiler";case xC:return"StrictMode";case OT:return"Suspense";case IT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lz:return(t.displayName||"Context")+".Consumer";case Dz:return(t._context.displayName||"Context")+".Provider";case _C:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bC:return e=t.displayName||null,e!==null?e:NT(t.type)||"Memo";case Wl:e=t._payload,t=t._init;try{return NT(t(e))}catch{}}return null}function tq(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NT(e);case 8:return e===xC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nq(t){var e=Uz(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function w0(t){t._valueTracker||(t._valueTracker=nq(t))}function Fz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function N1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function DT(t,e){var n=e.checked;return Wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function h3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bz(t,e){e=e.checked,e!=null&&yC(t,"checked",e,!1)}function LT(t,e){Bz(t,e);var n=Tc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kT(t,e.type,n):e.hasOwnProperty("defaultValue")&&kT(t,e.type,Tc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kT(t,e,n){(e!=="number"||N1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jm=Array.isArray;function rh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function UT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Wn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ke(92));if(jm(n)){if(1<n.length)throw Error(Ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tc(n)}}function zz(t,e){var n=Tc(e.value),r=Tc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var S0,Hz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(S0=S0||document.createElement("div"),S0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=S0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vg(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rq=["Webkit","ms","Moz","O"];Object.keys(Wm).forEach(function(t){rq.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wm[e]=Wm[t]})});function Vz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wm.hasOwnProperty(t)&&Wm[t]?(""+e).trim():e+"px"}function Gz(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iq=Wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BT(t,e){if(e){if(iq[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function zT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jT=null;function wC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var HT=null,ih=null,oh=null;function v3(t){if(t=Kv(t)){if(typeof HT!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=Eb(e),HT(t.stateNode,t.type,e))}}function $z(t){ih?oh?oh.push(t):oh=[t]:ih=t}function Wz(){if(ih){var t=ih,e=oh;if(oh=ih=null,v3(t),e)for(t=0;t<e.length;t++)v3(e[t])}}function Xz(t,e){return t(e)}function qz(){}var AE=!1;function Yz(t,e,n){if(AE)return t(e,n);AE=!0;try{return Xz(t,e,n)}finally{AE=!1,(ih!==null||oh!==null)&&(qz(),Wz())}}function yg(t,e){var n=t.stateNode;if(n===null)return null;var r=Eb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ke(231,e,typeof n));return n}var VT=!1;if(rl)try{var sm={};Object.defineProperty(sm,"passive",{get:function(){VT=!0}}),window.addEventListener("test",sm,sm),window.removeEventListener("test",sm,sm)}catch{VT=!1}function oq(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Xm=!1,D1=null,L1=!1,GT=null,aq={onError:function(t){Xm=!0,D1=t}};function sq(t,e,n,r,i,o,a,s,l){Xm=!1,D1=null,oq.apply(aq,arguments)}function lq(t,e,n,r,i,o,a,s,l){if(sq.apply(this,arguments),Xm){if(Xm){var c=D1;Xm=!1,D1=null}else throw Error(Ke(198));L1||(L1=!0,GT=c)}}function Pf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kz(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y3(t){if(Pf(t)!==t)throw Error(Ke(188))}function cq(t){var e=t.alternate;if(!e){if(e=Pf(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return y3(i),t;if(o===r)return y3(i),e;o=o.sibling}throw Error(Ke(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Ke(189))}}if(n.alternate!==r)throw Error(Ke(190))}if(n.tag!==3)throw Error(Ke(188));return n.stateNode.current===n?t:e}function Zz(t){return t=cq(t),t!==null?Jz(t):null}function Jz(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jz(t);if(e!==null)return e;t=t.sibling}return null}var Qz=Co.unstable_scheduleCallback,x3=Co.unstable_cancelCallback,uq=Co.unstable_shouldYield,fq=Co.unstable_requestPaint,cr=Co.unstable_now,dq=Co.unstable_getCurrentPriorityLevel,SC=Co.unstable_ImmediatePriority,ej=Co.unstable_UserBlockingPriority,k1=Co.unstable_NormalPriority,hq=Co.unstable_LowPriority,tj=Co.unstable_IdlePriority,_b=null,Ja=null;function pq(t){if(Ja&&typeof Ja.onCommitFiberRoot=="function")try{Ja.onCommitFiberRoot(_b,t,void 0,(t.current.flags&128)===128)}catch{}}var Ta=Math.clz32?Math.clz32:vq,mq=Math.log,gq=Math.LN2;function vq(t){return t>>>=0,t===0?32:31-(mq(t)/gq|0)|0}var E0=64,M0=4194304;function Hm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function U1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Hm(s):(o&=a,o!==0&&(r=Hm(o)))}else a=n&~i,a!==0?r=Hm(a):o!==0&&(r=Hm(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ta(e),i=1<<n,r|=t[n],e&=~i;return r}function yq(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xq(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ta(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=yq(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function $T(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nj(){var t=E0;return E0<<=1,!(E0&4194240)&&(E0=64),t}function PE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ta(e),t[e]=n}function _q(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ta(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function EC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ta(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dn=0;function rj(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ij,MC,oj,aj,sj,WT=!1,T0=[],uc=null,fc=null,dc=null,xg=new Map,_g=new Map,Zl=[],bq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _3(t,e){switch(t){case"focusin":case"focusout":uc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":xg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_g.delete(e.pointerId)}}function lm(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kv(e),e!==null&&MC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wq(t,e,n,r,i){switch(e){case"focusin":return uc=lm(uc,t,e,n,r,i),!0;case"dragenter":return fc=lm(fc,t,e,n,r,i),!0;case"mouseover":return dc=lm(dc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xg.set(o,lm(xg.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_g.set(o,lm(_g.get(o)||null,t,e,n,r,i)),!0}return!1}function lj(t){var e=Lu(t.target);if(e!==null){var n=Pf(e);if(n!==null){if(e=n.tag,e===13){if(e=Kz(n),e!==null){t.blockedOn=e,sj(t.priority,function(){oj(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function o1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=XT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jT=r,n.target.dispatchEvent(r),jT=null}else return e=Kv(n),e!==null&&MC(e),t.blockedOn=n,!1;e.shift()}return!0}function b3(t,e,n){o1(t)&&n.delete(e)}function Sq(){WT=!1,uc!==null&&o1(uc)&&(uc=null),fc!==null&&o1(fc)&&(fc=null),dc!==null&&o1(dc)&&(dc=null),xg.forEach(b3),_g.forEach(b3)}function cm(t,e){t.blockedOn===e&&(t.blockedOn=null,WT||(WT=!0,Co.unstable_scheduleCallback(Co.unstable_NormalPriority,Sq)))}function bg(t){function e(i){return cm(i,t)}if(0<T0.length){cm(T0[0],t);for(var n=1;n<T0.length;n++){var r=T0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(uc!==null&&cm(uc,t),fc!==null&&cm(fc,t),dc!==null&&cm(dc,t),xg.forEach(e),_g.forEach(e),n=0;n<Zl.length;n++)r=Zl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zl.length&&(n=Zl[0],n.blockedOn===null);)lj(n),n.blockedOn===null&&Zl.shift()}var ah=vl.ReactCurrentBatchConfig,F1=!0;function Eq(t,e,n,r){var i=dn,o=ah.transition;ah.transition=null;try{dn=1,TC(t,e,n,r)}finally{dn=i,ah.transition=o}}function Mq(t,e,n,r){var i=dn,o=ah.transition;ah.transition=null;try{dn=4,TC(t,e,n,r)}finally{dn=i,ah.transition=o}}function TC(t,e,n,r){if(F1){var i=XT(t,e,n,r);if(i===null)FE(t,e,r,B1,n),_3(t,r);else if(wq(i,t,e,n,r))r.stopPropagation();else if(_3(t,r),e&4&&-1<bq.indexOf(t)){for(;i!==null;){var o=Kv(i);if(o!==null&&ij(o),o=XT(t,e,n,r),o===null&&FE(t,e,r,B1,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else FE(t,e,r,null,n)}}var B1=null;function XT(t,e,n,r){if(B1=null,t=wC(r),t=Lu(t),t!==null)if(e=Pf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kz(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return B1=t,null}function cj(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dq()){case SC:return 1;case ej:return 4;case k1:case hq:return 16;case tj:return 536870912;default:return 16}default:return 16}}var ac=null,AC=null,a1=null;function uj(){if(a1)return a1;var t,e=AC,n=e.length,r,i="value"in ac?ac.value:ac.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return a1=i.slice(t,1<r?1-r:void 0)}function s1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function A0(){return!0}function w3(){return!1}function Oo(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?A0:w3,this.isPropagationStopped=w3,this}return Wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=A0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=A0)},persist:function(){},isPersistent:A0}),e}var up={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PC=Oo(up),Yv=Wn({},up,{view:0,detail:0}),Tq=Oo(Yv),CE,RE,um,bb=Wn({},Yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:CC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==um&&(um&&t.type==="mousemove"?(CE=t.screenX-um.screenX,RE=t.screenY-um.screenY):RE=CE=0,um=t),CE)},movementY:function(t){return"movementY"in t?t.movementY:RE}}),S3=Oo(bb),Aq=Wn({},bb,{dataTransfer:0}),Pq=Oo(Aq),Cq=Wn({},Yv,{relatedTarget:0}),OE=Oo(Cq),Rq=Wn({},up,{animationName:0,elapsedTime:0,pseudoElement:0}),Oq=Oo(Rq),Iq=Wn({},up,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Nq=Oo(Iq),Dq=Wn({},up,{data:0}),E3=Oo(Dq),Lq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uq[t])?!!e[t]:!1}function CC(){return Fq}var Bq=Wn({},Yv,{key:function(t){if(t.key){var e=Lq[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=s1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:CC,charCode:function(t){return t.type==="keypress"?s1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?s1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zq=Oo(Bq),jq=Wn({},bb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M3=Oo(jq),Hq=Wn({},Yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:CC}),Vq=Oo(Hq),Gq=Wn({},up,{propertyName:0,elapsedTime:0,pseudoElement:0}),$q=Oo(Gq),Wq=Wn({},bb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xq=Oo(Wq),qq=[9,13,27,32],RC=rl&&"CompositionEvent"in window,qm=null;rl&&"documentMode"in document&&(qm=document.documentMode);var Yq=rl&&"TextEvent"in window&&!qm,fj=rl&&(!RC||qm&&8<qm&&11>=qm),T3=" ",A3=!1;function dj(t,e){switch(t){case"keyup":return qq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dd=!1;function Kq(t,e){switch(t){case"compositionend":return hj(e);case"keypress":return e.which!==32?null:(A3=!0,T3);case"textInput":return t=e.data,t===T3&&A3?null:t;default:return null}}function Zq(t,e){if(Dd)return t==="compositionend"||!RC&&dj(t,e)?(t=uj(),a1=AC=ac=null,Dd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fj&&e.locale!=="ko"?null:e.data;default:return null}}var Jq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jq[t.type]:e==="textarea"}function pj(t,e,n,r){$z(r),e=z1(e,"onChange"),0<e.length&&(n=new PC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ym=null,wg=null;function Qq(t){Mj(t,0)}function wb(t){var e=Ud(t);if(Fz(e))return t}function eY(t,e){if(t==="change")return e}var mj=!1;if(rl){var IE;if(rl){var NE="oninput"in document;if(!NE){var C3=document.createElement("div");C3.setAttribute("oninput","return;"),NE=typeof C3.oninput=="function"}IE=NE}else IE=!1;mj=IE&&(!document.documentMode||9<document.documentMode)}function R3(){Ym&&(Ym.detachEvent("onpropertychange",gj),wg=Ym=null)}function gj(t){if(t.propertyName==="value"&&wb(wg)){var e=[];pj(e,wg,t,wC(t)),Yz(Qq,e)}}function tY(t,e,n){t==="focusin"?(R3(),Ym=e,wg=n,Ym.attachEvent("onpropertychange",gj)):t==="focusout"&&R3()}function nY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wb(wg)}function rY(t,e){if(t==="click")return wb(e)}function iY(t,e){if(t==="input"||t==="change")return wb(e)}function oY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ca=typeof Object.is=="function"?Object.is:oY;function Sg(t,e){if(Ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!CT.call(e,i)||!Ca(t[i],e[i]))return!1}return!0}function O3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I3(t,e){var n=O3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O3(n)}}function vj(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vj(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yj(){for(var t=window,e=N1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=N1(t.document)}return e}function OC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aY(t){var e=yj(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vj(n.ownerDocument.documentElement,n)){if(r!==null&&OC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=I3(n,o);var a=I3(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sY=rl&&"documentMode"in document&&11>=document.documentMode,Ld=null,qT=null,Km=null,YT=!1;function N3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YT||Ld==null||Ld!==N1(r)||(r=Ld,"selectionStart"in r&&OC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Km&&Sg(Km,r)||(Km=r,r=z1(qT,"onSelect"),0<r.length&&(e=new PC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ld)))}function P0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var kd={animationend:P0("Animation","AnimationEnd"),animationiteration:P0("Animation","AnimationIteration"),animationstart:P0("Animation","AnimationStart"),transitionend:P0("Transition","TransitionEnd")},DE={},xj={};rl&&(xj=document.createElement("div").style,"AnimationEvent"in window||(delete kd.animationend.animation,delete kd.animationiteration.animation,delete kd.animationstart.animation),"TransitionEvent"in window||delete kd.transitionend.transition);function Sb(t){if(DE[t])return DE[t];if(!kd[t])return t;var e=kd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xj)return DE[t]=e[n];return t}var _j=Sb("animationend"),bj=Sb("animationiteration"),wj=Sb("animationstart"),Sj=Sb("transitionend"),Ej=new Map,D3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nc(t,e){Ej.set(t,e),Af(e,[t])}for(var LE=0;LE<D3.length;LE++){var kE=D3[LE],lY=kE.toLowerCase(),cY=kE[0].toUpperCase()+kE.slice(1);Nc(lY,"on"+cY)}Nc(_j,"onAnimationEnd");Nc(bj,"onAnimationIteration");Nc(wj,"onAnimationStart");Nc("dblclick","onDoubleClick");Nc("focusin","onFocus");Nc("focusout","onBlur");Nc(Sj,"onTransitionEnd");Eh("onMouseEnter",["mouseout","mouseover"]);Eh("onMouseLeave",["mouseout","mouseover"]);Eh("onPointerEnter",["pointerout","pointerover"]);Eh("onPointerLeave",["pointerout","pointerover"]);Af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Af("onBeforeInput",["compositionend","keypress","textInput","paste"]);Af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vm));function L3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lq(r,e,void 0,t),t.currentTarget=null}function Mj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;L3(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;L3(i,s,c),o=l}}}if(L1)throw t=GT,L1=!1,GT=null,t}function Rn(t,e){var n=e[eA];n===void 0&&(n=e[eA]=new Set);var r=t+"__bubble";n.has(r)||(Tj(e,t,2,!1),n.add(r))}function UE(t,e,n){var r=0;e&&(r|=4),Tj(n,t,r,e)}var C0="_reactListening"+Math.random().toString(36).slice(2);function Eg(t){if(!t[C0]){t[C0]=!0,Nz.forEach(function(n){n!=="selectionchange"&&(uY.has(n)||UE(n,!1,t),UE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[C0]||(e[C0]=!0,UE("selectionchange",!1,e))}}function Tj(t,e,n,r){switch(cj(e)){case 1:var i=Eq;break;case 4:i=Mq;break;default:i=TC}n=i.bind(null,e,n,t),i=void 0,!VT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function FE(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Lu(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Yz(function(){var c=o,u=wC(n),f=[];e:{var d=Ej.get(t);if(d!==void 0){var h=PC,g=t;switch(t){case"keypress":if(s1(n)===0)break e;case"keydown":case"keyup":h=zq;break;case"focusin":g="focus",h=OE;break;case"focusout":g="blur",h=OE;break;case"beforeblur":case"afterblur":h=OE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=S3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Pq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Vq;break;case _j:case bj:case wj:h=Oq;break;case Sj:h=$q;break;case"scroll":h=Tq;break;case"wheel":h=Xq;break;case"copy":case"cut":case"paste":h=Nq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=M3}var x=(e&4)!==0,v=!x&&t==="scroll",y=x?d!==null?d+"Capture":null:d;x=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=yg(_,y),w!=null&&x.push(Mg(_,w,b)))),v)break;_=_.return}0<x.length&&(d=new h(d,g,null,n,u),f.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==jT&&(g=n.relatedTarget||n.fromElement)&&(Lu(g)||g[il]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Lu(g):null,g!==null&&(v=Pf(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(x=S3,w="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=M3,w="onPointerLeave",y="onPointerEnter",_="pointer"),v=h==null?d:Ud(h),b=g==null?d:Ud(g),d=new x(w,_+"leave",h,n,u),d.target=v,d.relatedTarget=b,w=null,Lu(u)===c&&(x=new x(y,_+"enter",g,n,u),x.target=b,x.relatedTarget=v,w=x),v=w,h&&g)t:{for(x=h,y=g,_=0,b=x;b;b=Qf(b))_++;for(b=0,w=y;w;w=Qf(w))b++;for(;0<_-b;)x=Qf(x),_--;for(;0<b-_;)y=Qf(y),b--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=Qf(x),y=Qf(y)}x=null}else x=null;h!==null&&k3(f,d,h,x,!1),g!==null&&v!==null&&k3(f,v,g,x,!0)}}e:{if(d=c?Ud(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var E=eY;else if(P3(d))if(mj)E=iY;else{E=nY;var M=tY}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(E=rY);if(E&&(E=E(t,c))){pj(f,E,n,u);break e}M&&M(t,d,c),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&kT(d,"number",d.value)}switch(M=c?Ud(c):window,t){case"focusin":(P3(M)||M.contentEditable==="true")&&(Ld=M,qT=c,Km=null);break;case"focusout":Km=qT=Ld=null;break;case"mousedown":YT=!0;break;case"contextmenu":case"mouseup":case"dragend":YT=!1,N3(f,n,u);break;case"selectionchange":if(sY)break;case"keydown":case"keyup":N3(f,n,u)}var T;if(RC)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Dd?dj(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(fj&&n.locale!=="ko"&&(Dd||O!=="onCompositionStart"?O==="onCompositionEnd"&&Dd&&(T=uj()):(ac=u,AC="value"in ac?ac.value:ac.textContent,Dd=!0)),M=z1(c,O),0<M.length&&(O=new E3(O,t,null,n,u),f.push({event:O,listeners:M}),T?O.data=T:(T=hj(n),T!==null&&(O.data=T)))),(T=Yq?Kq(t,n):Zq(t,n))&&(c=z1(c,"onBeforeInput"),0<c.length&&(u=new E3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}Mj(f,e)})}function Mg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function z1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=yg(t,n),o!=null&&r.unshift(Mg(t,o,i)),o=yg(t,e),o!=null&&r.push(Mg(t,o,i))),t=t.return}return r}function Qf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k3(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=yg(n,o),l!=null&&a.unshift(Mg(n,l,s))):i||(l=yg(n,o),l!=null&&a.push(Mg(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var fY=/\r\n?/g,dY=/\u0000|\uFFFD/g;function U3(t){return(typeof t=="string"?t:""+t).replace(fY,`
`).replace(dY,"")}function R0(t,e,n){if(e=U3(e),U3(t)!==e&&n)throw Error(Ke(425))}function j1(){}var KT=null,ZT=null;function JT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var QT=typeof setTimeout=="function"?setTimeout:void 0,hY=typeof clearTimeout=="function"?clearTimeout:void 0,F3=typeof Promise=="function"?Promise:void 0,pY=typeof queueMicrotask=="function"?queueMicrotask:typeof F3<"u"?function(t){return F3.resolve(null).then(t).catch(mY)}:QT;function mY(t){setTimeout(function(){throw t})}function BE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),bg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);bg(e)}function hc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fp=Math.random().toString(36).slice(2),Ya="__reactFiber$"+fp,Tg="__reactProps$"+fp,il="__reactContainer$"+fp,eA="__reactEvents$"+fp,gY="__reactListeners$"+fp,vY="__reactHandles$"+fp;function Lu(t){var e=t[Ya];if(e)return e;for(var n=t.parentNode;n;){if(e=n[il]||n[Ya]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B3(t);t!==null;){if(n=t[Ya])return n;t=B3(t)}return e}t=n,n=t.parentNode}return null}function Kv(t){return t=t[Ya]||t[il],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function Eb(t){return t[Tg]||null}var tA=[],Fd=-1;function Dc(t){return{current:t}}function Dn(t){0>Fd||(t.current=tA[Fd],tA[Fd]=null,Fd--)}function An(t,e){Fd++,tA[Fd]=t.current,t.current=e}var Ac={},vi=Dc(Ac),eo=Dc(!1),uf=Ac;function Mh(t,e){var n=t.type.contextTypes;if(!n)return Ac;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function to(t){return t=t.childContextTypes,t!=null}function H1(){Dn(eo),Dn(vi)}function z3(t,e,n){if(vi.current!==Ac)throw Error(Ke(168));An(vi,e),An(eo,n)}function Aj(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ke(108,tq(t)||"Unknown",i));return Wn({},n,r)}function V1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ac,uf=vi.current,An(vi,t),An(eo,eo.current),!0}function j3(t,e,n){var r=t.stateNode;if(!r)throw Error(Ke(169));n?(t=Aj(t,e,uf),r.__reactInternalMemoizedMergedChildContext=t,Dn(eo),Dn(vi),An(vi,t)):Dn(eo),An(eo,n)}var zs=null,Mb=!1,zE=!1;function Pj(t){zs===null?zs=[t]:zs.push(t)}function yY(t){Mb=!0,Pj(t)}function Lc(){if(!zE&&zs!==null){zE=!0;var t=0,e=dn;try{var n=zs;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zs=null,Mb=!1}catch(i){throw zs!==null&&(zs=zs.slice(t+1)),Qz(SC,Lc),i}finally{dn=e,zE=!1}}return null}var Bd=[],zd=0,G1=null,$1=0,Xo=[],qo=0,ff=null,$s=1,Ws="";function Su(t,e){Bd[zd++]=$1,Bd[zd++]=G1,G1=t,$1=e}function Cj(t,e,n){Xo[qo++]=$s,Xo[qo++]=Ws,Xo[qo++]=ff,ff=t;var r=$s;t=Ws;var i=32-Ta(r)-1;r&=~(1<<i),n+=1;var o=32-Ta(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$s=1<<32-Ta(e)+i|n<<i|r,Ws=o+t}else $s=1<<o|n<<i|r,Ws=t}function IC(t){t.return!==null&&(Su(t,1),Cj(t,1,0))}function NC(t){for(;t===G1;)G1=Bd[--zd],Bd[zd]=null,$1=Bd[--zd],Bd[zd]=null;for(;t===ff;)ff=Xo[--qo],Xo[qo]=null,Ws=Xo[--qo],Xo[qo]=null,$s=Xo[--qo],Xo[qo]=null}var Mo=null,Eo=null,kn=!1,_a=null;function Rj(t,e){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mo=t,Eo=hc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mo=t,Eo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ff!==null?{id:$s,overflow:Ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ko(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mo=t,Eo=null,!0):!1;default:return!1}}function nA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rA(t){if(kn){var e=Eo;if(e){var n=e;if(!H3(t,e)){if(nA(t))throw Error(Ke(418));e=hc(n.nextSibling);var r=Mo;e&&H3(t,e)?Rj(r,n):(t.flags=t.flags&-4097|2,kn=!1,Mo=t)}}else{if(nA(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,kn=!1,Mo=t}}}function V3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mo=t}function O0(t){if(t!==Mo)return!1;if(!kn)return V3(t),kn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!JT(t.type,t.memoizedProps)),e&&(e=Eo)){if(nA(t))throw Oj(),Error(Ke(418));for(;e;)Rj(t,e),e=hc(e.nextSibling)}if(V3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Eo=hc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Eo=null}}else Eo=Mo?hc(t.stateNode.nextSibling):null;return!0}function Oj(){for(var t=Eo;t;)t=hc(t.nextSibling)}function Th(){Eo=Mo=null,kn=!1}function DC(t){_a===null?_a=[t]:_a.push(t)}var xY=vl.ReactCurrentBatchConfig;function fm(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ke(309));var r=n.stateNode}if(!r)throw Error(Ke(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ke(284));if(!n._owner)throw Error(Ke(290,t))}return t}function I0(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G3(t){var e=t._init;return e(t._payload)}function Ij(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=vc(y,_),y.index=0,y.sibling=null,y}function o(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,_,b,w){return _===null||_.tag!==6?(_=XE(b,y.mode,w),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,w){var E=b.type;return E===Nd?u(y,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wl&&G3(E)===_.type)?(w=i(_,b.props),w.ref=fm(y,_,b),w.return=y,w):(w=p1(b.type,b.key,b.props,null,y.mode,w),w.ref=fm(y,_,b),w.return=y,w)}function c(y,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=qE(b,y.mode,w),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function u(y,_,b,w,E){return _===null||_.tag!==7?(_=Qu(b,y.mode,w,E),_.return=y,_):(_=i(_,b),_.return=y,_)}function f(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=XE(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case b0:return b=p1(_.type,_.key,_.props,null,y.mode,b),b.ref=fm(y,null,_),b.return=y,b;case Id:return _=qE(_,y.mode,b),_.return=y,_;case Wl:var w=_._init;return f(y,w(_._payload),b)}if(jm(_)||am(_))return _=Qu(_,y.mode,b,null),_.return=y,_;I0(y,_)}return null}function d(y,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:s(y,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case b0:return b.key===E?l(y,_,b,w):null;case Id:return b.key===E?c(y,_,b,w):null;case Wl:return E=b._init,d(y,_,E(b._payload),w)}if(jm(b)||am(b))return E!==null?null:u(y,_,b,w,null);I0(y,b)}return null}function h(y,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,s(_,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b0:return y=y.get(w.key===null?b:w.key)||null,l(_,y,w,E);case Id:return y=y.get(w.key===null?b:w.key)||null,c(_,y,w,E);case Wl:var M=w._init;return h(y,_,b,M(w._payload),E)}if(jm(w)||am(w))return y=y.get(b)||null,u(_,y,w,E,null);I0(_,w)}return null}function g(y,_,b,w){for(var E=null,M=null,T=_,O=_=0,P=null;T!==null&&O<b.length;O++){T.index>O?(P=T,T=null):P=T.sibling;var R=d(y,T,b[O],w);if(R===null){T===null&&(T=P);break}t&&T&&R.alternate===null&&e(y,T),_=o(R,_,O),M===null?E=R:M.sibling=R,M=R,T=P}if(O===b.length)return n(y,T),kn&&Su(y,O),E;if(T===null){for(;O<b.length;O++)T=f(y,b[O],w),T!==null&&(_=o(T,_,O),M===null?E=T:M.sibling=T,M=T);return kn&&Su(y,O),E}for(T=r(y,T);O<b.length;O++)P=h(T,y,O,b[O],w),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?O:P.key),_=o(P,_,O),M===null?E=P:M.sibling=P,M=P);return t&&T.forEach(function(k){return e(y,k)}),kn&&Su(y,O),E}function x(y,_,b,w){var E=am(b);if(typeof E!="function")throw Error(Ke(150));if(b=E.call(b),b==null)throw Error(Ke(151));for(var M=E=null,T=_,O=_=0,P=null,R=b.next();T!==null&&!R.done;O++,R=b.next()){T.index>O?(P=T,T=null):P=T.sibling;var k=d(y,T,R.value,w);if(k===null){T===null&&(T=P);break}t&&T&&k.alternate===null&&e(y,T),_=o(k,_,O),M===null?E=k:M.sibling=k,M=k,T=P}if(R.done)return n(y,T),kn&&Su(y,O),E;if(T===null){for(;!R.done;O++,R=b.next())R=f(y,R.value,w),R!==null&&(_=o(R,_,O),M===null?E=R:M.sibling=R,M=R);return kn&&Su(y,O),E}for(T=r(y,T);!R.done;O++,R=b.next())R=h(T,y,O,R.value,w),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?O:R.key),_=o(R,_,O),M===null?E=R:M.sibling=R,M=R);return t&&T.forEach(function(D){return e(y,D)}),kn&&Su(y,O),E}function v(y,_,b,w){if(typeof b=="object"&&b!==null&&b.type===Nd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case b0:e:{for(var E=b.key,M=_;M!==null;){if(M.key===E){if(E=b.type,E===Nd){if(M.tag===7){n(y,M.sibling),_=i(M,b.props.children),_.return=y,y=_;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wl&&G3(E)===M.type){n(y,M.sibling),_=i(M,b.props),_.ref=fm(y,M,b),_.return=y,y=_;break e}n(y,M);break}else e(y,M);M=M.sibling}b.type===Nd?(_=Qu(b.props.children,y.mode,w,b.key),_.return=y,y=_):(w=p1(b.type,b.key,b.props,null,y.mode,w),w.ref=fm(y,_,b),w.return=y,y=w)}return a(y);case Id:e:{for(M=b.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=qE(b,y.mode,w),_.return=y,y=_}return a(y);case Wl:return M=b._init,v(y,_,M(b._payload),w)}if(jm(b))return g(y,_,b,w);if(am(b))return x(y,_,b,w);I0(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,b),_.return=y,y=_):(n(y,_),_=XE(b,y.mode,w),_.return=y,y=_),a(y)):n(y,_)}return v}var Ah=Ij(!0),Nj=Ij(!1),W1=Dc(null),X1=null,jd=null,LC=null;function kC(){LC=jd=X1=null}function UC(t){var e=W1.current;Dn(W1),t._currentValue=e}function iA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sh(t,e){X1=t,LC=jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ji=!0),t.firstContext=null)}function ea(t){var e=t._currentValue;if(LC!==t)if(t={context:t,memoizedValue:e,next:null},jd===null){if(X1===null)throw Error(Ke(308));jd=t,X1.dependencies={lanes:0,firstContext:t}}else jd=jd.next=t;return e}var ku=null;function FC(t){ku===null?ku=[t]:ku.push(t)}function Dj(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,FC(e)):(n.next=i.next,i.next=n),e.interleaved=n,ol(t,r)}function ol(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xl=!1;function BC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Js(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ol(t,n)}return i=r.interleaved,i===null?(e.next=e,FC(r)):(e.next=i.next,i.next=e),r.interleaved=e,ol(t,n)}function l1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,EC(t,n)}}function $3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function q1(t,e,n,r){var i=t.updateQueue;Xl=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,u=c=l=null,s=o;do{var d=s.lane,h=s.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,x=s;switch(d=e,h=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=Wn({},f,d);break e;case 2:Xl=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hf|=a,t.lanes=a,t.memoizedState=f}}function W3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ke(191,i));i.call(r)}}}var Zv={},Qa=Dc(Zv),Ag=Dc(Zv),Pg=Dc(Zv);function Uu(t){if(t===Zv)throw Error(Ke(174));return t}function zC(t,e){switch(An(Pg,e),An(Ag,t),An(Qa,Zv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=FT(e,t)}Dn(Qa),An(Qa,e)}function Ph(){Dn(Qa),Dn(Ag),Dn(Pg)}function kj(t){Uu(Pg.current);var e=Uu(Qa.current),n=FT(e,t.type);e!==n&&(An(Ag,t),An(Qa,n))}function jC(t){Ag.current===t&&(Dn(Qa),Dn(Ag))}var Hn=Dc(0);function Y1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jE=[];function HC(){for(var t=0;t<jE.length;t++)jE[t]._workInProgressVersionPrimary=null;jE.length=0}var c1=vl.ReactCurrentDispatcher,HE=vl.ReactCurrentBatchConfig,df=0,$n=null,Sr=null,Fr=null,K1=!1,Zm=!1,Cg=0,_Y=0;function oi(){throw Error(Ke(321))}function VC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ca(t[n],e[n]))return!1;return!0}function GC(t,e,n,r,i,o){if(df=o,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,c1.current=t===null||t.memoizedState===null?EY:MY,t=n(r,i),Zm){o=0;do{if(Zm=!1,Cg=0,25<=o)throw Error(Ke(301));o+=1,Fr=Sr=null,e.updateQueue=null,c1.current=TY,t=n(r,i)}while(Zm)}if(c1.current=Z1,e=Sr!==null&&Sr.next!==null,df=0,Fr=Sr=$n=null,K1=!1,e)throw Error(Ke(300));return t}function $C(){var t=Cg!==0;return Cg=0,t}function $a(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?$n.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function ta(){if(Sr===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=Sr.next;var e=Fr===null?$n.memoizedState:Fr.next;if(e!==null)Fr=e,Sr=t;else{if(t===null)throw Error(Ke(310));Sr=t,t={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},Fr===null?$n.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Rg(t,e){return typeof e=="function"?e(t):e}function VE(t){var e=ta(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=Sr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var u=c.lane;if((df&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,$n.lanes|=u,hf|=u}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,Ca(r,e.memoizedState)||(Ji=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,$n.lanes|=o,hf|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function GE(t){var e=ta(),n=e.queue;if(n===null)throw Error(Ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ca(o,e.memoizedState)||(Ji=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Uj(){}function Fj(t,e){var n=$n,r=ta(),i=e(),o=!Ca(r.memoizedState,i);if(o&&(r.memoizedState=i,Ji=!0),r=r.queue,WC(jj.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Fr!==null&&Fr.memoizedState.tag&1){if(n.flags|=2048,Og(9,zj.bind(null,n,r,i,e),void 0,null),zr===null)throw Error(Ke(349));df&30||Bj(n,e,i)}return i}function Bj(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zj(t,e,n,r){e.value=n,e.getSnapshot=r,Hj(e)&&Vj(t)}function jj(t,e,n){return n(function(){Hj(e)&&Vj(t)})}function Hj(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ca(t,n)}catch{return!0}}function Vj(t){var e=ol(t,1);e!==null&&Aa(e,t,1,-1)}function X3(t){var e=$a();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:t},e.queue=t,t=t.dispatch=SY.bind(null,$n,t),[e.memoizedState,t]}function Og(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gj(){return ta().memoizedState}function u1(t,e,n,r){var i=$a();$n.flags|=t,i.memoizedState=Og(1|e,n,void 0,r===void 0?null:r)}function Tb(t,e,n,r){var i=ta();r=r===void 0?null:r;var o=void 0;if(Sr!==null){var a=Sr.memoizedState;if(o=a.destroy,r!==null&&VC(r,a.deps)){i.memoizedState=Og(e,n,o,r);return}}$n.flags|=t,i.memoizedState=Og(1|e,n,o,r)}function q3(t,e){return u1(8390656,8,t,e)}function WC(t,e){return Tb(2048,8,t,e)}function $j(t,e){return Tb(4,2,t,e)}function Wj(t,e){return Tb(4,4,t,e)}function Xj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qj(t,e,n){return n=n!=null?n.concat([t]):null,Tb(4,4,Xj.bind(null,e,t),n)}function XC(){}function Yj(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Kj(t,e){var n=ta();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&VC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zj(t,e,n){return df&21?(Ca(n,e)||(n=nj(),$n.lanes|=n,hf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ji=!0),t.memoizedState=n)}function bY(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=HE.transition;HE.transition={};try{t(!1),e()}finally{dn=n,HE.transition=r}}function Jj(){return ta().memoizedState}function wY(t,e,n){var r=gc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qj(t))e5(e,n);else if(n=Dj(t,e,n,r),n!==null){var i=Ui();Aa(n,t,r,i),t5(n,e,r)}}function SY(t,e,n){var r=gc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qj(t))e5(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ca(s,a)){var l=e.interleaved;l===null?(i.next=i,FC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Dj(t,e,i,r),n!==null&&(i=Ui(),Aa(n,t,r,i),t5(n,e,r))}}function Qj(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function e5(t,e){Zm=K1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,EC(t,n)}}var Z1={readContext:ea,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},EY={readContext:ea,useCallback:function(t,e){return $a().memoizedState=[t,e===void 0?null:e],t},useContext:ea,useEffect:q3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,u1(4194308,4,Xj.bind(null,e,t),n)},useLayoutEffect:function(t,e){return u1(4194308,4,t,e)},useInsertionEffect:function(t,e){return u1(4,2,t,e)},useMemo:function(t,e){var n=$a();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$a();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wY.bind(null,$n,t),[r.memoizedState,t]},useRef:function(t){var e=$a();return t={current:t},e.memoizedState=t},useState:X3,useDebugValue:XC,useDeferredValue:function(t){return $a().memoizedState=t},useTransition:function(){var t=X3(!1),e=t[0];return t=bY.bind(null,t[1]),$a().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$n,i=$a();if(kn){if(n===void 0)throw Error(Ke(407));n=n()}else{if(n=e(),zr===null)throw Error(Ke(349));df&30||Bj(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,q3(jj.bind(null,r,o,t),[t]),r.flags|=2048,Og(9,zj.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$a(),e=zr.identifierPrefix;if(kn){var n=Ws,r=$s;n=(r&~(1<<32-Ta(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_Y++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MY={readContext:ea,useCallback:Yj,useContext:ea,useEffect:WC,useImperativeHandle:qj,useInsertionEffect:$j,useLayoutEffect:Wj,useMemo:Kj,useReducer:VE,useRef:Gj,useState:function(){return VE(Rg)},useDebugValue:XC,useDeferredValue:function(t){var e=ta();return Zj(e,Sr.memoizedState,t)},useTransition:function(){var t=VE(Rg)[0],e=ta().memoizedState;return[t,e]},useMutableSource:Uj,useSyncExternalStore:Fj,useId:Jj,unstable_isNewReconciler:!1},TY={readContext:ea,useCallback:Yj,useContext:ea,useEffect:WC,useImperativeHandle:qj,useInsertionEffect:$j,useLayoutEffect:Wj,useMemo:Kj,useReducer:GE,useRef:Gj,useState:function(){return GE(Rg)},useDebugValue:XC,useDeferredValue:function(t){var e=ta();return Sr===null?e.memoizedState=t:Zj(e,Sr.memoizedState,t)},useTransition:function(){var t=GE(Rg)[0],e=ta().memoizedState;return[t,e]},useMutableSource:Uj,useSyncExternalStore:Fj,useId:Jj,unstable_isNewReconciler:!1};function ha(t,e){if(t&&t.defaultProps){e=Wn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Wn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ab={isMounted:function(t){return(t=t._reactInternals)?Pf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=gc(t),o=Js(r,i);o.payload=e,n!=null&&(o.callback=n),e=pc(t,o,i),e!==null&&(Aa(e,t,i,r),l1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=gc(t),o=Js(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=pc(t,o,i),e!==null&&(Aa(e,t,i,r),l1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ui(),r=gc(t),i=Js(n,r);i.tag=2,e!=null&&(i.callback=e),e=pc(t,i,r),e!==null&&(Aa(e,t,r,n),l1(e,t,r))}};function Y3(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Sg(n,r)||!Sg(i,o):!0}function n5(t,e,n){var r=!1,i=Ac,o=e.contextType;return typeof o=="object"&&o!==null?o=ea(o):(i=to(e)?uf:vi.current,r=e.contextTypes,o=(r=r!=null)?Mh(t,i):Ac),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ab,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function K3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ab.enqueueReplaceState(e,e.state,null)}function aA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},BC(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ea(o):(o=to(e)?uf:vi.current,i.context=Mh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(oA(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ab.enqueueReplaceState(i,i.state,null),q1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ch(t,e){try{var n="",r=e;do n+=eq(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $E(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AY=typeof WeakMap=="function"?WeakMap:Map;function r5(t,e,n){n=Js(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Q1||(Q1=!0,vA=r),sA(t,e)},n}function i5(t,e,n){n=Js(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){sA(t,e),typeof r!="function"&&(mc===null?mc=new Set([this]):mc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Z3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jY.bind(null,t,e,n),e.then(t,t))}function J3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Q3(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Js(-1,1),e.tag=2,pc(n,e,1))),n.lanes|=1),t)}var PY=vl.ReactCurrentOwner,Ji=!1;function Oi(t,e,n,r){e.child=t===null?Nj(e,null,n,r):Ah(e,t.child,n,r)}function eD(t,e,n,r,i){n=n.render;var o=e.ref;return sh(e,i),r=GC(t,e,n,r,o,i),n=$C(),t!==null&&!Ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,al(t,e,i)):(kn&&n&&IC(e),e.flags|=1,Oi(t,e,r,i),e.child)}function tD(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!tR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,o5(t,e,o,r,i)):(t=p1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Sg,n(a,r)&&t.ref===e.ref)return al(t,e,i)}return e.flags|=1,t=vc(o,r),t.ref=e.ref,t.return=e,e.child=t}function o5(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Sg(o,r)&&t.ref===e.ref)if(Ji=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ji=!0);else return e.lanes=t.lanes,al(t,e,i)}return lA(t,e,n,r,i)}function a5(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(Vd,yo),yo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,An(Vd,yo),yo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,An(Vd,yo),yo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,An(Vd,yo),yo|=r;return Oi(t,e,i,n),e.child}function s5(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lA(t,e,n,r,i){var o=to(n)?uf:vi.current;return o=Mh(e,o),sh(e,i),n=GC(t,e,n,r,o,i),r=$C(),t!==null&&!Ji?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,al(t,e,i)):(kn&&r&&IC(e),e.flags|=1,Oi(t,e,n,i),e.child)}function nD(t,e,n,r,i){if(to(n)){var o=!0;V1(e)}else o=!1;if(sh(e,i),e.stateNode===null)f1(t,e),n5(e,n,r),aA(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ea(c):(c=to(n)?uf:vi.current,c=Mh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&K3(e,a,r,c),Xl=!1;var d=e.memoizedState;a.state=d,q1(e,r,a,i),l=e.memoizedState,s!==r||d!==l||eo.current||Xl?(typeof u=="function"&&(oA(e,n,u,r),l=e.memoizedState),(s=Xl||Y3(e,n,s,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Lj(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ha(e.type,s),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ea(l):(l=to(n)?uf:vi.current,l=Mh(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&K3(e,a,r,l),Xl=!1,d=e.memoizedState,a.state=d,q1(e,r,a,i);var g=e.memoizedState;s!==f||d!==g||eo.current||Xl?(typeof h=="function"&&(oA(e,n,h,r),g=e.memoizedState),(c=Xl||Y3(e,n,c,r,d,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return cA(t,e,n,r,o,i)}function cA(t,e,n,r,i,o){s5(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&j3(e,n,!1),al(t,e,o);r=e.stateNode,PY.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ah(e,t.child,null,o),e.child=Ah(e,null,s,o)):Oi(t,e,s,o),e.memoizedState=r.state,i&&j3(e,n,!0),e.child}function l5(t){var e=t.stateNode;e.pendingContext?z3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&z3(t,e.context,!1),zC(t,e.containerInfo)}function rD(t,e,n,r,i){return Th(),DC(i),e.flags|=256,Oi(t,e,n,r),e.child}var uA={dehydrated:null,treeContext:null,retryLane:0};function fA(t){return{baseLanes:t,cachePool:null,transitions:null}}function c5(t,e,n){var r=e.pendingProps,i=Hn.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),An(Hn,i&1),t===null)return rA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Rb(a,r,0,null),t=Qu(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=fA(n),e.memoizedState=uA,t):qC(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return CY(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=vc(s,o):(o=Qu(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?fA(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=uA,r}return o=t.child,t=o.sibling,r=vc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qC(t,e){return e=Rb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function N0(t,e,n,r){return r!==null&&DC(r),Ah(e,t.child,null,n),t=qC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CY(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=$E(Error(Ke(422))),N0(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Rb({mode:"visible",children:r.children},i,0,null),o=Qu(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ah(e,t.child,null,a),e.child.memoizedState=fA(a),e.memoizedState=uA,o);if(!(e.mode&1))return N0(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Ke(419)),r=$E(o,r,void 0),N0(t,e,a,r)}if(s=(a&t.childLanes)!==0,Ji||s){if(r=zr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ol(t,i),Aa(r,t,i,-1))}return eR(),r=$E(Error(Ke(421))),N0(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HY.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Eo=hc(i.nextSibling),Mo=e,kn=!0,_a=null,t!==null&&(Xo[qo++]=$s,Xo[qo++]=Ws,Xo[qo++]=ff,$s=t.id,Ws=t.overflow,ff=e),e=qC(e,r.children),e.flags|=4096,e)}function iD(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iA(t.return,e,n)}function WE(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function u5(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Oi(t,e,r.children,n),r=Hn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iD(t,n,e);else if(t.tag===19)iD(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(An(Hn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Y1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),WE(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Y1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}WE(e,!0,n,null,o);break;case"together":WE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function f1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function al(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,n=vc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RY(t,e,n){switch(e.tag){case 3:l5(e),Th();break;case 5:kj(e);break;case 1:to(e.type)&&V1(e);break;case 4:zC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;An(W1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(An(Hn,Hn.current&1),e.flags|=128,null):n&e.child.childLanes?c5(t,e,n):(An(Hn,Hn.current&1),t=al(t,e,n),t!==null?t.sibling:null);An(Hn,Hn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),An(Hn,Hn.current),r)break;return null;case 22:case 23:return e.lanes=0,a5(t,e,n)}return al(t,e,n)}var f5,dA,d5,h5;f5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dA=function(){};d5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uu(Qa.current);var o=null;switch(n){case"input":i=DT(t,i),r=DT(t,r),o=[];break;case"select":i=Wn({},i,{value:void 0}),r=Wn({},r,{value:void 0}),o=[];break;case"textarea":i=UT(t,i),r=UT(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=j1)}BT(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(gg.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(gg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Rn("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};h5=function(t,e,n,r){n!==r&&(e.flags|=4)};function dm(t,e){if(!kn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ai(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OY(t,e,n){var r=e.pendingProps;switch(NC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(e),null;case 1:return to(e.type)&&H1(),ai(e),null;case 3:return r=e.stateNode,Ph(),Dn(eo),Dn(vi),HC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(O0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_a!==null&&(_A(_a),_a=null))),dA(t,e),ai(e),null;case 5:jC(e);var i=Uu(Pg.current);if(n=e.type,t!==null&&e.stateNode!=null)d5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return ai(e),null}if(t=Uu(Qa.current),O0(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ya]=e,r[Tg]=o,t=(e.mode&1)!==0,n){case"dialog":Rn("cancel",r),Rn("close",r);break;case"iframe":case"object":case"embed":Rn("load",r);break;case"video":case"audio":for(i=0;i<Vm.length;i++)Rn(Vm[i],r);break;case"source":Rn("error",r);break;case"img":case"image":case"link":Rn("error",r),Rn("load",r);break;case"details":Rn("toggle",r);break;case"input":h3(r,o),Rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Rn("invalid",r);break;case"textarea":m3(r,o),Rn("invalid",r)}BT(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&R0(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&R0(r.textContent,s,t),i=["children",""+s]):gg.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Rn("scroll",r)}switch(n){case"input":w0(r),p3(r,o,!0);break;case"textarea":w0(r),g3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=j1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jz(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ya]=e,t[Tg]=r,f5(t,e,!1,!1),e.stateNode=t;e:{switch(a=zT(n,r),n){case"dialog":Rn("cancel",t),Rn("close",t),i=r;break;case"iframe":case"object":case"embed":Rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vm.length;i++)Rn(Vm[i],t);i=r;break;case"source":Rn("error",t),i=r;break;case"img":case"image":case"link":Rn("error",t),Rn("load",t),i=r;break;case"details":Rn("toggle",t),i=r;break;case"input":h3(t,r),i=DT(t,r),Rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Wn({},r,{value:void 0}),Rn("invalid",t);break;case"textarea":m3(t,r),i=UT(t,r),Rn("invalid",t);break;default:i=r}BT(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Gz(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Hz(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&vg(t,l):typeof l=="number"&&vg(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Rn("scroll",t):l!=null&&yC(t,o,l,a))}switch(n){case"input":w0(t),p3(t,r,!1);break;case"textarea":w0(t),g3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?rh(t,!!r.multiple,o,!1):r.defaultValue!=null&&rh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=j1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ai(e),null;case 6:if(t&&e.stateNode!=null)h5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(n=Uu(Pg.current),Uu(Qa.current),O0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ya]=e,(o=r.nodeValue!==n)&&(t=Mo,t!==null))switch(t.tag){case 3:R0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&R0(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ya]=e,e.stateNode=r}return ai(e),null;case 13:if(Dn(Hn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kn&&Eo!==null&&e.mode&1&&!(e.flags&128))Oj(),Th(),e.flags|=98560,o=!1;else if(o=O0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ke(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ke(317));o[Ya]=e}else Th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ai(e),o=!1}else _a!==null&&(_A(_a),_a=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Hn.current&1?Mr===0&&(Mr=3):eR())),e.updateQueue!==null&&(e.flags|=4),ai(e),null);case 4:return Ph(),dA(t,e),t===null&&Eg(e.stateNode.containerInfo),ai(e),null;case 10:return UC(e.type._context),ai(e),null;case 17:return to(e.type)&&H1(),ai(e),null;case 19:if(Dn(Hn),o=e.memoizedState,o===null)return ai(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)dm(o,!1);else{if(Mr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Y1(t),a!==null){for(e.flags|=128,dm(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return An(Hn,Hn.current&1|2),e.child}t=t.sibling}o.tail!==null&&cr()>Rh&&(e.flags|=128,r=!0,dm(o,!1),e.lanes=4194304)}else{if(!r)if(t=Y1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!kn)return ai(e),null}else 2*cr()-o.renderingStartTime>Rh&&n!==1073741824&&(e.flags|=128,r=!0,dm(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=cr(),e.sibling=null,n=Hn.current,An(Hn,r?n&1|2:n&1),e):(ai(e),null);case 22:case 23:return QC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yo&1073741824&&(ai(e),e.subtreeFlags&6&&(e.flags|=8192)):ai(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function IY(t,e){switch(NC(e),e.tag){case 1:return to(e.type)&&H1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ph(),Dn(eo),Dn(vi),HC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jC(e),null;case 13:if(Dn(Hn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Th()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dn(Hn),null;case 4:return Ph(),null;case 10:return UC(e.type._context),null;case 22:case 23:return QC(),null;case 24:return null;default:return null}}var D0=!1,di=!1,NY=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Hd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zn(t,e,r)}else n.current=null}function hA(t,e,n){try{n()}catch(r){Zn(t,e,r)}}var oD=!1;function DY(t,e){if(KT=F1,t=yj(),OC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(s=a),d===o&&++u===r&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ZT={focusedElem:t,selectionRange:n},F1=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){e=ut;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,v=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:ha(e.type,x),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(w){Zn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}return g=oD,oD=!1,g}function Jm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&hA(e,n,o)}i=i.next}while(i!==r)}}function Pb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p5(t){var e=t.alternate;e!==null&&(t.alternate=null,p5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ya],delete e[Tg],delete e[eA],delete e[gY],delete e[vY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m5(t){return t.tag===5||t.tag===3||t.tag===4}function aD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=j1));else if(r!==4&&(t=t.child,t!==null))for(mA(t,e,n),t=t.sibling;t!==null;)mA(t,e,n),t=t.sibling}function gA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gA(t,e,n),t=t.sibling;t!==null;)gA(t,e,n),t=t.sibling}var Xr=null,ya=!1;function Dl(t,e,n){for(n=n.child;n!==null;)g5(t,e,n),n=n.sibling}function g5(t,e,n){if(Ja&&typeof Ja.onCommitFiberUnmount=="function")try{Ja.onCommitFiberUnmount(_b,n)}catch{}switch(n.tag){case 5:di||Hd(n,e);case 6:var r=Xr,i=ya;Xr=null,Dl(t,e,n),Xr=r,ya=i,Xr!==null&&(ya?(t=Xr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xr.removeChild(n.stateNode));break;case 18:Xr!==null&&(ya?(t=Xr,n=n.stateNode,t.nodeType===8?BE(t.parentNode,n):t.nodeType===1&&BE(t,n),bg(t)):BE(Xr,n.stateNode));break;case 4:r=Xr,i=ya,Xr=n.stateNode.containerInfo,ya=!0,Dl(t,e,n),Xr=r,ya=i;break;case 0:case 11:case 14:case 15:if(!di&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&hA(n,e,a),i=i.next}while(i!==r)}Dl(t,e,n);break;case 1:if(!di&&(Hd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Zn(n,e,s)}Dl(t,e,n);break;case 21:Dl(t,e,n);break;case 22:n.mode&1?(di=(r=di)||n.memoizedState!==null,Dl(t,e,n),di=r):Dl(t,e,n);break;default:Dl(t,e,n)}}function sD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NY),e.forEach(function(r){var i=VY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Xr=s.stateNode,ya=!1;break e;case 3:Xr=s.stateNode.containerInfo,ya=!0;break e;case 4:Xr=s.stateNode.containerInfo,ya=!0;break e}s=s.return}if(Xr===null)throw Error(Ke(160));g5(o,a,i),Xr=null,ya=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v5(e,t),e=e.sibling}function v5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sa(e,t),Ga(t),r&4){try{Jm(3,t,t.return),Pb(3,t)}catch(x){Zn(t,t.return,x)}try{Jm(5,t,t.return)}catch(x){Zn(t,t.return,x)}}break;case 1:sa(e,t),Ga(t),r&512&&n!==null&&Hd(n,n.return);break;case 5:if(sa(e,t),Ga(t),r&512&&n!==null&&Hd(n,n.return),t.flags&32){var i=t.stateNode;try{vg(i,"")}catch(x){Zn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Bz(i,o),zT(s,a);var c=zT(s,o);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?Gz(i,f):u==="dangerouslySetInnerHTML"?Hz(i,f):u==="children"?vg(i,f):yC(i,u,f,c)}switch(s){case"input":LT(i,o);break;case"textarea":zz(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?rh(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?rh(i,!!o.multiple,o.defaultValue,!0):rh(i,!!o.multiple,o.multiple?[]:"",!1))}i[Tg]=o}catch(x){Zn(t,t.return,x)}}break;case 6:if(sa(e,t),Ga(t),r&4){if(t.stateNode===null)throw Error(Ke(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){Zn(t,t.return,x)}}break;case 3:if(sa(e,t),Ga(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bg(e.containerInfo)}catch(x){Zn(t,t.return,x)}break;case 4:sa(e,t),Ga(t);break;case 13:sa(e,t),Ga(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ZC=cr())),r&4&&sD(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(di=(c=di)||u,sa(e,t),di=c):sa(e,t),Ga(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ut=t,u=t.child;u!==null;){for(f=ut=u;ut!==null;){switch(d=ut,h=d.child,d.tag){case 0:case 11:case 14:case 15:Jm(4,d,d.return);break;case 1:Hd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){Zn(r,n,x)}}break;case 5:Hd(d,d.return);break;case 22:if(d.memoizedState!==null){cD(f);continue}}h!==null?(h.return=d,ut=h):cD(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Vz("display",a))}catch(x){Zn(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Zn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sa(e,t),Ga(t),r&4&&sD(t);break;case 21:break;default:sa(e,t),Ga(t)}}function Ga(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(m5(n)){var r=n;break e}n=n.return}throw Error(Ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vg(i,""),r.flags&=-33);var o=aD(t);gA(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=aD(t);mA(t,s,a);break;default:throw Error(Ke(161))}}catch(l){Zn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LY(t,e,n){ut=t,y5(t)}function y5(t,e,n){for(var r=(t.mode&1)!==0;ut!==null;){var i=ut,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||D0;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||di;s=D0;var c=di;if(D0=a,(di=l)&&!c)for(ut=i;ut!==null;)a=ut,l=a.child,a.tag===22&&a.memoizedState!==null?uD(i):l!==null?(l.return=a,ut=l):uD(i);for(;o!==null;)ut=o,y5(o),o=o.sibling;ut=i,D0=s,di=c}lD(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ut=o):lD(t)}}function lD(t){for(;ut!==null;){var e=ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:di||Pb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!di)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ha(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&W3(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W3(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&bg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}di||e.flags&512&&pA(e)}catch(d){Zn(e,e.return,d)}}if(e===t){ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,ut=n;break}ut=e.return}}function cD(t){for(;ut!==null;){var e=ut;if(e===t){ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ut=n;break}ut=e.return}}function uD(t){for(;ut!==null;){var e=ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pb(4,e)}catch(l){Zn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zn(e,i,l)}}var o=e.return;try{pA(e)}catch(l){Zn(e,o,l)}break;case 5:var a=e.return;try{pA(e)}catch(l){Zn(e,a,l)}}}catch(l){Zn(e,e.return,l)}if(e===t){ut=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ut=s;break}ut=e.return}}var kY=Math.ceil,J1=vl.ReactCurrentDispatcher,YC=vl.ReactCurrentOwner,Jo=vl.ReactCurrentBatchConfig,Kt=0,zr=null,vr=null,qr=0,yo=0,Vd=Dc(0),Mr=0,Ig=null,hf=0,Cb=0,KC=0,Qm=null,Yi=null,ZC=0,Rh=1/0,Fs=null,Q1=!1,vA=null,mc=null,L0=!1,sc=null,e_=0,eg=0,yA=null,d1=-1,h1=0;function Ui(){return Kt&6?cr():d1!==-1?d1:d1=cr()}function gc(t){return t.mode&1?Kt&2&&qr!==0?qr&-qr:xY.transition!==null?(h1===0&&(h1=nj()),h1):(t=dn,t!==0||(t=window.event,t=t===void 0?16:cj(t.type)),t):1}function Aa(t,e,n,r){if(50<eg)throw eg=0,yA=null,Error(Ke(185));qv(t,n,r),(!(Kt&2)||t!==zr)&&(t===zr&&(!(Kt&2)&&(Cb|=n),Mr===4&&Jl(t,qr)),no(t,r),n===1&&Kt===0&&!(e.mode&1)&&(Rh=cr()+500,Mb&&Lc()))}function no(t,e){var n=t.callbackNode;xq(t,e);var r=U1(t,t===zr?qr:0);if(r===0)n!==null&&x3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x3(n),e===1)t.tag===0?yY(fD.bind(null,t)):Pj(fD.bind(null,t)),pY(function(){!(Kt&6)&&Lc()}),n=null;else{switch(rj(r)){case 1:n=SC;break;case 4:n=ej;break;case 16:n=k1;break;case 536870912:n=tj;break;default:n=k1}n=T5(n,x5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x5(t,e){if(d1=-1,h1=0,Kt&6)throw Error(Ke(327));var n=t.callbackNode;if(lh()&&t.callbackNode!==n)return null;var r=U1(t,t===zr?qr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=t_(t,r);else{e=r;var i=Kt;Kt|=2;var o=b5();(zr!==t||qr!==e)&&(Fs=null,Rh=cr()+500,Ju(t,e));do try{BY();break}catch(s){_5(t,s)}while(!0);kC(),J1.current=o,Kt=i,vr!==null?e=0:(zr=null,qr=0,e=Mr)}if(e!==0){if(e===2&&(i=$T(t),i!==0&&(r=i,e=xA(t,i))),e===1)throw n=Ig,Ju(t,0),Jl(t,r),no(t,cr()),n;if(e===6)Jl(t,r);else{if(i=t.current.alternate,!(r&30)&&!UY(i)&&(e=t_(t,r),e===2&&(o=$T(t),o!==0&&(r=o,e=xA(t,o))),e===1))throw n=Ig,Ju(t,0),Jl(t,r),no(t,cr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:Eu(t,Yi,Fs);break;case 3:if(Jl(t,r),(r&130023424)===r&&(e=ZC+500-cr(),10<e)){if(U1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ui(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=QT(Eu.bind(null,t,Yi,Fs),e);break}Eu(t,Yi,Fs);break;case 4:if(Jl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ta(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=cr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kY(r/1960))-r,10<r){t.timeoutHandle=QT(Eu.bind(null,t,Yi,Fs),r);break}Eu(t,Yi,Fs);break;case 5:Eu(t,Yi,Fs);break;default:throw Error(Ke(329))}}}return no(t,cr()),t.callbackNode===n?x5.bind(null,t):null}function xA(t,e){var n=Qm;return t.current.memoizedState.isDehydrated&&(Ju(t,e).flags|=256),t=t_(t,e),t!==2&&(e=Yi,Yi=n,e!==null&&_A(e)),t}function _A(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function UY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ca(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jl(t,e){for(e&=~KC,e&=~Cb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ta(e),r=1<<n;t[n]=-1,e&=~r}}function fD(t){if(Kt&6)throw Error(Ke(327));lh();var e=U1(t,0);if(!(e&1))return no(t,cr()),null;var n=t_(t,e);if(t.tag!==0&&n===2){var r=$T(t);r!==0&&(e=r,n=xA(t,r))}if(n===1)throw n=Ig,Ju(t,0),Jl(t,e),no(t,cr()),n;if(n===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Eu(t,Yi,Fs),no(t,cr()),null}function JC(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(Rh=cr()+500,Mb&&Lc())}}function pf(t){sc!==null&&sc.tag===0&&!(Kt&6)&&lh();var e=Kt;Kt|=1;var n=Jo.transition,r=dn;try{if(Jo.transition=null,dn=1,t)return t()}finally{dn=r,Jo.transition=n,Kt=e,!(Kt&6)&&Lc()}}function QC(){yo=Vd.current,Dn(Vd)}function Ju(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hY(n)),vr!==null)for(n=vr.return;n!==null;){var r=n;switch(NC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&H1();break;case 3:Ph(),Dn(eo),Dn(vi),HC();break;case 5:jC(r);break;case 4:Ph();break;case 13:Dn(Hn);break;case 19:Dn(Hn);break;case 10:UC(r.type._context);break;case 22:case 23:QC()}n=n.return}if(zr=t,vr=t=vc(t.current,null),qr=yo=e,Mr=0,Ig=null,KC=Cb=hf=0,Yi=Qm=null,ku!==null){for(e=0;e<ku.length;e++)if(n=ku[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ku=null}return t}function _5(t,e){do{var n=vr;try{if(kC(),c1.current=Z1,K1){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}K1=!1}if(df=0,Fr=Sr=$n=null,Zm=!1,Cg=0,YC.current=null,n===null||n.return===null){Mr=1,Ig=e,vr=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=qr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=J3(a);if(h!==null){h.flags&=-257,Q3(h,a,s,o,e),h.mode&1&&Z3(o,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){Z3(o,c,e),eR();break e}l=Error(Ke(426))}}else if(kn&&s.mode&1){var v=J3(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Q3(v,a,s,o,e),DC(Ch(l,s));break e}}o=l=Ch(l,s),Mr!==4&&(Mr=2),Qm===null?Qm=[o]:Qm.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=r5(o,l,e);$3(o,y);break e;case 1:s=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(mc===null||!mc.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=i5(o,s,e);$3(o,w);break e}}o=o.return}while(o!==null)}S5(n)}catch(E){e=E,vr===n&&n!==null&&(vr=n=n.return);continue}break}while(!0)}function b5(){var t=J1.current;return J1.current=Z1,t===null?Z1:t}function eR(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),zr===null||!(hf&268435455)&&!(Cb&268435455)||Jl(zr,qr)}function t_(t,e){var n=Kt;Kt|=2;var r=b5();(zr!==t||qr!==e)&&(Fs=null,Ju(t,e));do try{FY();break}catch(i){_5(t,i)}while(!0);if(kC(),Kt=n,J1.current=r,vr!==null)throw Error(Ke(261));return zr=null,qr=0,Mr}function FY(){for(;vr!==null;)w5(vr)}function BY(){for(;vr!==null&&!uq();)w5(vr)}function w5(t){var e=M5(t.alternate,t,yo);t.memoizedProps=t.pendingProps,e===null?S5(t):vr=e,YC.current=null}function S5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IY(n,e),n!==null){n.flags&=32767,vr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mr=6,vr=null;return}}else if(n=OY(n,e,yo),n!==null){vr=n;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);Mr===0&&(Mr=5)}function Eu(t,e,n){var r=dn,i=Jo.transition;try{Jo.transition=null,dn=1,zY(t,e,n,r)}finally{Jo.transition=i,dn=r}return null}function zY(t,e,n,r){do lh();while(sc!==null);if(Kt&6)throw Error(Ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(_q(t,o),t===zr&&(vr=zr=null,qr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||L0||(L0=!0,T5(k1,function(){return lh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jo.transition,Jo.transition=null;var a=dn;dn=1;var s=Kt;Kt|=4,YC.current=null,DY(t,n),v5(n,t),aY(ZT),F1=!!KT,ZT=KT=null,t.current=n,LY(n),fq(),Kt=s,dn=a,Jo.transition=o}else t.current=n;if(L0&&(L0=!1,sc=t,e_=i),o=t.pendingLanes,o===0&&(mc=null),pq(n.stateNode),no(t,cr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Q1)throw Q1=!1,t=vA,vA=null,t;return e_&1&&t.tag!==0&&lh(),o=t.pendingLanes,o&1?t===yA?eg++:(eg=0,yA=t):eg=0,Lc(),null}function lh(){if(sc!==null){var t=rj(e_),e=Jo.transition,n=dn;try{if(Jo.transition=null,dn=16>t?16:t,sc===null)var r=!1;else{if(t=sc,sc=null,e_=0,Kt&6)throw Error(Ke(331));var i=Kt;for(Kt|=4,ut=t.current;ut!==null;){var o=ut,a=o.child;if(ut.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ut=c;ut!==null;){var u=ut;switch(u.tag){case 0:case 11:case 15:Jm(8,u,o)}var f=u.child;if(f!==null)f.return=u,ut=f;else for(;ut!==null;){u=ut;var d=u.sibling,h=u.return;if(p5(u),u===c){ut=null;break}if(d!==null){d.return=h,ut=d;break}ut=h}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}ut=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ut=a;else e:for(;ut!==null;){if(o=ut,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jm(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ut=y;break e}ut=o.return}}var _=t.current;for(ut=_;ut!==null;){a=ut;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ut=b;else e:for(a=_;ut!==null;){if(s=ut,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Pb(9,s)}}catch(E){Zn(s,s.return,E)}if(s===a){ut=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,ut=w;break e}ut=s.return}}if(Kt=i,Lc(),Ja&&typeof Ja.onPostCommitFiberRoot=="function")try{Ja.onPostCommitFiberRoot(_b,t)}catch{}r=!0}return r}finally{dn=n,Jo.transition=e}}return!1}function dD(t,e,n){e=Ch(n,e),e=r5(t,e,1),t=pc(t,e,1),e=Ui(),t!==null&&(qv(t,1,e),no(t,e))}function Zn(t,e,n){if(t.tag===3)dD(t,t,n);else for(;e!==null;){if(e.tag===3){dD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mc===null||!mc.has(r))){t=Ch(n,t),t=i5(e,t,1),e=pc(e,t,1),t=Ui(),e!==null&&(qv(e,1,t),no(e,t));break}}e=e.return}}function jY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ui(),t.pingedLanes|=t.suspendedLanes&n,zr===t&&(qr&n)===n&&(Mr===4||Mr===3&&(qr&130023424)===qr&&500>cr()-ZC?Ju(t,0):KC|=n),no(t,e)}function E5(t,e){e===0&&(t.mode&1?(e=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):e=1);var n=Ui();t=ol(t,e),t!==null&&(qv(t,e,n),no(t,n))}function HY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E5(t,n)}function VY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),E5(t,n)}var M5;M5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||eo.current)Ji=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ji=!1,RY(t,e,n);Ji=!!(t.flags&131072)}else Ji=!1,kn&&e.flags&1048576&&Cj(e,$1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;f1(t,e),t=e.pendingProps;var i=Mh(e,vi.current);sh(e,n),i=GC(null,e,r,t,i,n);var o=$C();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,to(r)?(o=!0,V1(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BC(e),i.updater=Ab,e.stateNode=i,i._reactInternals=e,aA(e,r,t,n),e=cA(null,e,r,!0,o,n)):(e.tag=0,kn&&o&&IC(e),Oi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(f1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$Y(r),t=ha(r,t),i){case 0:e=lA(null,e,r,t,n);break e;case 1:e=nD(null,e,r,t,n);break e;case 11:e=eD(null,e,r,t,n);break e;case 14:e=tD(null,e,r,ha(r.type,t),n);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),lA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),nD(t,e,r,i,n);case 3:e:{if(l5(e),t===null)throw Error(Ke(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Lj(t,e),q1(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ch(Error(Ke(423)),e),e=rD(t,e,r,n,i);break e}else if(r!==i){i=Ch(Error(Ke(424)),e),e=rD(t,e,r,n,i);break e}else for(Eo=hc(e.stateNode.containerInfo.firstChild),Mo=e,kn=!0,_a=null,n=Nj(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Th(),r===i){e=al(t,e,n);break e}Oi(t,e,r,n)}e=e.child}return e;case 5:return kj(e),t===null&&rA(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,JT(r,i)?a=null:o!==null&&JT(r,o)&&(e.flags|=32),s5(t,e),Oi(t,e,a,n),e.child;case 6:return t===null&&rA(e),null;case 13:return c5(t,e,n);case 4:return zC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ah(e,null,r,n):Oi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),eD(t,e,r,i,n);case 7:return Oi(t,e,e.pendingProps,n),e.child;case 8:return Oi(t,e,e.pendingProps.children,n),e.child;case 12:return Oi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,An(W1,r._currentValue),r._currentValue=a,o!==null)if(Ca(o.value,a)){if(o.children===i.children&&!eo.current){e=al(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Js(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),iA(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Ke(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),iA(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Oi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sh(e,n),i=ea(i),r=r(i),e.flags|=1,Oi(t,e,r,n),e.child;case 14:return r=e.type,i=ha(r,e.pendingProps),i=ha(r.type,i),tD(t,e,r,i,n);case 15:return o5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ha(r,i),f1(t,e),e.tag=1,to(r)?(t=!0,V1(e)):t=!1,sh(e,n),n5(e,r,i),aA(e,r,i,n),cA(null,e,r,!0,t,n);case 19:return u5(t,e,n);case 22:return a5(t,e,n)}throw Error(Ke(156,e.tag))};function T5(t,e){return Qz(t,e)}function GY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(t,e,n,r){return new GY(t,e,n,r)}function tR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $Y(t){if(typeof t=="function")return tR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_C)return 11;if(t===bC)return 14}return 2}function vc(t,e){var n=t.alternate;return n===null?(n=Ko(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function p1(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")tR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nd:return Qu(n.children,i,o,e);case xC:a=8,i|=8;break;case RT:return t=Ko(12,n,e,i|2),t.elementType=RT,t.lanes=o,t;case OT:return t=Ko(13,n,e,i),t.elementType=OT,t.lanes=o,t;case IT:return t=Ko(19,n,e,i),t.elementType=IT,t.lanes=o,t;case kz:return Rb(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dz:a=10;break e;case Lz:a=9;break e;case _C:a=11;break e;case bC:a=14;break e;case Wl:a=16,r=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=Ko(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Qu(t,e,n,r){return t=Ko(7,t,r,e),t.lanes=n,t}function Rb(t,e,n,r){return t=Ko(22,t,r,e),t.elementType=kz,t.lanes=n,t.stateNode={isHidden:!1},t}function XE(t,e,n){return t=Ko(6,t,null,e),t.lanes=n,t}function qE(t,e,n){return e=Ko(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=PE(0),this.expirationTimes=PE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=PE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nR(t,e,n,r,i,o,a,s,l){return t=new WY(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ko(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BC(o),t}function XY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Id,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A5(t){if(!t)return Ac;t=t._reactInternals;e:{if(Pf(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(to(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var n=t.type;if(to(n))return Aj(t,n,e)}return e}function P5(t,e,n,r,i,o,a,s,l){return t=nR(n,r,!0,t,i,o,a,s,l),t.context=A5(null),n=t.current,r=Ui(),i=gc(n),o=Js(r,i),o.callback=e??null,pc(n,o,i),t.current.lanes=i,qv(t,i,r),no(t,r),t}function Ob(t,e,n,r){var i=e.current,o=Ui(),a=gc(i);return n=A5(n),e.context===null?e.context=n:e.pendingContext=n,e=Js(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pc(i,e,a),t!==null&&(Aa(t,i,a,o),l1(t,i,a)),a}function n_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rR(t,e){hD(t,e),(t=t.alternate)&&hD(t,e)}function qY(){return null}var C5=typeof reportError=="function"?reportError:function(t){console.error(t)};function iR(t){this._internalRoot=t}Ib.prototype.render=iR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));Ob(t,e,null,null)};Ib.prototype.unmount=iR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pf(function(){Ob(null,t,null,null)}),e[il]=null}};function Ib(t){this._internalRoot=t}Ib.prototype.unstable_scheduleHydration=function(t){if(t){var e=aj();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zl.length&&e!==0&&e<Zl[n].priority;n++);Zl.splice(n,0,t),n===0&&lj(t)}};function oR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pD(){}function YY(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=n_(a);o.call(c)}}var a=P5(e,r,t,0,null,!1,!1,"",pD);return t._reactRootContainer=a,t[il]=a.current,Eg(t.nodeType===8?t.parentNode:t),pf(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=n_(l);s.call(c)}}var l=nR(t,0,!1,null,null,!1,!1,"",pD);return t._reactRootContainer=l,t[il]=l.current,Eg(t.nodeType===8?t.parentNode:t),pf(function(){Ob(e,l,n,r)}),l}function Db(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=n_(a);s.call(l)}}Ob(e,a,t,i)}else a=YY(n,e,t,i,r);return n_(a)}ij=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hm(e.pendingLanes);n!==0&&(EC(e,n|1),no(e,cr()),!(Kt&6)&&(Rh=cr()+500,Lc()))}break;case 13:pf(function(){var r=ol(t,1);if(r!==null){var i=Ui();Aa(r,t,1,i)}}),rR(t,1)}};MC=function(t){if(t.tag===13){var e=ol(t,134217728);if(e!==null){var n=Ui();Aa(e,t,134217728,n)}rR(t,134217728)}};oj=function(t){if(t.tag===13){var e=gc(t),n=ol(t,e);if(n!==null){var r=Ui();Aa(n,t,e,r)}rR(t,e)}};aj=function(){return dn};sj=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}};HT=function(t,e,n){switch(e){case"input":if(LT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Eb(r);if(!i)throw Error(Ke(90));Fz(r),LT(r,i)}}}break;case"textarea":zz(t,n);break;case"select":e=n.value,e!=null&&rh(t,!!n.multiple,e,!1)}};Xz=JC;qz=pf;var KY={usingClientEntryPoint:!1,Events:[Kv,Ud,Eb,$z,Wz,JC]},hm={findFiberByHostInstance:Lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZY={bundleType:hm.bundleType,version:hm.version,rendererPackageName:hm.rendererPackageName,rendererConfig:hm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zz(t),t===null?null:t.stateNode},findFiberByHostInstance:hm.findFiberByHostInstance||qY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{_b=k0.inject(ZY),Ja=k0}catch{}}Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KY;Ro.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oR(e))throw Error(Ke(200));return XY(t,e,null,n)};Ro.createRoot=function(t,e){if(!oR(t))throw Error(Ke(299));var n=!1,r="",i=C5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nR(t,1,!1,null,null,n,!1,r,i),t[il]=e.current,Eg(t.nodeType===8?t.parentNode:t),new iR(e)};Ro.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=Zz(e),t=t===null?null:t.stateNode,t};Ro.flushSync=function(t){return pf(t)};Ro.hydrate=function(t,e,n){if(!Nb(e))throw Error(Ke(200));return Db(null,t,e,!0,n)};Ro.hydrateRoot=function(t,e,n){if(!oR(t))throw Error(Ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=C5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=P5(e,null,t,1,n??null,i,!1,o,a),t[il]=e.current,Eg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ib(e)};Ro.render=function(t,e,n){if(!Nb(e))throw Error(Ke(200));return Db(null,t,e,!1,n)};Ro.unmountComponentAtNode=function(t){if(!Nb(t))throw Error(Ke(40));return t._reactRootContainer?(pf(function(){Db(null,null,t,!1,function(){t._reactRootContainer=null,t[il]=null})}),!0):!1};Ro.unstable_batchedUpdates=JC;Ro.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nb(n))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return Db(t,e,n,!1,r)};Ro.version="18.3.1-next-f1338f8080-20240426";function R5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R5)}catch(t){console.error(t)}}R5(),Rz.exports=Ro;var Jv=Rz.exports;const O5=rn(Jv);var I5,mD=Jv;I5=mD.createRoot,mD.hydrateRoot;const JY=1,QY=1e6;let YE=0;function eK(){return YE=(YE+1)%Number.MAX_SAFE_INTEGER,YE.toString()}const KE=new Map,gD=t=>{if(KE.has(t))return;const e=setTimeout(()=>{KE.delete(t),tg({type:"REMOVE_TOAST",toastId:t})},QY);KE.set(t,e)},tK=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,JY)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gD(n):t.toasts.forEach(r=>{gD(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},m1=[];let g1={toasts:[]};function tg(t){g1=tK(g1,t),m1.forEach(e=>{e(g1)})}function nK({...t}){const e=eK(),n=i=>tg({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>tg({type:"DISMISS_TOAST",toastId:e});return tg({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function rK(){const[t,e]=L.useState(g1);return L.useEffect(()=>(m1.push(e),()=>{const n=m1.indexOf(e);n>-1&&m1.splice(n,1)}),[t]),{...t,toast:nK,dismiss:n=>tg({type:"DISMISS_TOAST",toastId:n})}}function qt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function vD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function N5(...t){return e=>{let n=!1;const r=t.map(i=>{const o=vD(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():vD(t[i],null)}}}}function xr(...t){return L.useCallback(N5(...t),t)}function yl(t,e=[]){let n=[];function r(o,a){const s=L.createContext(a),l=n.length;n=[...n,a];const c=f=>{var y;const{scope:d,children:h,...g}=f,x=((y=d==null?void 0:d[t])==null?void 0:y[l])||s,v=L.useMemo(()=>g,Object.values(g));return C.jsx(x.Provider,{value:v,children:h})};c.displayName=o+"Provider";function u(f,d){var x;const h=((x=d==null?void 0:d[t])==null?void 0:x[l])||s,g=L.useContext(h);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(a=>L.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return L.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,iK(i,...e)]}function iK(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return L.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function r_(t){const e=aK(t),n=L.forwardRef((r,i)=>{const{children:o,...a}=r,s=L.Children.toArray(o),l=s.find(lK);if(l){const c=l.props.children,u=s.map(f=>f===l?L.Children.count(c)>1?L.Children.only(null):L.isValidElement(c)?c.props.children:null:f);return C.jsx(e,{...a,ref:i,children:L.isValidElement(c)?L.cloneElement(c,void 0,u):null})}return C.jsx(e,{...a,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var oK=r_("Slot");function aK(t){const e=L.forwardRef((n,r)=>{const{children:i,...o}=n;if(L.isValidElement(i)){const a=uK(i),s=cK(o,i.props);return i.type!==L.Fragment&&(s.ref=r?N5(r,a):a),L.cloneElement(i,s)}return L.Children.count(i)>1?L.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D5=Symbol("radix.slottable");function sK(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=D5,e}function lK(t){return L.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D5}function cK(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function uK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lb(t){const e=t+"CollectionProvider",[n,r]=yl(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:v,children:y}=x,_=J.useRef(null),b=J.useRef(new Map).current;return C.jsx(i,{scope:v,itemMap:b,collectionRef:_,children:y})};a.displayName=e;const s=t+"CollectionSlot",l=r_(s),c=J.forwardRef((x,v)=>{const{scope:y,children:_}=x,b=o(s,y),w=xr(v,b.collectionRef);return C.jsx(l,{ref:w,children:_})});c.displayName=s;const u=t+"CollectionItemSlot",f="data-radix-collection-item",d=r_(u),h=J.forwardRef((x,v)=>{const{scope:y,children:_,...b}=x,w=J.useRef(null),E=xr(v,w),M=o(u,y);return J.useEffect(()=>(M.itemMap.set(w,{ref:w,...b}),()=>void M.itemMap.delete(w))),C.jsx(d,{[f]:"",ref:E,children:_})});h.displayName=u;function g(x){const v=o(t+"CollectionConsumer",x);return J.useCallback(()=>{const _=v.collectionRef.current;if(!_)return[];const b=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((M,T)=>b.indexOf(M.ref.current)-b.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},g,r]}var fK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],on=fK.reduce((t,e)=>{const n=r_(`Primitive.${e}`),r=L.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function L5(t,e){t&&Jv.flushSync(()=>t.dispatchEvent(e))}function sl(t){const e=L.useRef(t);return L.useEffect(()=>{e.current=t}),L.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function dK(t,e=globalThis==null?void 0:globalThis.document){const n=sl(t);L.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var hK="DismissableLayer",bA="dismissableLayer.update",pK="dismissableLayer.pointerDownOutside",mK="dismissableLayer.focusOutside",yD,k5=L.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aR=L.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=L.useContext(k5),[u,f]=L.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=L.useState({}),g=xr(e,T=>f(T)),x=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(v),_=u?x.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=y,E=vK(T=>{const O=T.target,P=[...c.branches].some(R=>R.contains(O));!w||P||(i==null||i(T),a==null||a(T),T.defaultPrevented||s==null||s())},d),M=yK(T=>{const O=T.target;[...c.branches].some(R=>R.contains(O))||(o==null||o(T),a==null||a(T),T.defaultPrevented||s==null||s())},d);return dK(T=>{_===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},d),L.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yD=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),xD(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=yD)}},[u,d,n,c]),L.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),xD())},[u,c]),L.useEffect(()=>{const T=()=>h({});return document.addEventListener(bA,T),()=>document.removeEventListener(bA,T)},[]),C.jsx(on.div,{...l,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:qt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:qt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:qt(t.onPointerDownCapture,E.onPointerDownCapture)})});aR.displayName=hK;var gK="DismissableLayerBranch",U5=L.forwardRef((t,e)=>{const n=L.useContext(k5),r=L.useRef(null),i=xr(e,r);return L.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),C.jsx(on.div,{...t,ref:i})});U5.displayName=gK;function vK(t,e=globalThis==null?void 0:globalThis.document){const n=sl(t),r=L.useRef(!1),i=L.useRef(()=>{});return L.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){F5(pK,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function yK(t,e=globalThis==null?void 0:globalThis.document){const n=sl(t),r=L.useRef(!1);return L.useEffect(()=>{const i=o=>{o.target&&!r.current&&F5(mK,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xD(){const t=new CustomEvent(bA);document.dispatchEvent(t)}function F5(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?L5(i,o):i.dispatchEvent(o)}var xK=aR,_K=U5,as=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},bK="Portal",B5=L.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=L.useState(!1);as(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?O5.createPortal(C.jsx(on.div,{...r,ref:e}),a):null});B5.displayName=bK;function wK(t,e){return L.useReducer((n,r)=>e[n][r]??n,t)}var Qv=t=>{const{present:e,children:n}=t,r=SK(e),i=typeof n=="function"?n({present:r.isPresent}):L.Children.only(n),o=xr(r.ref,EK(i));return typeof n=="function"||r.isPresent?L.cloneElement(i,{ref:o}):null};Qv.displayName="Presence";function SK(t){const[e,n]=L.useState(),r=L.useRef(null),i=L.useRef(t),o=L.useRef("none"),a=t?"mounted":"unmounted",[s,l]=wK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return L.useEffect(()=>{const c=U0(r.current);o.current=s==="mounted"?c:"none"},[s]),as(()=>{const c=r.current,u=i.current;if(u!==t){const d=o.current,h=U0(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),as(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const x=U0(r.current).includes(h.animationName);if(h.target===e&&x&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},d=h=>{h.target===e&&(o.current=U0(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:L.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function U0(t){return(t==null?void 0:t.animationName)||"none"}function EK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var MK=mC[" useInsertionEffect ".trim().toString()]||as;function kc({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,a]=TK({defaultProp:e,onChange:n}),s=t!==void 0,l=s?t:i;{const u=L.useRef(t!==void 0);L.useEffect(()=>{const f=u.current;f!==s&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=s},[s,r])}const c=L.useCallback(u=>{var f;if(s){const d=AK(u)?u(t):u;d!==t&&((f=a.current)==null||f.call(a,d))}else o(u)},[s,t,o,a]);return[l,c]}function TK({defaultProp:t,onChange:e}){const[n,r]=L.useState(t),i=L.useRef(n),o=L.useRef(e);return MK(()=>{o.current=e},[e]),L.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function AK(t){return typeof t=="function"}var PK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CK="VisuallyHidden",kb=L.forwardRef((t,e)=>C.jsx(on.span,{...t,ref:e,style:{...PK,...t.style}}));kb.displayName=CK;var RK=kb,sR="ToastProvider",[lR,OK,IK]=Lb("Toast"),[z5,CUe]=yl("Toast",[IK]),[NK,Ub]=z5(sR),j5=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:a}=t,[s,l]=L.useState(null),[c,u]=L.useState(0),f=L.useRef(!1),d=L.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${sR}\`. Expected non-empty \`string\`.`),C.jsx(lR.Provider,{scope:e,children:C.jsx(NK,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange:l,onToastAdd:L.useCallback(()=>u(h=>h+1),[]),onToastRemove:L.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:a})})};j5.displayName=sR;var H5="ToastViewport",DK=["F8"],wA="toast.viewportPause",SA="toast.viewportResume",V5=L.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=DK,label:i="Notifications ({hotkey})",...o}=t,a=Ub(H5,n),s=OK(n),l=L.useRef(null),c=L.useRef(null),u=L.useRef(null),f=L.useRef(null),d=xr(e,f,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;L.useEffect(()=>{const v=y=>{var b;r.length!==0&&r.every(w=>y[w]||y.code===w)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),L.useEffect(()=>{const v=l.current,y=f.current;if(g&&v&&y){const _=()=>{if(!a.isClosePausedRef.current){const M=new CustomEvent(wA);y.dispatchEvent(M),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const M=new CustomEvent(SA);y.dispatchEvent(M),a.isClosePausedRef.current=!1}},w=M=>{!v.contains(M.relatedTarget)&&b()},E=()=>{v.contains(document.activeElement)||b()};return v.addEventListener("focusin",_),v.addEventListener("focusout",w),v.addEventListener("pointermove",_),v.addEventListener("pointerleave",E),window.addEventListener("blur",_),window.addEventListener("focus",b),()=>{v.removeEventListener("focusin",_),v.removeEventListener("focusout",w),v.removeEventListener("pointermove",_),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",_),window.removeEventListener("focus",b)}}},[g,a.isClosePausedRef]);const x=L.useCallback(({tabbingDirection:v})=>{const _=s().map(b=>{const w=b.ref.current,E=[w,...XK(w)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?_.reverse():_).flat()},[s]);return L.useEffect(()=>{const v=f.current;if(v){const y=_=>{var E,M,T;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const O=document.activeElement,P=_.shiftKey;if(_.target===v&&P){(E=c.current)==null||E.focus();return}const D=x({tabbingDirection:P?"backwards":"forwards"}),G=D.findIndex(N=>N===O);ZE(D.slice(G+1))?_.preventDefault():P?(M=c.current)==null||M.focus():(T=u.current)==null||T.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[s,x]),C.jsxs(_K,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&C.jsx(EA,{ref:c,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});ZE(v)}}),C.jsx(lR.Slot,{scope:n,children:C.jsx(on.ol,{tabIndex:-1,...o,ref:d})}),g&&C.jsx(EA,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});ZE(v)}})]})});V5.displayName=H5;var G5="ToastFocusProxy",EA=L.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=Ub(G5,n);return C.jsx(kb,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const s=a.relatedTarget;!((c=o.viewport)!=null&&c.contains(s))&&r()}})});EA.displayName=G5;var ey="Toast",LK="toast.swipeStart",kK="toast.swipeMove",UK="toast.swipeCancel",FK="toast.swipeEnd",$5=L.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...a}=t,[s,l]=kc({prop:r,defaultProp:i??!0,onChange:o,caller:ey});return C.jsx(Qv,{present:n||s,children:C.jsx(jK,{open:s,...a,ref:e,onClose:()=>l(!1),onPause:sl(t.onPause),onResume:sl(t.onResume),onSwipeStart:qt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qt(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:qt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qt(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});$5.displayName=ey;var[BK,zK]=z5(ey,{onClose(){}}),jK=L.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:a,onEscapeKeyDown:s,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...g}=t,x=Ub(ey,n),[v,y]=L.useState(null),_=xr(e,N=>y(N)),b=L.useRef(null),w=L.useRef(null),E=i||x.duration,M=L.useRef(0),T=L.useRef(E),O=L.useRef(0),{onToastAdd:P,onToastRemove:R}=x,k=sl(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=x.viewport)==null||$.focus()),a()}),D=L.useCallback(N=>{!N||N===1/0||(window.clearTimeout(O.current),M.current=new Date().getTime(),O.current=window.setTimeout(k,N))},[k]);L.useEffect(()=>{const N=x.viewport;if(N){const $=()=>{D(T.current),c==null||c()},H=()=>{const K=new Date().getTime()-M.current;T.current=T.current-K,window.clearTimeout(O.current),l==null||l()};return N.addEventListener(wA,H),N.addEventListener(SA,$),()=>{N.removeEventListener(wA,H),N.removeEventListener(SA,$)}}},[x.viewport,E,l,c,D]),L.useEffect(()=>{o&&!x.isClosePausedRef.current&&D(E)},[o,E,x.isClosePausedRef,D]),L.useEffect(()=>(P(),()=>R()),[P,R]);const G=L.useMemo(()=>v?J5(v):null,[v]);return x.viewport?C.jsxs(C.Fragment,{children:[G&&C.jsx(HK,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:G}),C.jsx(BK,{scope:n,onClose:k,children:Jv.createPortal(C.jsx(lR.ItemSlot,{scope:n,children:C.jsx(xK,{asChild:!0,onEscapeKeyDown:qt(s,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(on.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qt(t.onKeyDown,N=>{N.key==="Escape"&&(s==null||s(N.nativeEvent),N.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:qt(t.onPointerDown,N=>{N.button===0&&(b.current={x:N.clientX,y:N.clientY})}),onPointerMove:qt(t.onPointerMove,N=>{if(!b.current)return;const $=N.clientX-b.current.x,H=N.clientY-b.current.y,K=!!w.current,U=["left","right"].includes(x.swipeDirection),F=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,j=U?F(0,$):0,z=U?0:F(0,H),X=N.pointerType==="touch"?10:2,q={x:j,y:z},Z={originalEvent:N,delta:q};K?(w.current=q,F0(kK,f,Z,{discrete:!1})):_D(q,x.swipeDirection,X)?(w.current=q,F0(LK,u,Z,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs($)>X||Math.abs(H)>X)&&(b.current=null)}),onPointerUp:qt(t.onPointerUp,N=>{const $=w.current,H=N.target;if(H.hasPointerCapture(N.pointerId)&&H.releasePointerCapture(N.pointerId),w.current=null,b.current=null,$){const K=N.currentTarget,U={originalEvent:N,delta:$};_D($,x.swipeDirection,x.swipeThreshold)?F0(FK,h,U,{discrete:!0}):F0(UK,d,U,{discrete:!0}),K.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),HK=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ub(ey,e),[o,a]=L.useState(!1),[s,l]=L.useState(!1);return $K(()=>a(!0)),L.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),s?null:C.jsx(B5,{asChild:!0,children:C.jsx(kb,{...r,children:o&&C.jsxs(C.Fragment,{children:[i.label," ",n]})})})},VK="ToastTitle",W5=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(on.div,{...r,ref:e})});W5.displayName=VK;var GK="ToastDescription",X5=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return C.jsx(on.div,{...r,ref:e})});X5.displayName=GK;var q5="ToastAction",Y5=L.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?C.jsx(Z5,{altText:n,asChild:!0,children:C.jsx(cR,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${q5}\`. Expected non-empty \`string\`.`),null)});Y5.displayName=q5;var K5="ToastClose",cR=L.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=zK(K5,n);return C.jsx(Z5,{asChild:!0,children:C.jsx(on.button,{type:"button",...r,ref:e,onClick:qt(t.onClick,i.onClose)})})});cR.displayName=K5;var Z5=L.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return C.jsx(on.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function J5(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),WK(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...J5(r))}}),e}function F0(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?L5(i,o):i.dispatchEvent(o)}var _D=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function $K(t=()=>{}){const e=sl(t);as(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function WK(t){return t.nodeType===t.ELEMENT_NODE}function XK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZE(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var qK=j5,Q5=V5,e6=$5,t6=W5,n6=X5,r6=Y5,i6=cR;function o6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=o6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=o6(t))&&(r&&(r+=" "),r+=e);return r}const bD=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,wD=zt,ty=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return wD(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=bD(u)||bD(f);return i[c][d]}),s=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(g=>{let[x,v]=g;return Array.isArray(v)?v.includes({...o,...s}[x]):{...o,...s}[x]===v})?[...c,f,d]:c},[]);return wD(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a6=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>L.createElement("svg",{ref:l,...KK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a6("lucide",i),...s},[...a.map(([c,u])=>L.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=(t,e)=>{const n=L.forwardRef(({className:r,...i},o)=>L.createElement(ZK,{ref:o,iconNode:e,className:a6(`lucide-${YK(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=nr("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=nr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=nr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=nr("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=nr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=nr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=nr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=nr("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=nr("FileInput",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 15h10",key:"jfw4w8"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=nr("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=nr("FileOutput",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 7V4a2 2 0 0 1 2-2 2 2 0 0 0-2 2",key:"1vk7w2"}],["path",{d:"M4.063 20.999a2 2 0 0 0 2 1L18 22a2 2 0 0 0 2-2V7l-5-5H6",key:"1jink5"}],["path",{d:"m5 11-3 3",key:"1dgrs4"}],["path",{d:"m5 17-3-3h10",key:"1mvvaf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=nr("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=nr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=nr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=nr("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=nr("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=nr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=nr("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=nr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=nr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=nr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=nr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uR="-",uZ=t=>{const e=dZ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(uR);return s[0]===""&&s.length!==1&&s.shift(),c6(s,e)||fZ(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},c6=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?c6(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(uR);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},MD=/^\[(.+)\]$/,fZ=t=>{if(MD.test(t)){const e=MD.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dZ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return pZ(Object.entries(t.classGroups),n).forEach(([o,a])=>{TA(a,r,o,e)}),r},TA=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:TD(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(hZ(i)){TA(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{TA(a,TD(e,o),n,r)})})},TD=(t,e)=>{let n=t;return e.split(uR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},hZ=t=>t.isThemeGetter,pZ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,mZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},u6="!",gZ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,u=0,f;for(let v=0;v<s.length;v++){let y=s[v];if(c===0){if(y===i&&(r||s.slice(v,v+o)===e)){l.push(s.slice(u,v)),u=v+o;continue}if(y==="/"){f=v;continue}}y==="["?c++:y==="]"&&c--}const d=l.length===0?s:s.substring(u),h=d.startsWith(u6),g=h?d.substring(1):d,x=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:x}};return n?s=>n({className:s,parseClassName:a}):a},vZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},yZ=t=>({cache:mZ(t.cacheSize),parseClassName:gZ(t),...uZ(t)}),xZ=/\s+/,_Z=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(xZ);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let g=!!h,x=r(g?d.substring(0,h):d);if(!x){if(!g){s=c+(s.length>0?" "+s:s);continue}if(x=r(d),!x){s=c+(s.length>0?" "+s:s);continue}g=!1}const v=vZ(u).join(":"),y=f?v+u6:v,_=y+x;if(o.includes(_))continue;o.push(_);const b=i(x,g);for(let w=0;w<b.length;++w){const E=b[w];o.push(y+E)}s=c+(s.length>0?" "+s:s)}return s};function bZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=f6(e))&&(r&&(r+=" "),r+=n);return r}const f6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=f6(t[r]))&&(n&&(n+=" "),n+=e);return n};function wZ(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((u,f)=>f(u),t());return n=yZ(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const u=_Z(l,n);return i(l,u),u}return function(){return o(bZ.apply(null,arguments))}}const Cn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},d6=/^\[(?:([a-z-]+):)?(.+)\]$/i,SZ=/^\d+\/\d+$/,EZ=new Set(["px","full","screen"]),MZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,As=t=>ch(t)||EZ.has(t)||SZ.test(t),Ll=t=>dp(t,"length",UZ),ch=t=>!!t&&!Number.isNaN(Number(t)),JE=t=>dp(t,"number",ch),pm=t=>!!t&&Number.isInteger(Number(t)),RZ=t=>t.endsWith("%")&&ch(t.slice(0,-1)),Ut=t=>d6.test(t),kl=t=>MZ.test(t),OZ=new Set(["length","size","percentage"]),IZ=t=>dp(t,OZ,h6),NZ=t=>dp(t,"position",h6),DZ=new Set(["image","url"]),LZ=t=>dp(t,DZ,BZ),kZ=t=>dp(t,"",FZ),mm=()=>!0,dp=(t,e,n)=>{const r=d6.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},UZ=t=>TZ.test(t)&&!AZ.test(t),h6=()=>!1,FZ=t=>PZ.test(t),BZ=t=>CZ.test(t),zZ=()=>{const t=Cn("colors"),e=Cn("spacing"),n=Cn("blur"),r=Cn("brightness"),i=Cn("borderColor"),o=Cn("borderRadius"),a=Cn("borderSpacing"),s=Cn("borderWidth"),l=Cn("contrast"),c=Cn("grayscale"),u=Cn("hueRotate"),f=Cn("invert"),d=Cn("gap"),h=Cn("gradientColorStops"),g=Cn("gradientColorStopPositions"),x=Cn("inset"),v=Cn("margin"),y=Cn("opacity"),_=Cn("padding"),b=Cn("saturate"),w=Cn("scale"),E=Cn("sepia"),M=Cn("skew"),T=Cn("space"),O=Cn("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ut,e],D=()=>[Ut,e],G=()=>["",As,Ll],N=()=>["auto",ch,Ut],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ut],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ch,Ut];return{cacheSize:500,separator:":",theme:{colors:[mm],spacing:[As,Ll],blur:["none","",kl,Ut],brightness:z(),borderColor:[t],borderRadius:["none","","full",kl,Ut],borderSpacing:D(),borderWidth:G(),contrast:z(),grayscale:F(),hueRotate:z(),invert:F(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[RZ,Ll],inset:k(),margin:k(),opacity:z(),padding:D(),saturate:z(),scale:z(),sepia:F(),skew:z(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[kl]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Ut]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pm,Ut]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",pm,Ut]}],"grid-cols":[{"grid-cols":[mm]}],"col-start-end":[{col:["auto",{span:["full",pm,Ut]},Ut]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[mm]}],"row-start-end":[{row:["auto",{span:[pm,Ut]},Ut]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,e]}],"min-w":[{"min-w":[Ut,e,"min","max","fit"]}],"max-w":[{"max-w":[Ut,e,"none","full","min","max","fit","prose",{screen:[kl]},kl]}],h:[{h:[Ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",kl,Ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",JE]}],"font-family":[{font:[mm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",ch,JE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",As,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",As,Ll]}],"underline-offset":[{"underline-offset":["auto",As,Ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),NZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",IZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},LZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[As,Ut]}],"outline-w":[{outline:[As,Ll]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[As,Ll]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",kl,kZ]}],"shadow-color":[{shadow:[mm]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",kl,Ut]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[pm,Ut]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[As,Ll,JE]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jZ=wZ(zZ);function yn(...t){return jZ(zt(t))}const HZ=qK,p6=L.forwardRef(({className:t,...e},n)=>C.jsx(Q5,{ref:n,className:yn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));p6.displayName=Q5.displayName;const VZ=ty("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m6=L.forwardRef(({className:t,variant:e,...n},r)=>C.jsx(e6,{ref:r,className:yn(VZ({variant:e}),t),...n}));m6.displayName=e6.displayName;const GZ=L.forwardRef(({className:t,...e},n)=>C.jsx(r6,{ref:n,className:yn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));GZ.displayName=r6.displayName;const g6=L.forwardRef(({className:t,...e},n)=>C.jsx(i6,{ref:n,className:yn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:C.jsx(cZ,{className:"h-4 w-4"})}));g6.displayName=i6.displayName;const v6=L.forwardRef(({className:t,...e},n)=>C.jsx(t6,{ref:n,className:yn("text-sm font-semibold",t),...e}));v6.displayName=t6.displayName;const y6=L.forwardRef(({className:t,...e},n)=>C.jsx(n6,{ref:n,className:yn("text-sm opacity-90",t),...e}));y6.displayName=n6.displayName;function $Z(){const{toasts:t}=rK();return C.jsxs(HZ,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return C.jsxs(m6,{...o,children:[C.jsxs("div",{className:"grid gap-1",children:[n&&C.jsx(v6,{children:n}),r&&C.jsx(y6,{children:r})]}),i,C.jsx(g6,{})]},e)}),C.jsx(p6,{})]})}var AD=["light","dark"],WZ="(prefers-color-scheme: dark)",XZ=L.createContext(void 0),qZ={setTheme:t=>{},themes:[]},YZ=()=>{var t;return(t=L.useContext(XZ))!=null?t:qZ};L.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:a,attrs:s,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${s.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?AD.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(g,x=!1,v=!0)=>{let y=a?a[g]:g,_=x?g+"|| ''":`'${y}'`,b="";return i&&v&&!x&&AD.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?x||y?b+=`c.add(${_})`:b+="null":y&&(b+=`d[s](n,${_})`),b},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${WZ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}${c?"":"else{"+d(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${d(a?"x[e]":"e",!0)}}else{${d(o,!1,!1)};}${f}}catch(t){}}();`;return L.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var KZ=t=>{switch(t){case"success":return QZ;case"info":return tJ;case"warning":return eJ;case"error":return nJ;default:return null}},ZZ=Array(12).fill(0),JZ=({visible:t,className:e})=>J.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},J.createElement("div",{className:"sonner-spinner"},ZZ.map((n,r)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),QZ=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eJ=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tJ=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nJ=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rJ=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iJ=()=>{let[t,e]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},AA=1,oJ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:AA++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,a=r.then(async l=>{if(o=["resolve",l],J.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(sJ(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),s=()=>new Promise((l,c)=>a.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||AA++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qi=new oJ,aJ=(t,e)=>{let n=(e==null?void 0:e.id)||AA++;return qi.addToast({title:t,...e,id:n}),n},sJ=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lJ=aJ,cJ=()=>qi.toasts,uJ=()=>qi.getActiveToasts();Object.assign(lJ,{success:qi.success,info:qi.info,warning:qi.warning,error:qi.error,custom:qi.custom,message:qi.message,promise:qi.promise,dismiss:qi.dismiss,loading:qi.loading},{getHistory:cJ,getToasts:uJ});function fJ(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}fJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function B0(t){return t.label!==void 0}var dJ=3,hJ="32px",pJ="16px",PD=4e3,mJ=356,gJ=14,vJ=20,yJ=200;function la(...t){return t.filter(Boolean).join(" ")}function xJ(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _J=t=>{var e,n,r,i,o,a,s,l,c,u,f;let{invert:d,toast:h,unstyled:g,interacting:x,setHeights:v,visibleToasts:y,heights:_,index:b,toasts:w,expanded:E,removeToast:M,defaultRichColors:T,closeButton:O,style:P,cancelButtonStyle:R,actionButtonStyle:k,className:D="",descriptionClassName:G="",duration:N,position:$,gap:H,loadingIcon:K,expandByDefault:U,classNames:F,icons:j,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:X}=t,[q,Z]=J.useState(null),[ne,se]=J.useState(null),[ae,ge]=J.useState(!1),[ce,ve]=J.useState(!1),[he,V]=J.useState(!1),[ye,le]=J.useState(!1),[we,ue]=J.useState(!1),[Fe,xe]=J.useState(0),[Y,W]=J.useState(0),ee=J.useRef(h.duration||N||PD),be=J.useRef(null),fe=J.useRef(null),me=b===0,Ie=b+1<=y,Be=h.type,Re=h.dismissible!==!1,Ve=h.className||"",qe=h.descriptionClassName||"",Ae=J.useMemo(()=>_.findIndex(Le=>Le.toastId===h.id)||0,[_,h.id]),lt=J.useMemo(()=>{var Le;return(Le=h.closeButton)!=null?Le:O},[h.closeButton,O]),rt=J.useMemo(()=>h.duration||N||PD,[h.duration,N]),Ye=J.useRef(0),He=J.useRef(0),Ne=J.useRef(0),ie=J.useRef(null),[Pe,Qe]=$.split("-"),$e=J.useMemo(()=>_.reduce((Le,Ze,We)=>We>=Ae?Le:Le+Ze.height,0),[_,Ae]),Ee=iJ(),oe=h.invert||d,Xe=Be==="loading";He.current=J.useMemo(()=>Ae*H+$e,[Ae,$e]),J.useEffect(()=>{ee.current=rt},[rt]),J.useEffect(()=>{ge(!0)},[]),J.useEffect(()=>{let Le=fe.current;if(Le){let Ze=Le.getBoundingClientRect().height;return W(Ze),v(We=>[{toastId:h.id,height:Ze,position:h.position},...We]),()=>v(We=>We.filter(ht=>ht.toastId!==h.id))}},[v,h.id]),J.useLayoutEffect(()=>{if(!ae)return;let Le=fe.current,Ze=Le.style.height;Le.style.height="auto";let We=Le.getBoundingClientRect().height;Le.style.height=Ze,W(We),v(ht=>ht.find(bt=>bt.toastId===h.id)?ht.map(bt=>bt.toastId===h.id?{...bt,height:We}:bt):[{toastId:h.id,height:We,position:h.position},...ht])},[ae,h.title,h.description,v,h.id]);let je=J.useCallback(()=>{ve(!0),xe(He.current),v(Le=>Le.filter(Ze=>Ze.toastId!==h.id)),setTimeout(()=>{M(h)},yJ)},[h,M,v,He]);J.useEffect(()=>{if(h.promise&&Be==="loading"||h.duration===1/0||h.type==="loading")return;let Le;return E||x||X&&Ee?(()=>{if(Ne.current<Ye.current){let Ze=new Date().getTime()-Ye.current;ee.current=ee.current-Ze}Ne.current=new Date().getTime()})():ee.current!==1/0&&(Ye.current=new Date().getTime(),Le=setTimeout(()=>{var Ze;(Ze=h.onAutoClose)==null||Ze.call(h,h),je()},ee.current)),()=>clearTimeout(Le)},[E,x,h,Be,X,Ee,je]),J.useEffect(()=>{h.delete&&je()},[je,h.delete]);function Je(){var Le,Ze,We;return j!=null&&j.loading?J.createElement("div",{className:la(F==null?void 0:F.loader,(Le=h==null?void 0:h.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":Be==="loading"},j.loading):K?J.createElement("div",{className:la(F==null?void 0:F.loader,(Ze=h==null?void 0:h.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":Be==="loading"},K):J.createElement(JZ,{className:la(F==null?void 0:F.loader,(We=h==null?void 0:h.classNames)==null?void 0:We.loader),visible:Be==="loading"})}return J.createElement("li",{tabIndex:0,ref:fe,className:la(D,Ve,F==null?void 0:F.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Be],(n=h==null?void 0:h.classNames)==null?void 0:n[Be]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:T,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":ae,"data-promise":!!h.promise,"data-swiped":we,"data-removed":ce,"data-visible":Ie,"data-y-position":Pe,"data-x-position":Qe,"data-index":b,"data-front":me,"data-swiping":he,"data-dismissible":Re,"data-type":Be,"data-invert":oe,"data-swipe-out":ye,"data-swipe-direction":ne,"data-expanded":!!(E||U&&ae),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${ce?Fe:He.current}px`,"--initial-height":U?"auto":`${Y}px`,...P,...h.style},onDragEnd:()=>{V(!1),Z(null),ie.current=null},onPointerDown:Le=>{Xe||!Re||(be.current=new Date,xe(He.current),Le.target.setPointerCapture(Le.pointerId),Le.target.tagName!=="BUTTON"&&(V(!0),ie.current={x:Le.clientX,y:Le.clientY}))},onPointerUp:()=>{var Le,Ze,We,ht;if(ye||!Re)return;ie.current=null;let bt=Number(((Le=fe.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((Ze=fe.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ot=new Date().getTime()-((We=be.current)==null?void 0:We.getTime()),Xt=q==="x"?bt:gt,Fn=Math.abs(Xt)/Ot;if(Math.abs(Xt)>=vJ||Fn>.11){xe(He.current),(ht=h.onDismiss)==null||ht.call(h,h),se(q==="x"?bt>0?"right":"left":gt>0?"down":"up"),je(),le(!0),ue(!1);return}V(!1),Z(null)},onPointerMove:Le=>{var Ze,We,ht,bt;if(!ie.current||!Re||((Ze=window.getSelection())==null?void 0:Ze.toString().length)>0)return;let gt=Le.clientY-ie.current.y,Ot=Le.clientX-ie.current.x,Xt=(We=t.swipeDirections)!=null?We:xJ($);!q&&(Math.abs(Ot)>1||Math.abs(gt)>1)&&Z(Math.abs(Ot)>Math.abs(gt)?"x":"y");let Fn={x:0,y:0};q==="y"?(Xt.includes("top")||Xt.includes("bottom"))&&(Xt.includes("top")&&gt<0||Xt.includes("bottom")&&gt>0)&&(Fn.y=gt):q==="x"&&(Xt.includes("left")||Xt.includes("right"))&&(Xt.includes("left")&&Ot<0||Xt.includes("right")&&Ot>0)&&(Fn.x=Ot),(Math.abs(Fn.x)>0||Math.abs(Fn.y)>0)&&ue(!0),(ht=fe.current)==null||ht.style.setProperty("--swipe-amount-x",`${Fn.x}px`),(bt=fe.current)==null||bt.style.setProperty("--swipe-amount-y",`${Fn.y}px`)}},lt&&!h.jsx?J.createElement("button",{"aria-label":z,"data-disabled":Xe,"data-close-button":!0,onClick:Xe||!Re?()=>{}:()=>{var Le;je(),(Le=h.onDismiss)==null||Le.call(h,h)},className:la(F==null?void 0:F.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(o=j==null?void 0:j.close)!=null?o:rJ):null,h.jsx||L.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:J.createElement(J.Fragment,null,Be||h.icon||h.promise?J.createElement("div",{"data-icon":"",className:la(F==null?void 0:F.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Je():null,h.type!=="loading"?h.icon||(j==null?void 0:j[Be])||KZ(Be):null):null,J.createElement("div",{"data-content":"",className:la(F==null?void 0:F.content,(s=h==null?void 0:h.classNames)==null?void 0:s.content)},J.createElement("div",{"data-title":"",className:la(F==null?void 0:F.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?J.createElement("div",{"data-description":"",className:la(G,qe,F==null?void 0:F.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),L.isValidElement(h.cancel)?h.cancel:h.cancel&&B0(h.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:Le=>{var Ze,We;B0(h.cancel)&&Re&&((We=(Ze=h.cancel).onClick)==null||We.call(Ze,Le),je())},className:la(F==null?void 0:F.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,L.isValidElement(h.action)?h.action:h.action&&B0(h.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:Le=>{var Ze,We;B0(h.action)&&((We=(Ze=h.action).onClick)==null||We.call(Ze,Le),!Le.defaultPrevented&&je())},className:la(F==null?void 0:F.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function CD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bJ(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,a=o?"--mobile-offset":"--offset",s=o?pJ:hJ;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=s:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(s)}),n}var wJ=L.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:a,className:s,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:d,style:h,visibleToasts:g=dJ,toastOptions:x,dir:v=CD(),gap:y=gJ,loadingIcon:_,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:E}=t,[M,T]=J.useState([]),O=J.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[P,R]=J.useState([]),[k,D]=J.useState(!1),[G,N]=J.useState(!1),[$,H]=J.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=J.useRef(null),U=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=J.useRef(null),j=J.useRef(!1),z=J.useCallback(X=>{T(q=>{var Z;return(Z=q.find(ne=>ne.id===X.id))!=null&&Z.delete||qi.dismiss(X.id),q.filter(({id:ne})=>ne!==X.id)})},[]);return J.useEffect(()=>qi.subscribe(X=>{if(X.dismiss){T(q=>q.map(Z=>Z.id===X.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{O5.flushSync(()=>{T(q=>{let Z=q.findIndex(ne=>ne.id===X.id);return Z!==-1?[...q.slice(0,Z),{...q[Z],...X},...q.slice(Z+1)]:[X,...q]})})})}),[]),J.useEffect(()=>{if(u!=="system"){H(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:q})=>{H(q?"dark":"light")})}catch{X.addListener(({matches:Z})=>{try{H(Z?"dark":"light")}catch(ne){console.error(ne)}})}},[u]),J.useEffect(()=>{M.length<=1&&D(!1)},[M]),J.useEffect(()=>{let X=q=>{var Z,ne;i.every(se=>q[se]||q.code===se)&&(D(!0),(Z=K.current)==null||Z.focus()),q.code==="Escape"&&(document.activeElement===K.current||(ne=K.current)!=null&&ne.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),J.useEffect(()=>{if(K.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,j.current=!1)}},[K.current]),J.createElement("section",{ref:e,"aria-label":`${w} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((X,q)=>{var Z;let[ne,se]=X.split("-");return M.length?J.createElement("ol",{key:X,dir:v==="auto"?CD():v,tabIndex:-1,ref:K,className:s,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":ne,"data-lifted":k&&M.length>1&&!o,"data-x-position":se,style:{"--front-toast-height":`${((Z=P[0])==null?void 0:Z.height)||0}px`,"--width":`${mJ}px`,"--gap":`${y}px`,...h,...bJ(l,c)},onBlur:ae=>{j.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(j.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||j.current||(j.current=!0,F.current=ae.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{G||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||N(!0)},onPointerUp:()=>N(!1)},M.filter(ae=>!ae.position&&q===0||ae.position===X).map((ae,ge)=>{var ce,ve;return J.createElement(_J,{key:ae.id,icons:b,index:ge,toast:ae,defaultRichColors:f,duration:(ce=x==null?void 0:x.duration)!=null?ce:d,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ve=x==null?void 0:x.closeButton)!=null?ve:a,interacting:G,position:X,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:z,toasts:M.filter(he=>he.position==ae.position),heights:P.filter(he=>he.position==ae.position),setHeights:R,expandByDefault:o,gap:y,loadingIcon:_,expanded:k,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const SJ=({...t})=>{const{theme:e="system"}=YZ();return C.jsx(wJ,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var EJ=mC[" useId ".trim().toString()]||(()=>{}),MJ=0;function ny(t){const[e,n]=L.useState(EJ());return as(()=>{n(r=>r??String(MJ++))},[t]),e?`radix-${e}`:""}const TJ=["top","right","bottom","left"],Pc=Math.min,bo=Math.max,o_=Math.round,z0=Math.floor,es=t=>({x:t,y:t}),AJ={left:"right",right:"left",bottom:"top",top:"bottom"},PJ={start:"end",end:"start"};function PA(t,e,n){return bo(t,Pc(e,n))}function ll(t,e){return typeof t=="function"?t(e):t}function cl(t){return t.split("-")[0]}function hp(t){return t.split("-")[1]}function fR(t){return t==="x"?"y":"x"}function dR(t){return t==="y"?"height":"width"}const CJ=new Set(["top","bottom"]);function Ka(t){return CJ.has(cl(t))?"y":"x"}function hR(t){return fR(Ka(t))}function RJ(t,e,n){n===void 0&&(n=!1);const r=hp(t),i=hR(t),o=dR(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=a_(a)),[a,a_(a)]}function OJ(t){const e=a_(t);return[CA(t),e,CA(e)]}function CA(t){return t.replace(/start|end/g,e=>PJ[e])}const RD=["left","right"],OD=["right","left"],IJ=["top","bottom"],NJ=["bottom","top"];function DJ(t,e,n){switch(t){case"top":case"bottom":return n?e?OD:RD:e?RD:OD;case"left":case"right":return e?IJ:NJ;default:return[]}}function LJ(t,e,n,r){const i=hp(t);let o=DJ(cl(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(CA)))),o}function a_(t){return t.replace(/left|right|bottom|top/g,e=>AJ[e])}function kJ(t){return{top:0,right:0,bottom:0,left:0,...t}}function x6(t){return typeof t!="number"?kJ(t):{top:t,right:t,bottom:t,left:t}}function s_(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function ID(t,e,n){let{reference:r,floating:i}=t;const o=Ka(e),a=hR(e),s=dR(a),l=cl(e),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(hp(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1);break}return h}const UJ=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=ID(c,r,l),d=r,h={},g=0;for(let x=0;x<s.length;x++){const{name:v,fn:y}=s[x],{x:_,y:b,data:w,reset:E}=await y({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=_??u,f=b??f,h={...h,[v]:{...h[v],...w}},E&&g<=50&&(g++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:f}=ID(c,d,l)),x=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function Dg(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=ll(e,t),g=x6(h),v=s[d?f==="floating"?"reference":"floating":f],y=s_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=s_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:_,offsetParent:b,strategy:l}):_);return{top:(y.top-E.top+g.top)/w.y,bottom:(E.bottom-y.bottom+g.bottom)/w.y,left:(y.left-E.left+g.left)/w.x,right:(E.right-y.right+g.right)/w.x}}const FJ=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:u=0}=ll(t,e)||{};if(c==null)return{};const f=x6(u),d={x:n,y:r},h=hR(i),g=dR(h),x=await a.getDimensions(c),v=h==="y",y=v?"top":"left",_=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=o.reference[g]+o.reference[h]-d[h]-o.floating[g],E=d[h]-o.reference[h],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=M?M[b]:0;(!T||!await(a.isElement==null?void 0:a.isElement(M)))&&(T=s.floating[b]||o.floating[g]);const O=w/2-E/2,P=T/2-x[g]/2-1,R=Pc(f[y],P),k=Pc(f[_],P),D=R,G=T-x[g]-k,N=T/2-x[g]/2+O,$=PA(D,N,G),H=!l.arrow&&hp(i)!=null&&N!==$&&o.reference[g]/2-(N<D?R:k)-x[g]/2<0,K=H?N<D?N-D:N-G:0;return{[h]:d[h]+K,data:{[h]:$,centerOffset:N-$-K,...H&&{alignmentOffset:K}},reset:H}}}),BJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:x=!0,...v}=ll(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=cl(i),_=Ka(s),b=cl(s)===s,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=d||(b||!x?[a_(s)]:OJ(s)),M=g!=="none";!d&&M&&E.push(...LJ(s,x,g,w));const T=[s,...E],O=await Dg(e,v),P=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&P.push(O[y]),f){const N=RJ(i,a,w);P.push(O[N[0]],O[N[1]])}if(R=[...R,{placement:i,overflows:P}],!P.every(N=>N<=0)){var k,D;const N=(((k=o.flip)==null?void 0:k.index)||0)+1,$=T[N];if($&&(!(f==="alignment"?_!==Ka($):!1)||R.every(U=>U.overflows[0]>0&&Ka(U.placement)===_)))return{data:{index:N,overflows:R},reset:{placement:$}};let H=(D=R.filter(K=>K.overflows[0]<=0).sort((K,U)=>K.overflows[1]-U.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(h){case"bestFit":{var G;const K=(G=R.filter(U=>{if(M){const F=Ka(U.placement);return F===_||F==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(F=>F>0).reduce((F,j)=>F+j,0)]).sort((U,F)=>U[1]-F[1])[0])==null?void 0:G[0];K&&(H=K);break}case"initialPlacement":H=s;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function ND(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function DD(t){return TJ.some(e=>t[e]>=0)}const zJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ll(t,e);switch(r){case"referenceHidden":{const o=await Dg(e,{...i,elementContext:"reference"}),a=ND(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:DD(a)}}}case"escaped":{const o=await Dg(e,{...i,altBoundary:!0}),a=ND(o,n.floating);return{data:{escapedOffsets:a,escaped:DD(a)}}}default:return{}}}}},_6=new Set(["left","top"]);async function jJ(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=cl(n),s=hp(n),l=Ka(n)==="y",c=_6.has(a)?-1:1,u=o&&l?-1:1,f=ll(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(h=s==="end"?g*-1:g),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const HJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await jJ(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},VJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:y,y:_}=v;return{x:y,y:_}}},...l}=ll(t,e),c={x:n,y:r},u=await Dg(e,l),f=Ka(cl(i)),d=fR(f);let h=c[d],g=c[f];if(o){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",_=h+u[v],b=h-u[y];h=PA(_,h,b)}if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",_=g+u[v],b=g-u[y];g=PA(_,g,b)}const x=s.fn({...e,[d]:h,[f]:g});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[d]:o,[f]:a}}}}}},GJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=ll(t,e),u={x:n,y:r},f=Ka(i),d=fR(f);let h=u[d],g=u[f];const x=ll(s,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const b=d==="y"?"height":"width",w=o.reference[d]-o.floating[b]+v.mainAxis,E=o.reference[d]+o.reference[b]-v.mainAxis;h<w?h=w:h>E&&(h=E)}if(c){var y,_;const b=d==="y"?"width":"height",w=_6.has(cl(i)),E=o.reference[f]-o.floating[b]+(w&&((y=a.offset)==null?void 0:y[f])||0)+(w?0:v.crossAxis),M=o.reference[f]+o.reference[b]+(w?0:((_=a.offset)==null?void 0:_[f])||0)-(w?v.crossAxis:0);g<E?g=E:g>M&&(g=M)}return{[d]:h,[f]:g}}}},$J=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=ll(t,e),u=await Dg(e,c),f=cl(i),d=hp(i),h=Ka(i)==="y",{width:g,height:x}=o.floating;let v,y;f==="top"||f==="bottom"?(v=f,y=d===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(y=f,v=d==="end"?"top":"bottom");const _=x-u.top-u.bottom,b=g-u.left-u.right,w=Pc(x-u[v],_),E=Pc(g-u[y],b),M=!e.middlewareData.shift;let T=w,O=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=_),M&&!d){const R=bo(u.left,0),k=bo(u.right,0),D=bo(u.top,0),G=bo(u.bottom,0);h?O=g-2*(R!==0||k!==0?R+k:bo(u.left,u.right)):T=x-2*(D!==0||G!==0?D+G:bo(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:T});const P=await a.getDimensions(s.floating);return g!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Fb(){return typeof window<"u"}function pp(t){return b6(t)?(t.nodeName||"").toLowerCase():"#document"}function To(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fs(t){var e;return(e=(b6(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function b6(t){return Fb()?t instanceof Node||t instanceof To(t).Node:!1}function Ra(t){return Fb()?t instanceof Element||t instanceof To(t).Element:!1}function ss(t){return Fb()?t instanceof HTMLElement||t instanceof To(t).HTMLElement:!1}function LD(t){return!Fb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof To(t).ShadowRoot}const WJ=new Set(["inline","contents"]);function ry(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Oa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!WJ.has(i)}const XJ=new Set(["table","td","th"]);function qJ(t){return XJ.has(pp(t))}const YJ=[":popover-open",":modal"];function Bb(t){return YJ.some(e=>{try{return t.matches(e)}catch{return!1}})}const KJ=["transform","translate","scale","rotate","perspective"],ZJ=["transform","translate","scale","rotate","perspective","filter"],JJ=["paint","layout","strict","content"];function pR(t){const e=mR(),n=Ra(t)?Oa(t):t;return KJ.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ZJ.some(r=>(n.willChange||"").includes(r))||JJ.some(r=>(n.contain||"").includes(r))}function QJ(t){let e=Cc(t);for(;ss(e)&&!Ih(e);){if(pR(e))return e;if(Bb(e))return null;e=Cc(e)}return null}function mR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const eQ=new Set(["html","body","#document"]);function Ih(t){return eQ.has(pp(t))}function Oa(t){return To(t).getComputedStyle(t)}function zb(t){return Ra(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cc(t){if(pp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LD(t)&&t.host||fs(t);return LD(e)?e.host:e}function w6(t){const e=Cc(t);return Ih(e)?t.ownerDocument?t.ownerDocument.body:t.body:ss(e)&&ry(e)?e:w6(e)}function Lg(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=w6(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=To(i);if(o){const s=RA(a);return e.concat(a,a.visualViewport||[],ry(i)?i:[],s&&n?Lg(s):[])}return e.concat(i,Lg(i,[],n))}function RA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S6(t){const e=Oa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ss(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=o_(n)!==o||o_(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function gR(t){return Ra(t)?t:t.contextElement}function uh(t){const e=gR(t);if(!ss(e))return es(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=S6(e);let a=(o?o_(n.width):n.width)/r,s=(o?o_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const tQ=es(0);function E6(t){const e=To(t);return!mR()||!e.visualViewport?tQ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nQ(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==To(t)?!1:e}function mf(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=gR(t);let a=es(1);e&&(r?Ra(r)&&(a=uh(r)):a=uh(t));const s=nQ(o,n,r)?E6(o):es(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o){const d=To(o),h=r&&Ra(r)?To(r):r;let g=d,x=RA(g);for(;x&&r&&h!==g;){const v=uh(x),y=x.getBoundingClientRect(),_=Oa(x),b=y.left+(x.clientLeft+parseFloat(_.paddingLeft))*v.x,w=y.top+(x.clientTop+parseFloat(_.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=b,c+=w,g=To(x),x=RA(g)}}return s_({width:u,height:f,x:l,y:c})}function vR(t,e){const n=zb(t).scrollLeft;return e?e.left+n:mf(fs(t)).left+n}function M6(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:vR(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function rQ(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=fs(r),s=e?Bb(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=es(1);const u=es(0),f=ss(r);if((f||!f&&!o)&&((pp(r)!=="body"||ry(a))&&(l=zb(r)),ss(r))){const h=mf(r);c=uh(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const d=a&&!f&&!o?M6(a,l,!0):es(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:n.y*c.y-l.scrollTop*c.y+u.y+d.y}}function iQ(t){return Array.from(t.getClientRects())}function oQ(t){const e=fs(t),n=zb(t),r=t.ownerDocument.body,i=bo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=bo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vR(t);const s=-n.scrollTop;return Oa(r).direction==="rtl"&&(a+=bo(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function aQ(t,e){const n=To(t),r=fs(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=mR();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}const sQ=new Set(["absolute","fixed"]);function lQ(t,e){const n=mf(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ss(t)?uh(t):es(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function kD(t,e,n){let r;if(e==="viewport")r=aQ(t,n);else if(e==="document")r=oQ(fs(t));else if(Ra(e))r=lQ(e,n);else{const i=E6(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return s_(r)}function T6(t,e){const n=Cc(t);return n===e||!Ra(n)||Ih(n)?!1:Oa(n).position==="fixed"||T6(n,e)}function cQ(t,e){const n=e.get(t);if(n)return n;let r=Lg(t,[],!1).filter(s=>Ra(s)&&pp(s)!=="body"),i=null;const o=Oa(t).position==="fixed";let a=o?Cc(t):t;for(;Ra(a)&&!Ih(a);){const s=Oa(a),l=pR(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&sQ.has(i.position)||ry(a)&&!l&&T6(t,a))?r=r.filter(u=>u!==a):i=s,a=Cc(a)}return e.set(t,r),r}function uQ(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Bb(e)?[]:cQ(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,u)=>{const f=kD(e,u,i);return c.top=bo(f.top,c.top),c.right=Pc(f.right,c.right),c.bottom=Pc(f.bottom,c.bottom),c.left=bo(f.left,c.left),c},kD(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fQ(t){const{width:e,height:n}=S6(t);return{width:e,height:n}}function dQ(t,e,n){const r=ss(e),i=fs(e),o=n==="fixed",a=mf(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=es(0);function c(){l.x=vR(i)}if(r||!r&&!o)if((pp(e)!=="body"||ry(i))&&(s=zb(e)),r){const h=mf(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?M6(i,s):es(0),f=a.left+s.scrollLeft-l.x-u.x,d=a.top+s.scrollTop-l.y-u.y;return{x:f,y:d,width:a.width,height:a.height}}function QE(t){return Oa(t).position==="static"}function UD(t,e){if(!ss(t)||Oa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fs(t)===n&&(n=n.ownerDocument.body),n}function A6(t,e){const n=To(t);if(Bb(t))return n;if(!ss(t)){let i=Cc(t);for(;i&&!Ih(i);){if(Ra(i)&&!QE(i))return i;i=Cc(i)}return n}let r=UD(t,e);for(;r&&qJ(r)&&QE(r);)r=UD(r,e);return r&&Ih(r)&&QE(r)&&!pR(r)?n:r||QJ(t)||n}const hQ=async function(t){const e=this.getOffsetParent||A6,n=this.getDimensions,r=await n(t.floating);return{reference:dQ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pQ(t){return Oa(t).direction==="rtl"}const mQ={convertOffsetParentRelativeRectToViewportRelativeRect:rQ,getDocumentElement:fs,getClippingRect:uQ,getOffsetParent:A6,getElementRects:hQ,getClientRects:iQ,getDimensions:fQ,getScale:uh,isElement:Ra,isRTL:pQ};function P6(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function gQ(t,e){let n=null,r;const i=fs(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:f,width:d,height:h}=c;if(s||e(),!d||!h)return;const g=z0(f),x=z0(i.clientWidth-(u+d)),v=z0(i.clientHeight-(f+h)),y=z0(u),b={rootMargin:-g+"px "+-x+"px "+-v+"px "+-y+"px",threshold:bo(0,Pc(1,l))||1};let w=!0;function E(M){const T=M[0].intersectionRatio;if(T!==l){if(!w)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!P6(c,t.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(E,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return a(!0),o}function vQ(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=gR(t),u=i||o?[...c?Lg(c):[],...Lg(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=c&&s?gQ(c,n):null;let d=-1,h=null;a&&(h=new ResizeObserver(y=>{let[_]=y;_&&_.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let g,x=l?mf(t):null;l&&v();function v(){const y=mf(t);x&&!P6(x,y)&&n(),x=y,g=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),f==null||f(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const yQ=HJ,xQ=VJ,_Q=BJ,bQ=$J,wQ=zJ,FD=FJ,SQ=GJ,EQ=(t,e,n)=>{const r=new Map,i={platform:mQ,...n},o={...i.platform,_c:r};return UJ(t,e,{...i,platform:o})};var MQ=typeof document<"u",TQ=function(){},y1=MQ?L.useLayoutEffect:TQ;function l_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!l_(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!l_(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function C6(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BD(t,e){const n=C6(t);return Math.round(e*n)/n}function eM(t){const e=L.useRef(t);return y1(()=>{e.current=t}),e}function AQ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[u,f]=L.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=L.useState(r);l_(d,r)||h(r);const[g,x]=L.useState(null),[v,y]=L.useState(null),_=L.useCallback(U=>{U!==M.current&&(M.current=U,x(U))},[]),b=L.useCallback(U=>{U!==T.current&&(T.current=U,y(U))},[]),w=o||g,E=a||v,M=L.useRef(null),T=L.useRef(null),O=L.useRef(u),P=l!=null,R=eM(l),k=eM(i),D=eM(c),G=L.useCallback(()=>{if(!M.current||!T.current)return;const U={placement:e,strategy:n,middleware:d};k.current&&(U.platform=k.current),EQ(M.current,T.current,U).then(F=>{const j={...F,isPositioned:D.current!==!1};N.current&&!l_(O.current,j)&&(O.current=j,Jv.flushSync(()=>{f(j)}))})},[d,e,n,k,D]);y1(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[c]);const N=L.useRef(!1);y1(()=>(N.current=!0,()=>{N.current=!1}),[]),y1(()=>{if(w&&(M.current=w),E&&(T.current=E),w&&E){if(R.current)return R.current(w,E,G);G()}},[w,E,G,R,P]);const $=L.useMemo(()=>({reference:M,floating:T,setReference:_,setFloating:b}),[_,b]),H=L.useMemo(()=>({reference:w,floating:E}),[w,E]),K=L.useMemo(()=>{const U={position:n,left:0,top:0};if(!H.floating)return U;const F=BD(H.floating,u.x),j=BD(H.floating,u.y);return s?{...U,transform:"translate("+F+"px, "+j+"px)",...C6(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:j}},[n,s,H.floating,u.x,u.y]);return L.useMemo(()=>({...u,update:G,refs:$,elements:H,floatingStyles:K}),[u,G,$,H,K])}const PQ=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?FD({element:r.current,padding:i}).fn(n):{}:r?FD({element:r,padding:i}).fn(n):{}}}},CQ=(t,e)=>({...yQ(t),options:[t,e]}),RQ=(t,e)=>({...xQ(t),options:[t,e]}),OQ=(t,e)=>({...SQ(t),options:[t,e]}),IQ=(t,e)=>({..._Q(t),options:[t,e]}),NQ=(t,e)=>({...bQ(t),options:[t,e]}),DQ=(t,e)=>({...wQ(t),options:[t,e]}),LQ=(t,e)=>({...PQ(t),options:[t,e]});var kQ="Arrow",R6=L.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return C.jsx(on.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});R6.displayName=kQ;var UQ=R6;function O6(t){const[e,n]=L.useState(void 0);return as(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var yR="Popper",[I6,N6]=yl(yR),[FQ,D6]=I6(yR),L6=t=>{const{__scopePopper:e,children:n}=t,[r,i]=L.useState(null);return C.jsx(FQ,{scope:e,anchor:r,onAnchorChange:i,children:n})};L6.displayName=yR;var k6="PopperAnchor",U6=L.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=D6(k6,n),a=L.useRef(null),s=xr(e,a);return L.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:C.jsx(on.div,{...i,ref:s})});U6.displayName=k6;var xR="PopperContent",[BQ,zQ]=I6(xR),F6=L.forwardRef((t,e)=>{var ae,ge,ce,ve,he,V;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:g,...x}=t,v=D6(xR,n),[y,_]=L.useState(null),b=xr(e,ye=>_(ye)),[w,E]=L.useState(null),M=O6(w),T=(M==null?void 0:M.width)??0,O=(M==null?void 0:M.height)??0,P=r+(o!=="center"?"-"+o:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],D=k.length>0,G={padding:R,boundary:k.filter(HQ),altBoundary:D},{refs:N,floatingStyles:$,placement:H,isPositioned:K,middlewareData:U}=AQ({strategy:"fixed",placement:P,whileElementsMounted:(...ye)=>vQ(...ye,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[CQ({mainAxis:i+O,alignmentAxis:a}),l&&RQ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OQ():void 0,...G}),l&&IQ({...G}),NQ({...G,apply:({elements:ye,rects:le,availableWidth:we,availableHeight:ue})=>{const{width:Fe,height:xe}=le.reference,Y=ye.floating.style;Y.setProperty("--radix-popper-available-width",`${we}px`),Y.setProperty("--radix-popper-available-height",`${ue}px`),Y.setProperty("--radix-popper-anchor-width",`${Fe}px`),Y.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),w&&LQ({element:w,padding:s}),VQ({arrowWidth:T,arrowHeight:O}),d&&DQ({strategy:"referenceHidden",...G})]}),[F,j]=j6(H),z=sl(g);as(()=>{K&&(z==null||z())},[K,z]);const X=(ae=U.arrow)==null?void 0:ae.x,q=(ge=U.arrow)==null?void 0:ge.y,Z=((ce=U.arrow)==null?void 0:ce.centerOffset)!==0,[ne,se]=L.useState();return as(()=>{y&&se(window.getComputedStyle(y).zIndex)},[y]),C.jsx("div",{ref:N.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:K?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ve=U.transformOrigin)==null?void 0:ve.x,(he=U.transformOrigin)==null?void 0:he.y].join(" "),...((V=U.hide)==null?void 0:V.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(BQ,{scope:n,placedSide:F,onArrowChange:E,arrowX:X,arrowY:q,shouldHideArrow:Z,children:C.jsx(on.div,{"data-side":F,"data-align":j,...x,ref:b,style:{...x.style,animation:K?void 0:"none"}})})})});F6.displayName=xR;var B6="PopperArrow",jQ={top:"bottom",right:"left",bottom:"top",left:"right"},z6=L.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=zQ(B6,r),a=jQ[o.placedSide];return C.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:C.jsx(UQ,{...i,ref:n,style:{...i.style,display:"block"}})})});z6.displayName=B6;function HQ(t){return t!==null}var VQ=t=>({name:"transformOrigin",options:t,fn(e){var v,y,_;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=j6(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((y=i.arrow)==null?void 0:y.x)??0)+s/2,h=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let g="",x="";return c==="bottom"?(g=a?f:`${d}px`,x=`${-l}px`):c==="top"?(g=a?f:`${d}px`,x=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,x=a?f:`${h}px`):c==="left"&&(g=`${r.floating.width+l}px`,x=a?f:`${h}px`),{data:{x:g,y:x}}}});function j6(t){const[e,n="center"]=t.split("-");return[e,n]}var GQ=L6,$Q=U6,WQ=F6,XQ=z6,[jb,RUe]=yl("Tooltip",[N6]),Hb=N6(),H6="TooltipProvider",qQ=700,OA="tooltip.open",[YQ,_R]=jb(H6),V6=t=>{const{__scopeTooltip:e,delayDuration:n=qQ,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,a=L.useRef(!0),s=L.useRef(!1),l=L.useRef(0);return L.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),C.jsx(YQ,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:L.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:L.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:L.useCallback(c=>{s.current=c},[]),disableHoverableContent:i,children:o})};V6.displayName=H6;var kg="Tooltip",[KQ,Vb]=jb(kg),G6=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=_R(kg,t.__scopeTooltip),c=Hb(e),[u,f]=L.useState(null),d=ny(),h=L.useRef(0),g=a??l.disableHoverableContent,x=s??l.delayDuration,v=L.useRef(!1),[y,_]=kc({prop:r,defaultProp:i??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(OA))):l.onClose(),o==null||o(T)},caller:kg}),b=L.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),w=L.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,_(!0)},[_]),E=L.useCallback(()=>{window.clearTimeout(h.current),h.current=0,_(!1)},[_]),M=L.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,_(!0),h.current=0},x)},[x,_]);return L.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),C.jsx(GQ,{...c,children:C.jsx(KQ,{scope:e,contentId:d,open:y,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:L.useCallback(()=>{l.isOpenDelayedRef.current?M():w()},[l.isOpenDelayedRef,M,w]),onTriggerLeave:L.useCallback(()=>{g?E():(window.clearTimeout(h.current),h.current=0)},[E,g]),onOpen:w,onClose:E,disableHoverableContent:g,children:n})})};G6.displayName=kg;var IA="TooltipTrigger",$6=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vb(IA,n),o=_R(IA,n),a=Hb(n),s=L.useRef(null),l=xr(e,s,i.onTriggerChange),c=L.useRef(!1),u=L.useRef(!1),f=L.useCallback(()=>c.current=!1,[]);return L.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),C.jsx($Q,{asChild:!0,...a,children:C.jsx(on.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:qt(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:qt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:qt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:qt(t.onBlur,i.onClose),onClick:qt(t.onClick,i.onClose)})})});$6.displayName=IA;var ZQ="TooltipPortal",[OUe,JQ]=jb(ZQ,{forceMount:void 0}),Nh="TooltipContent",W6=L.forwardRef((t,e)=>{const n=JQ(Nh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=Vb(Nh,t.__scopeTooltip);return C.jsx(Qv,{present:r||a.open,children:a.disableHoverableContent?C.jsx(X6,{side:i,...o,ref:e}):C.jsx(QQ,{side:i,...o,ref:e})})}),QQ=L.forwardRef((t,e)=>{const n=Vb(Nh,t.__scopeTooltip),r=_R(Nh,t.__scopeTooltip),i=L.useRef(null),o=xr(e,i),[a,s]=L.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=L.useCallback(()=>{s(null),f(!1)},[f]),h=L.useCallback((g,x)=>{const v=g.currentTarget,y={x:g.clientX,y:g.clientY},_=iee(y,v.getBoundingClientRect()),b=oee(y,_),w=aee(x.getBoundingClientRect()),E=lee([...b,...w]);s(E),f(!0)},[f]);return L.useEffect(()=>()=>d(),[d]),L.useEffect(()=>{if(l&&u){const g=v=>h(v,u),x=v=>h(v,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",x)}}},[l,u,h,d]),L.useEffect(()=>{if(a){const g=x=>{const v=x.target,y={x:x.clientX,y:x.clientY},_=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),b=!see(y,a);_?d():b&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,a,c,d]),C.jsx(X6,{...t,ref:o})}),[eee,tee]=jb(kg,{isInside:!1}),nee=sK("TooltipContent"),X6=L.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=Vb(Nh,n),c=Hb(n),{onClose:u}=l;return L.useEffect(()=>(document.addEventListener(OA,u),()=>document.removeEventListener(OA,u)),[u]),L.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),C.jsx(aR,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:C.jsxs(WQ,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(nee,{children:r}),C.jsx(eee,{scope:n,isInside:!0,children:C.jsx(RK,{id:l.contentId,role:"tooltip",children:i||r})})]})})});W6.displayName=Nh;var q6="TooltipArrow",ree=L.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hb(n);return tee(q6,n).isInside?null:C.jsx(XQ,{...i,...r,ref:e})});ree.displayName=q6;function iee(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oee(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function aee(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function see(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o],l=e[a],c=s.x,u=s.y,f=l.x,d=l.y;u>r!=d>r&&n<(f-c)*(r-u)/(d-u)+c&&(i=!i)}return i}function lee(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cee(e)}function cee(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uee=V6,fee=G6,dee=$6,Y6=W6;const hee=uee,pee=fee,mee=dee,K6=L.forwardRef(({className:t,sideOffset:e=4,...n},r)=>C.jsx(Y6,{ref:r,sideOffset:e,className:yn("",t),...n}));K6.displayName=Y6.displayName;var Gb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$b=typeof window>"u"||"Deno"in globalThis;function pa(){}function gee(t,e){return typeof t=="function"?t(e):t}function vee(t){return typeof t=="number"&&t>=0&&t!==1/0}function yee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function NA(t,e){return typeof t=="function"?t(e):t}function xee(t,e){return typeof t=="function"?t(e):t}function zD(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==bR(a,e.options))return!1}else if(!Fg(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function jD(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ug(e.options.mutationKey)!==Ug(o))return!1}else if(!Fg(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function bR(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ug)(t)}function Ug(t){return JSON.stringify(t,(e,n)=>DA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Fg(t[n],e[n])):!1}function Z6(t,e){if(t===e)return t;const n=HD(t)&&HD(e);if(n||DA(t)&&DA(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const f=n?u:o[u];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(s[f]=void 0,c++):(s[f]=Z6(t[f],e[f]),s[f]===t[f]&&t[f]!==void 0&&c++)}return i===a&&c===i?t:s}return e}function HD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function DA(t){if(!VD(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!VD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VD(t){return Object.prototype.toString.call(t)==="[object Object]"}function _ee(t){return new Promise(e=>{setTimeout(e,t)})}function bee(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Z6(t,e):e}function wee(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function See(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var wR=Symbol();function J6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===wR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Wu,tc,gh,fz,Eee=(fz=class extends Gb{constructor(){super();Qt(this,Wu);Qt(this,tc);Qt(this,gh);Dt(this,gh,e=>{if(!$b&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ze(this,tc)||this.setEventListener(ze(this,gh))}onUnsubscribe(){var e;this.hasListeners()||((e=ze(this,tc))==null||e.call(this),Dt(this,tc,void 0))}setEventListener(e){var n;Dt(this,gh,e),(n=ze(this,tc))==null||n.call(this),Dt(this,tc,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ze(this,Wu)!==e&&(Dt(this,Wu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ze(this,Wu)=="boolean"?ze(this,Wu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wu=new WeakMap,tc=new WeakMap,gh=new WeakMap,fz),Q6=new Eee,vh,nc,yh,dz,Mee=(dz=class extends Gb{constructor(){super();Qt(this,vh,!0);Qt(this,nc);Qt(this,yh);Dt(this,yh,e=>{if(!$b&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ze(this,nc)||this.setEventListener(ze(this,yh))}onUnsubscribe(){var e;this.hasListeners()||((e=ze(this,nc))==null||e.call(this),Dt(this,nc,void 0))}setEventListener(e){var n;Dt(this,yh,e),(n=ze(this,nc))==null||n.call(this),Dt(this,nc,e(this.setOnline.bind(this)))}setOnline(e){ze(this,vh)!==e&&(Dt(this,vh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ze(this,vh)}},vh=new WeakMap,nc=new WeakMap,yh=new WeakMap,dz),c_=new Mee;function Tee(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Aee(t){return Math.min(1e3*2**t,3e4)}function e8(t){return(t??"online")==="online"?c_.isOnline():!0}var t8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function tM(t){return t instanceof t8}function n8(t){let e=!1,n=0,r=!1,i;const o=Tee(),a=x=>{var v;r||(d(new t8(x)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>Q6.isFocused()&&(t.networkMode==="always"||c_.isOnline())&&t.canRun(),u=()=>e8(t.networkMode)&&t.canRun(),f=x=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,x),i==null||i(),o.resolve(x))},d=x=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,x),i==null||i(),o.reject(x))},h=()=>new Promise(x=>{var v;i=y=>{(r||c())&&x(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),g=()=>{if(r)return;let x;const v=n===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(f).catch(y=>{var M;if(r)return;const _=t.retry??($b?0:3),b=t.retryDelay??Aee,w=typeof b=="function"?b(n,y):b,E=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,y);if(e||!E){d(y);return}n++,(M=t.onFail)==null||M.call(t,n,y),_ee(w).then(()=>c()?void 0:h()).then(()=>{e?d(y):g()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:u,start:()=>(u()?g():h().then(g),o)}}var Pee=t=>setTimeout(t,0);function Cee(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=Pee;const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Ii=Cee(),Xu,hz,r8=(hz=class{constructor(){Qt(this,Xu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vee(this.gcTime)&&Dt(this,Xu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($b?1/0:5*60*1e3))}clearGcTimeout(){ze(this,Xu)&&(clearTimeout(ze(this,Xu)),Dt(this,Xu,void 0))}},Xu=new WeakMap,hz),xh,qu,$o,Yu,ui,$v,Ku,ga,ks,pz,Ree=(pz=class extends r8{constructor(e){super();Qt(this,ga);Qt(this,xh);Qt(this,qu);Qt(this,$o);Qt(this,Yu);Qt(this,ui);Qt(this,$v);Qt(this,Ku);Dt(this,Ku,!1),Dt(this,$v,e.defaultOptions),this.setOptions(e.options),this.observers=[],Dt(this,Yu,e.client),Dt(this,$o,ze(this,Yu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Dt(this,xh,Iee(this.options)),this.state=e.state??ze(this,xh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ze(this,ui))==null?void 0:e.promise}setOptions(e){this.options={...ze(this,$v),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ze(this,$o).remove(this)}setData(e,n){const r=bee(this.state.data,e,this.options);return ii(this,ga,ks).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ii(this,ga,ks).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ze(this,ui))==null?void 0:r.promise;return(i=ze(this,ui))==null||i.cancel(e),n?n.then(pa).catch(pa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ze(this,xh))}isActive(){return this.observers.some(e=>xee(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>NA(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ze(this,ui))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ze(this,ui))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ze(this,$o).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ze(this,ui)&&(ze(this,Ku)?ze(this,ui).cancel({revert:!0}):ze(this,ui).cancelRetry()),this.scheduleGc()),ze(this,$o).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ii(this,ga,ks).call(this,{type:"invalidate"})}fetch(e,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ze(this,ui))return ze(this,ui).continueRetry(),ze(this,ui).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(Dt(this,Ku,!0),r.signal)})},o=()=>{const d=J6(this.options,n),g=(()=>{const x={client:ze(this,Yu),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return Dt(this,Ku,!1),this.options.persister?this.options.persister(d,g,this):d(g)},s=(()=>{const d={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:ze(this,Yu),state:this.state,fetchFn:o};return i(d),d})();(c=this.options.behavior)==null||c.onFetch(s,this),Dt(this,qu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&ii(this,ga,ks).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const l=d=>{var h,g,x,v;tM(d)&&d.silent||ii(this,ga,ks).call(this,{type:"error",error:d}),tM(d)||((g=(h=ze(this,$o).config).onError)==null||g.call(h,d,this),(v=(x=ze(this,$o).config).onSettled)==null||v.call(x,this.state.data,d,this)),this.scheduleGc()};return Dt(this,ui,n8({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,g,x,v;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(g=(h=ze(this,$o).config).onSuccess)==null||g.call(h,d,this),(v=(x=ze(this,$o).config).onSettled)==null||v.call(x,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,h)=>{ii(this,ga,ks).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{ii(this,ga,ks).call(this,{type:"pause"})},onContinue:()=>{ii(this,ga,ks).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),ze(this,ui).start()}},xh=new WeakMap,qu=new WeakMap,$o=new WeakMap,Yu=new WeakMap,ui=new WeakMap,$v=new WeakMap,Ku=new WeakMap,ga=new WeakSet,ks=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Oee(r.data,this.options),fetchMeta:e.meta??null};case"success":return Dt(this,qu,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return tM(i)&&i.revert&&ze(this,qu)?{...ze(this,qu),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Ii.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ze(this,$o).notify({query:this,type:"updated",action:e})})},pz);function Oee(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:e8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Iee(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wa,mz,Nee=(mz=class extends Gb{constructor(e={}){super();Qt(this,Wa);this.config=e,Dt(this,Wa,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??bR(i,n);let a=this.get(o);return a||(a=new Ree({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){ze(this,Wa).has(e.queryHash)||(ze(this,Wa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ze(this,Wa).get(e.queryHash);n&&(e.destroy(),n===e&&ze(this,Wa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ii.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ze(this,Wa).get(e)}getAll(){return[...ze(this,Wa).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zD(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>zD(e,r)):n}notify(e){Ii.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ii.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ii.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wa=new WeakMap,mz),Xa,Ri,Zu,qa,$l,gz,Dee=(gz=class extends r8{constructor(e){super();Qt(this,qa);Qt(this,Xa);Qt(this,Ri);Qt(this,Zu);this.mutationId=e.mutationId,Dt(this,Ri,e.mutationCache),Dt(this,Xa,[]),this.state=e.state||Lee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ze(this,Xa).includes(e)||(ze(this,Xa).push(e),this.clearGcTimeout(),ze(this,Ri).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Dt(this,Xa,ze(this,Xa).filter(n=>n!==e)),this.scheduleGc(),ze(this,Ri).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ze(this,Xa).length||(this.state.status==="pending"?this.scheduleGc():ze(this,Ri).remove(this))}continue(){var e;return((e=ze(this,Zu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,s,l,c,u,f,d,h,g,x,v,y,_,b,w,E,M,T,O;const n=()=>{ii(this,qa,$l).call(this,{type:"continue"})};Dt(this,Zu,n8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,R)=>{ii(this,qa,$l).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{ii(this,qa,$l).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ze(this,Ri).canRun(this)}));const r=this.state.status==="pending",i=!ze(this,Zu).canStart();try{if(r)n();else{ii(this,qa,$l).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(o=ze(this,Ri).config).onMutate)==null?void 0:a.call(o,e,this));const R=await((l=(s=this.options).onMutate)==null?void 0:l.call(s,e));R!==this.state.context&&ii(this,qa,$l).call(this,{type:"pending",context:R,variables:e,isPaused:i})}const P=await ze(this,Zu).start();return await((u=(c=ze(this,Ri).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,P,e,this.state.context)),await((g=(h=ze(this,Ri).config).onSettled)==null?void 0:g.call(h,P,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,P,null,e,this.state.context)),ii(this,qa,$l).call(this,{type:"success",data:P}),P}catch(P){try{throw await((_=(y=ze(this,Ri).config).onError)==null?void 0:_.call(y,P,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,P,e,this.state.context)),await((M=(E=ze(this,Ri).config).onSettled)==null?void 0:M.call(E,void 0,P,this.state.variables,this.state.context,this)),await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,P,e,this.state.context)),P}finally{ii(this,qa,$l).call(this,{type:"error",error:P})}}finally{ze(this,Ri).runNext(this)}}},Xa=new WeakMap,Ri=new WeakMap,Zu=new WeakMap,qa=new WeakSet,$l=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ii.batch(()=>{ze(this,Xa).forEach(r=>{r.onMutationUpdate(e)}),ze(this,Ri).notify({mutation:this,type:"updated",action:e})})},gz);function Lee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hs,va,Wv,vz,kee=(vz=class extends Gb{constructor(e={}){super();Qt(this,Hs);Qt(this,va);Qt(this,Wv);this.config=e,Dt(this,Hs,new Set),Dt(this,va,new Map),Dt(this,Wv,0)}build(e,n,r){const i=new Dee({mutationCache:this,mutationId:++y0(this,Wv)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){ze(this,Hs).add(e);const n=j0(e);if(typeof n=="string"){const r=ze(this,va).get(n);r?r.push(e):ze(this,va).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ze(this,Hs).delete(e)){const n=j0(e);if(typeof n=="string"){const r=ze(this,va).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&ze(this,va).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=j0(e);if(typeof n=="string"){const r=ze(this,va).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=j0(e);if(typeof n=="string"){const i=(r=ze(this,va).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ii.batch(()=>{ze(this,Hs).forEach(e=>{this.notify({type:"removed",mutation:e})}),ze(this,Hs).clear(),ze(this,va).clear()})}getAll(){return Array.from(ze(this,Hs))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>jD(n,r))}findAll(e={}){return this.getAll().filter(n=>jD(e,n))}notify(e){Ii.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ii.batch(()=>Promise.all(e.map(n=>n.continue().catch(pa))))}},Hs=new WeakMap,va=new WeakMap,Wv=new WeakMap,vz);function j0(t){var e;return(e=t.options.scope)==null?void 0:e.id}function GD(t){return{onFetch:(e,n)=>{var u,f,d,h,g;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=J6(e.options,e.fetchOptions),_=async(b,w,E)=>{if(x)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const T=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:w,direction:E?"backward":"forward",meta:e.options.meta};return v(k),k})(),O=await y(T),{maxPages:P}=e.options,R=E?See:wee;return{pages:R(b.pages,O,P),pageParams:R(b.pageParams,w,P)}};if(i&&o.length){const b=i==="backward",w=b?Uee:$D,E={pages:o,pageParams:a},M=w(r,E);s=await _(E,M,b)}else{const b=t??o.length;do{const w=l===0?a[0]??r.initialPageParam:$D(r,s);if(l>0&&w==null)break;s=await _(s,w),l++}while(l<b)}return s};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function $D(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Uee(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kn,rc,ic,_h,bh,oc,wh,Sh,yz,Fee=(yz=class{constructor(t={}){Qt(this,Kn);Qt(this,rc);Qt(this,ic);Qt(this,_h);Qt(this,bh);Qt(this,oc);Qt(this,wh);Qt(this,Sh);Dt(this,Kn,t.queryCache||new Nee),Dt(this,rc,t.mutationCache||new kee),Dt(this,ic,t.defaultOptions||{}),Dt(this,_h,new Map),Dt(this,bh,new Map),Dt(this,oc,0)}mount(){y0(this,oc)._++,ze(this,oc)===1&&(Dt(this,wh,Q6.subscribe(async t=>{t&&(await this.resumePausedMutations(),ze(this,Kn).onFocus())})),Dt(this,Sh,c_.subscribe(async t=>{t&&(await this.resumePausedMutations(),ze(this,Kn).onOnline())})))}unmount(){var t,e;y0(this,oc)._--,ze(this,oc)===0&&((t=ze(this,wh))==null||t.call(this),Dt(this,wh,void 0),(e=ze(this,Sh))==null||e.call(this),Dt(this,Sh,void 0))}isFetching(t){return ze(this,Kn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ze(this,rc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ze(this,Kn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ze(this,Kn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(NA(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ze(this,Kn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ze(this,Kn).get(r.queryHash),o=i==null?void 0:i.state.data,a=gee(e,o);if(a!==void 0)return ze(this,Kn).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Ii.batch(()=>ze(this,Kn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ze(this,Kn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ze(this,Kn);Ii.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ze(this,Kn);return Ii.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Ii.batch(()=>ze(this,Kn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(pa).catch(pa)}invalidateQueries(t,e={}){return Ii.batch(()=>(ze(this,Kn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Ii.batch(()=>ze(this,Kn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(pa)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(pa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ze(this,Kn).build(this,e);return n.isStaleByTime(NA(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pa).catch(pa)}fetchInfiniteQuery(t){return t.behavior=GD(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pa).catch(pa)}ensureInfiniteQueryData(t){return t.behavior=GD(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return c_.isOnline()?ze(this,rc).resumePausedMutations():Promise.resolve()}getQueryCache(){return ze(this,Kn)}getMutationCache(){return ze(this,rc)}getDefaultOptions(){return ze(this,ic)}setDefaultOptions(t){Dt(this,ic,t)}setQueryDefaults(t,e){ze(this,_h).set(Ug(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ze(this,_h).values()],n={};return e.forEach(r=>{Fg(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ze(this,bh).set(Ug(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ze(this,bh).values()],n={};return e.forEach(r=>{Fg(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ze(this,ic).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===wR&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ze(this,ic).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ze(this,Kn).clear(),ze(this,rc).clear()}},Kn=new WeakMap,rc=new WeakMap,ic=new WeakMap,_h=new WeakMap,bh=new WeakMap,oc=new WeakMap,wh=new WeakMap,Sh=new WeakMap,yz),Bee=L.createContext(void 0),zee=({client:t,children:e})=>(L.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),C.jsx(Bee.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}var lc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lc||(lc={}));const WD="popstate";function jee(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return LA("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:o8(i)}return Vee(e,n,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i8(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hee(){return Math.random().toString(36).substr(2,8)}function XD(t,e){return{usr:t.state,key:t.key,idx:e}}function LA(t,e,n,r){return n===void 0&&(n=null),Bg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mp(e):e,{state:n,key:e&&e.key||r||Hee()})}function o8(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Vee(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=lc.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Bg({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){s=lc.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:s,location:x.location,delta:y})}function d(v,y){s=lc.Push;let _=LA(x.location,v,y);c=u()+1;let b=XD(_,c),w=x.createHref(_);try{a.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}o&&l&&l({action:s,location:x.location,delta:1})}function h(v,y){s=lc.Replace;let _=LA(x.location,v,y);c=u();let b=XD(_,c),w=x.createHref(_);a.replaceState(b,"",w),o&&l&&l({action:s,location:x.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof v=="string"?v:o8(v);return _=_.replace(/ $/,"%20"),Ar(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let x={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WD,f),l=v,()=>{i.removeEventListener(WD,f),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:h,go(v){return a.go(v)}};return x}var qD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qD||(qD={}));function Gee(t,e,n){return n===void 0&&(n="/"),$ee(t,e,n,!1)}function $ee(t,e,n,r){let i=typeof e=="string"?mp(e):e,o=l8(i.pathname||"/",n);if(o==null)return null;let a=a8(t);Wee(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=rte(o);s=tte(a[l],c,r)}return s}function a8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ar(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ef([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Ar(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),a8(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Qee(c,o.index),routesMeta:u})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of s8(o.path))i(o,a,l)}),e}function s8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=s8(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function Wee(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ete(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Xee=/^:[\w-]+$/,qee=3,Yee=2,Kee=1,Zee=10,Jee=-2,YD=t=>t==="*";function Qee(t,e){let n=t.split("/"),r=n.length;return n.some(YD)&&(r+=Jee),e&&(r+=Yee),n.filter(i=>!YD(i)).reduce((i,o)=>i+(Xee.test(o)?qee:o===""?Kee:Zee),r)}function ete(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tte(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",f=KD({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=KD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ef([o,f.pathname]),pathnameBase:cte(ef([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=ef([o,f.pathnameBase]))}return a}function KD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nte(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let x=s[f]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const g=s[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function nte(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),i8(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function rte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i8(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function l8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ite(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mp(t):t;return{pathname:n?n.startsWith("/")?n:ote(n,e):e,search:ute(r),hash:fte(i)}}function ote(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nM(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ate(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ste(t,e){let n=ate(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function lte(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mp(t):(i=Bg({},t),Ar(!i.pathname||!i.pathname.includes("?"),nM("?","pathname","search",i)),Ar(!i.pathname||!i.pathname.includes("#"),nM("#","pathname","hash",i)),Ar(!i.search||!i.search.includes("#"),nM("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=ite(i,s),c=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ef=t=>t.join("/").replace(/\/\/+/g,"/"),cte=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ute=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fte=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const c8=["post","put","patch","delete"];new Set(c8);const hte=["get",...c8];new Set(hte);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zg.apply(this,arguments)}const SR=L.createContext(null),pte=L.createContext(null),Wb=L.createContext(null),Xb=L.createContext(null),gp=L.createContext({outlet:null,matches:[],isDataRoute:!1}),u8=L.createContext(null);function qb(){return L.useContext(Xb)!=null}function Yb(){return qb()||Ar(!1),L.useContext(Xb).location}function f8(t){L.useContext(Wb).static||L.useLayoutEffect(t)}function iy(){let{isDataRoute:t}=L.useContext(gp);return t?Ate():mte()}function mte(){qb()||Ar(!1);let t=L.useContext(SR),{basename:e,future:n,navigator:r}=L.useContext(Wb),{matches:i}=L.useContext(gp),{pathname:o}=Yb(),a=JSON.stringify(ste(i,n.v7_relativeSplatPath)),s=L.useRef(!1);return f8(()=>{s.current=!0}),L.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=lte(c,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ef([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,a,o,t])}function gte(t,e){return vte(t,e)}function vte(t,e,n,r){qb()||Ar(!1);let{navigator:i}=L.useContext(Wb),{matches:o}=L.useContext(gp),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Yb(),u;if(e){var f;let v=typeof e=="string"?mp(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Ar(!1),u=v}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Gee(t,{pathname:h}),x=wte(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ef([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ef([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&x?L.createElement(Xb.Provider,{value:{location:zg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:lc.Pop}},x):x}function yte(){let t=Tte(),e=dte(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const xte=L.createElement(yte,null);class _te extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(gp.Provider,{value:this.props.routeContext},L.createElement(u8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bte(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(SR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(gp.Provider,{value:e},r)}function wte(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||Ar(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let h,g=!1,x=null,v=null;n&&(h=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||xte,l&&(c<0&&d===0?(g=!0,v=null):c===d&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,d+1)),_=()=>{let b;return h?b=x:g?b=v:f.route.Component?b=L.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,L.createElement(bte,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?L.createElement(_te,{location:n.location,revalidation:n.revalidation,component:x,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var d8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(d8||{}),u_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(u_||{});function Ste(t){let e=L.useContext(SR);return e||Ar(!1),e}function Ete(t){let e=L.useContext(pte);return e||Ar(!1),e}function Mte(t){let e=L.useContext(gp);return e||Ar(!1),e}function h8(t){let e=Mte(),n=e.matches[e.matches.length-1];return n.route.id||Ar(!1),n.route.id}function Tte(){var t;let e=L.useContext(u8),n=Ete(u_.UseRouteError),r=h8(u_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Ate(){let{router:t}=Ste(d8.UseNavigateStable),e=h8(u_.UseNavigateStable),n=L.useRef(!1);return f8(()=>{n.current=!0}),L.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zg({fromRouteId:e},o)))},[t,e])}function Pte(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mu(t){Ar(!1)}function Cte(t){let{basename:e="/",children:n=null,location:r,navigationType:i=lc.Pop,navigator:o,static:a=!1,future:s}=t;qb()&&Ar(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:o,static:a,future:zg({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=mp(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:g="default"}=r,x=L.useMemo(()=>{let v=l8(u,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:h,key:g},navigationType:i}},[l,u,f,d,h,g,i]);return x==null?null:L.createElement(Wb.Provider,{value:c},L.createElement(Xb.Provider,{children:n,value:x}))}function Rte(t){let{children:e,location:n}=t;return gte(kA(e),n)}new Promise(()=>{});function kA(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){n.push.apply(n,kA(r.props.children,o));return}r.type!==Mu&&Ar(!1),!r.props.index||!r.props.children||Ar(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=kA(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ote="6";try{window.__reactRouterVersion=Ote}catch{}const Ite="startTransition",ZD=mC[Ite];function Nte(t){let{basename:e,children:n,future:r,window:i}=t,o=L.useRef();o.current==null&&(o.current=jee({window:i,v5Compat:!0}));let a=o.current,[s,l]=L.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=L.useCallback(f=>{c&&ZD?ZD(()=>l(f)):l(f)},[l,c]);return L.useLayoutEffect(()=>a.listen(u),[a,u]),L.useEffect(()=>Pte(r),[r]),L.createElement(Cte,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}var JD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JD||(JD={}));var QD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QD||(QD={}));const Vs=[{id:"micron_16gb_ddr5_6400",name:"Micron DDR5-6400",manufacturer:"Micron",speed:"6400 MT/s",capacity:"16GB",memspec:{memoryId:"micron_16gb_ddr5_6400_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:16,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:53,idd2n:49,idd3n:111,idd4r:226,idd4w:262,idd5b:11539,idd6n:50,idd2p:47,idd3p:110,ipp0:9,ipp2n:8,ipp3n:8,ipp4r:9,ipp4w:22,ipp5b:758,ipp6n:8,ipp2p:8,ipp3p:8},memtimingspec:{tCK:156e-12,RAS:260,RCD:136,RP:136,RFC1:2560,RFC2:1920,RFCsb:960,REFI:51200}}},{id:"samsung_16gb_ddr5_4800",name:"Samsung DDR5-4800",manufacturer:"Samsung",speed:"4800 MT/s",capacity:"16GB",memspec:{memoryId:"samsung_16gb_ddr5_4800_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:16,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:48,idd2n:44,idd3n:98,idd4r:195,idd4w:230,idd5b:9500,idd6n:42,idd2p:40,idd3p:95,ipp0:8,ipp2n:7,ipp3n:7,ipp4r:8,ipp4w:18,ipp5b:650,ipp6n:7,ipp2p:7,ipp3p:7},memtimingspec:{tCK:208e-12,RAS:195,RCD:102,RP:102,RFC1:1920,RFC2:1440,RFCsb:720,REFI:38400}}},{id:"sk_hynix_16gb_ddr5_5600",name:"SK Hynix DDR5-5600",manufacturer:"SK Hynix",speed:"5600 MT/s",capacity:"16GB",memspec:{memoryId:"sk_hynix_16gb_ddr5_5600_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:16,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:50,idd2n:46,idd3n:105,idd4r:210,idd4w:245,idd5b:10500,idd6n:46,idd2p:43,idd3p:102,ipp0:8.5,ipp2n:7.5,ipp3n:7.5,ipp4r:8.5,ipp4w:20,ipp5b:700,ipp6n:7.5,ipp2p:7.5,ipp3p:7.5},memtimingspec:{tCK:179e-12,RAS:224,RCD:117,RP:117,RFC1:2240,RFC2:1680,RFCsb:840,REFI:44800}}},{id:"micron_16gb_ddr5_4800",name:"Micron DDR5-4800",manufacturer:"Micron",speed:"4800 MT/s",capacity:"16GB",memspec:{memoryId:"micron_16gb_ddr5_4800_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:32,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:164,idd2n:147,idd3n:150,idd4r:460,idd4w:578,idd5b:364,idd6n:64,idd2p:140,idd3p:144,ipp0:0,ipp2n:0,ipp3n:0,ipp4r:0,ipp4w:0,ipp5b:0,ipp6n:0,ipp2p:0,ipp3p:0},memtimingspec:{tCK:416e-12,RAS:76.923,RCD:40,RP:40,RFC1:769,RFC2:442,RFCsb:360,REFI:9615}}},{id:"sk_hynix_8gb_ddr5_4800",name:"SK Hynix DDR5-4800 (8GB)",manufacturer:"SK Hynix",speed:"4800 MT/s",capacity:"8GB",memspec:{memoryId:"skhynix_8gb_ddr5_4800_x16",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:32,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:107.1,idd2n:75.1,idd3n:110.9,idd4r:581.1,idd4w:663.2,idd5b:245.2,idd6n:63.8,idd2p:60.6,idd3p:96.6,ipp0:0,ipp2n:0,ipp3n:0,ipp4r:0,ipp4w:0,ipp5b:0,ipp6n:0,ipp2p:0,ipp3p:0},memtimingspec:{tCK:416e-12,RAS:76.923,RCD:40,RP:40,RFC1:769,RFC2:442,RFCsb:360,REFI:9615}}},{id:"sk_hynix_16gb_ddr5_4800",name:"SK Hynix DDR5-4800 (16GB)",manufacturer:"SK Hynix",speed:"4800 MT/s",capacity:"16GB",memspec:{memoryId:"skhynix_16gb_ddr5_4800_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:32,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:169.8,idd2n:137.6,idd3n:209.1,idd4r:693.3,idd4w:820.2,idd5b:502.6,idd6n:126.1,idd2p:108.7,idd3p:180.5,ipp0:0,ipp2n:0,ipp3n:0,ipp4r:0,ipp4w:0,ipp5b:0,ipp6n:0,ipp2p:0,ipp3p:0},memtimingspec:{tCK:416e-12,RAS:76.923,RCD:40,RP:40,RFC1:769,RFC2:442,RFCsb:360,REFI:9615}}},{id:"sk_hynix_32gb_ddr5_4800",name:"SK Hynix DDR5-4800 (32GB)",manufacturer:"SK Hynix",speed:"4800 MT/s",capacity:"32GB",memspec:{memoryId:"skhynix_32gb_ddr5_4800_x8",memoryType:"DDR5",memarchitecturespec:{width:8,nbrOfBanks:32,nbrOfBankGroups:8,nbrOfRanks:1,nbrOfColumns:1024,nbrOfRows:65536,burstLength:16,dataRate:2},mempowerspec:{vdd:1.1,vpp:1.8,vddq:1.1,idd0:305.7,idd2n:273.5,idd3n:345,idd4r:860.8,idd4w:957.6,idd5b:638.5,idd6n:250.5,idd2p:244.7,idd3p:316.4,ipp0:0,ipp2n:0,ipp3n:0,ipp4r:0,ipp4w:0,ipp5b:0,ipp6n:0,ipp2p:0,ipp3p:0},memtimingspec:{tCK:416e-12,RAS:76.923,RCD:40,RP:40,RFC1:769,RFC2:442,RFCsb:360,REFI:9615}}}],Pd={BNK_PRE_percent:50,CKE_LO_PRE_percent:0,CKE_LO_ACT_percent:0,PageHit_percent:50,RDsch_percent:25,RD_Data_Low_percent:50,WRsch_percent:25,WR_Data_Low_percent:50,termRDsch_percent:0,termWRsch_percent:0,System_tRC_ns:46,tRRDsch_ns:5},p8=[{id:"balanced",name:"Balanced",description:"Typical mixed read/write workload",workload:Pd},{id:"read_heavy",name:"Read Heavy",description:"Gaming/streaming workload (80% read)",workload:{...Pd,RDsch_percent:40,WRsch_percent:10,BNK_PRE_percent:40}},{id:"write_heavy",name:"Write Heavy",description:"Content creation workload (70% write)",workload:{...Pd,RDsch_percent:15,WRsch_percent:35,BNK_PRE_percent:35}},{id:"idle",name:"Idle",description:"System idle with minimal activity",workload:{...Pd,RDsch_percent:2,WRsch_percent:1,BNK_PRE_percent:90,CKE_LO_PRE_percent:50}},{id:"stress",name:"Stress Test",description:"Maximum activity (memtest, benchmarks)",workload:{...Pd,RDsch_percent:45,WRsch_percent:45,BNK_PRE_percent:10,tRRDsch_ns:3}}],m8=L.createContext(void 0),H0={MEMSPEC:"ddr5_calculator_memspec",WORKLOAD:"ddr5_calculator_workload"};function eL(t,e){try{const n=localStorage.getItem(t);if(n)return JSON.parse(n)}catch(n){console.warn(`Failed to load ${t} from localStorage:`,n)}return e}function tL(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.warn(`Failed to save ${t} to localStorage:`,n)}}function Dte({children:t}){const[e,n]=L.useState(Vs[0].memspec),[r,i]=L.useState(Pd),[o,a]=L.useState(!1);L.useEffect(()=>{const f=eL(H0.MEMSPEC,null),d=eL(H0.WORKLOAD,null);f&&n(f),d&&i(d),a(!0)},[]),L.useEffect(()=>{o&&tL(H0.MEMSPEC,e)},[e,o]),L.useEffect(()=>{o&&tL(H0.WORKLOAD,r)},[r,o]);const s=L.useCallback(f=>{n(f)},[]),l=L.useCallback(f=>{i(f)},[]),c=L.useCallback(async f=>{try{const d=await f.text(),h=JSON.parse(d),g=h.workload||h,x=["BNK_PRE_percent","CKE_LO_PRE_percent","CKE_LO_ACT_percent","RDsch_percent","WRsch_percent","tRRDsch_ns"];for(const v of x)if(g[v]===void 0)throw new Error(`Missing required field: ${v}`);l(g)}catch(d){throw new Error(`Failed to load workload file: ${d instanceof Error?d.message:"Unknown error"}`)}},[]),u=L.useCallback(async f=>{try{const d=await f.text(),h=JSON.parse(d),g=h.memspec||h;if(!g.memarchitecturespec)throw new Error("Missing memarchitecturespec");if(!g.mempowerspec)throw new Error("Missing mempowerspec");if(!g.memtimingspec)throw new Error("Missing memtimingspec");const x=g.mempowerspec,v=_=>_<1?_*1e3:_,y={...x,idd0:v(x.idd0||x.IDD0||0),idd2n:v(x.idd2n||x.IDD2N||0),idd3n:v(x.idd3n||x.IDD3N||0),idd4r:v(x.idd4r||x.IDD4R||0),idd4w:v(x.idd4w||x.IDD4W||0),idd5b:v(x.idd5b||x.IDD5B||0),idd6n:v(x.idd6n||x.IDD6N||0),idd2p:v(x.idd2p||x.IDD2P||0),idd3p:v(x.idd3p||x.IDD3P||0),ipp0:v(x.ipp0||x.IPP0||0),ipp2n:v(x.ipp2n||x.IPP2N||0),ipp3n:v(x.ipp3n||x.IPP3N||0),ipp4r:v(x.ipp4r||x.IPP4R||0),ipp4w:v(x.ipp4w||x.IPP4W||0),ipp5b:v(x.ipp5b||x.IPP5B||0),ipp6n:v(x.ipp6n||x.IPP6N||0),ipp2p:v(x.ipp2p||x.IPP2P||0),ipp3p:v(x.ipp3p||x.IPP3P||0)};s({...g,mempowerspec:y})}catch(d){throw new Error(`Failed to load memory spec file: ${d instanceof Error?d.message:"Unknown error"}`)}},[]);return C.jsx(m8.Provider,{value:{memspec:e,workload:r,setMemspec:s,setWorkload:l,loadWorkloadFromFile:c,loadMemspecFromFile:u},children:t})}function Kb(){const t=L.useContext(m8);if(t===void 0)throw new Error("useConfig must be used within a ConfigProvider");return t}const Lte=ty("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ro=L.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?oK:"button";return C.jsx(a,{className:yn(Lte({variant:e,size:n,className:t})),ref:o,...i})});ro.displayName="Button";function oy(){const t=iy(),e=Yb(),n=[{path:"/configuration",label:"Configuration",icon:Ng},{path:"/core-power",label:"Core Power",icon:yc},{path:"/dimm-power",label:"DIMM Power",icon:Oh}];return C.jsx("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsxs("div",{className:"h-14 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"relative",children:[C.jsx(Oh,{className:"w-7 h-7 text-primary"}),C.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-accent rounded-full animate-pulse-glow"})]}),C.jsxs("div",{children:[C.jsxs("h1",{className:"text-lg font-semibold tracking-tight",children:["DDR5 ",C.jsx("span",{className:"gradient-text",children:"Power Calculator"})]}),C.jsx("p",{className:"text-xs text-muted-foreground -mt-0.5",children:"JEDEC-compliant power modeling"})]})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("nav",{className:"hidden md:flex items-center gap-1 mr-4",children:n.map(r=>{const i=r.icon,o=e.pathname===r.path;return C.jsxs(ro,{variant:o?"secondary":"ghost",size:"sm",onClick:()=>t(r.path),className:yn("h-8 px-3 text-xs",o&&"bg-primary/10 text-primary"),children:[C.jsx(i,{className:"w-3.5 h-3.5 mr-1.5"}),r.label]},r.path)})}),C.jsxs(pee,{children:[C.jsx(mee,{asChild:!0,children:C.jsx(ro,{variant:"ghost",size:"icon",className:"h-8 w-8",children:C.jsx(iZ,{className:"w-4 h-4"})})}),C.jsx(K6,{side:"bottom",className:"max-w-xs",children:C.jsx("p",{className:"text-sm",children:"DDR5 power calculator based on JEDEC specifications. Supports IDD/IPP current measurements and workload modeling."})})]}),C.jsx(ro,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:C.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer","aria-label":"View on GitHub",children:C.jsx(rZ,{className:"w-4 h-4"})})})]})]})})})}const cn=L.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:yn("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));cn.displayName="Card";const Mn=L.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:yn("flex flex-col space-y-1.5 p-6",t),...e}));Mn.displayName="CardHeader";const Tn=L.forwardRef(({className:t,...e},n)=>C.jsx("h3",{ref:n,className:yn("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tn.displayName="CardTitle";const fh=L.forwardRef(({className:t,...e},n)=>C.jsx("p",{ref:n,className:yn("text-sm text-muted-foreground",t),...e}));fh.displayName="CardDescription";const un=L.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:yn("p-6 pt-0",t),...e}));un.displayName="CardContent";const kte=L.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:yn("flex items-center p-6 pt-0",t),...e}));kte.displayName="CardFooter";function Ute(){const t=iy();return C.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[C.jsx(oy,{}),C.jsx("main",{className:"flex-1 container mx-auto px-4 py-6 overflow-y-auto scrollbar-thin",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("div",{className:"text-center mb-12 mt-8",children:[C.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["DDR5 ",C.jsx("span",{className:"gradient-text",children:"Power Calculator"})]}),C.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"JEDEC-compliant power modeling for DDR5 memory modules"}),C.jsxs(ro,{size:"lg",onClick:()=>t("/configuration"),className:"text-lg px-8",children:[C.jsx(oZ,{className:"w-5 h-5 mr-2"}),"Get Started"]})]}),C.jsxs("div",{className:"mb-12",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"How to Use"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C.jsxs(cn,{className:"power-card",children:[C.jsxs(Mn,{className:"!p-4 !pb-2",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"1"}),C.jsxs(Tn,{className:"text-lg flex items-center gap-2",children:[C.jsx(Ng,{className:"w-5 h-5 text-primary"}),"Configure"]})]}),C.jsx(fh,{children:"Set up your memory specification and workload parameters"})]}),C.jsx(un,{className:"!p-4 !pt-0 space-y-2",children:C.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"Select a memory preset or upload a custom JSON file"}),C.jsx("li",{children:"Choose a workload profile or upload custom workload"}),C.jsx("li",{children:"Adjust voltage, current, and workload parameters"})]})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsxs(Mn,{className:"!p-4 !pb-2",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"2"}),C.jsxs(Tn,{className:"text-lg flex items-center gap-2",children:[C.jsx(yc,{className:"w-5 h-5 text-power-vdd"}),"Core Power"]})]}),C.jsx(fh,{children:"Analyze per-chip power consumption breakdown"})]}),C.jsx(un,{className:"!p-4 !pt-0 space-y-2",children:C.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"View total core power per chip"}),C.jsx("li",{children:"See 3D visualization of memory architecture"}),C.jsx("li",{children:"Analyze power components and distribution"})]})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsxs(Mn,{className:"!p-4 !pb-2",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:"3"}),C.jsxs(Tn,{className:"text-lg flex items-center gap-2",children:[C.jsx(Oh,{className:"w-5 h-5 text-accent"}),"DIMM Power"]})]}),C.jsx(fh,{children:"Calculate total DIMM power including overhead"})]}),C.jsx(un,{className:"!p-4 !pt-0 space-y-2",children:C.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[C.jsx("li",{children:"View total DIMM power consumption"}),C.jsx("li",{children:"See breakdown of core, interface, and overhead"}),C.jsx("li",{children:"Understand complete power profile"})]})})]})]})]}),C.jsxs("div",{className:"mb-12",children:[C.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Features"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(v1,{className:"w-4 h-4 text-primary"}),"Custom JSON Upload"]})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your own memory specification and workload JSON files for custom configurations."})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(Ng,{className:"w-4 h-4 text-primary"}),"Persistent Configuration"]})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:"Your settings are automatically saved to localStorage and persist across page navigation."})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(yc,{className:"w-4 h-4 text-power-vdd"}),"Real-time Calculation"]})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:"Power calculations update automatically as you adjust parameters in real-time."})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(Oh,{className:"w-4 h-4 text-accent"}),"JEDEC Compliant"]})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on JEDEC JESD79-5 specifications for accurate DDR5 power modeling."})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(yc,{className:"w-4 h-4 text-primary"}),"Inverse Spec Finder"]})}),C.jsxs(un,{className:"!p-4 !pt-0 space-y-2",children:[C.jsx("p",{className:"text-sm text-muted-foreground",children:"Start from a target core power and let the tool search for a DDR5 spec that best matches it."}),C.jsxs(ro,{variant:"outline",size:"sm",onClick:()=>t("/target-power"),children:["Try Target Power",C.jsx(JK,{className:"w-4 h-4 ml-1"})]})]})]})]})]})]})})]})}var Zb="Collapsible",[Fte,g8]=yl(Zb),[Bte,ER]=Fte(Zb),v8=L.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=t,[l,c]=kc({prop:r,defaultProp:i??!1,onChange:a,caller:Zb});return C.jsx(Bte,{scope:n,disabled:o,contentId:ny(),open:l,onOpenToggle:L.useCallback(()=>c(u=>!u),[c]),children:C.jsx(on.div,{"data-state":TR(l),"data-disabled":o?"":void 0,...s,ref:e})})});v8.displayName=Zb;var y8="CollapsibleTrigger",x8=L.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=ER(y8,n);return C.jsx(on.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":TR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:qt(t.onClick,i.onOpenToggle)})});x8.displayName=y8;var MR="CollapsibleContent",_8=L.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ER(MR,t.__scopeCollapsible);return C.jsx(Qv,{present:n||i.open,children:({present:o})=>C.jsx(zte,{...r,ref:e,present:o})})});_8.displayName=MR;var zte=L.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=t,a=ER(MR,n),[s,l]=L.useState(r),c=L.useRef(null),u=xr(e,c),f=L.useRef(0),d=f.current,h=L.useRef(0),g=h.current,x=a.open||s,v=L.useRef(x),y=L.useRef(void 0);return L.useEffect(()=>{const _=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(_)},[]),as(()=>{const _=c.current;if(_){y.current=y.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const b=_.getBoundingClientRect();f.current=b.height,h.current=b.width,v.current||(_.style.transitionDuration=y.current.transitionDuration,_.style.animationName=y.current.animationName),l(r)}},[a.open,r]),C.jsx(on.div,{"data-state":TR(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...o,ref:u,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&i})});function TR(t){return t?"open":"closed"}var jte=v8,Hte=x8,Vte=_8,Gte=L.createContext(void 0);function Jb(t){const e=L.useContext(Gte);return t||e||"ltr"}var Na="Accordion",$te=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[AR,Wte,Xte]=Lb(Na),[Qb,IUe]=yl(Na,[Xte,g8]),PR=g8(),b8=J.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,o=r;return C.jsx(AR.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?C.jsx(Zte,{...o,ref:e}):C.jsx(Kte,{...i,ref:e})})});b8.displayName=Na;var[w8,qte]=Qb(Na),[S8,Yte]=Qb(Na,{collapsible:!1}),Kte=J.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...a}=t,[s,l]=kc({prop:n,defaultProp:r??"",onChange:i,caller:Na});return C.jsx(w8,{scope:t.__scopeAccordion,value:J.useMemo(()=>s?[s]:[],[s]),onItemOpen:l,onItemClose:J.useCallback(()=>o&&l(""),[o,l]),children:C.jsx(S8,{scope:t.__scopeAccordion,collapsible:o,children:C.jsx(E8,{...a,ref:e})})})}),Zte=J.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[a,s]=kc({prop:n,defaultProp:r??[],onChange:i,caller:Na}),l=J.useCallback(u=>s((f=[])=>[...f,u]),[s]),c=J.useCallback(u=>s((f=[])=>f.filter(d=>d!==u)),[s]);return C.jsx(w8,{scope:t.__scopeAccordion,value:a,onItemOpen:l,onItemClose:c,children:C.jsx(S8,{scope:t.__scopeAccordion,collapsible:!0,children:C.jsx(E8,{...o,ref:e})})})}),[Jte,ew]=Qb(Na),E8=J.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...a}=t,s=J.useRef(null),l=xr(s,e),c=Wte(n),f=Jb(i)==="ltr",d=qt(t.onKeyDown,h=>{var O;if(!$te.includes(h.key))return;const g=h.target,x=c().filter(P=>{var R;return!((R=P.ref.current)!=null&&R.disabled)}),v=x.findIndex(P=>P.ref.current===g),y=x.length;if(v===-1)return;h.preventDefault();let _=v;const b=0,w=y-1,E=()=>{_=v+1,_>w&&(_=b)},M=()=>{_=v-1,_<b&&(_=w)};switch(h.key){case"Home":_=b;break;case"End":_=w;break;case"ArrowRight":o==="horizontal"&&(f?E():M());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?M():E());break;case"ArrowUp":o==="vertical"&&M();break}const T=_%y;(O=x[T].ref.current)==null||O.focus()});return C.jsx(Jte,{scope:n,disabled:r,direction:i,orientation:o,children:C.jsx(AR.Slot,{scope:n,children:C.jsx(on.div,{...a,"data-orientation":o,ref:l,onKeyDown:r?void 0:d})})})}),f_="AccordionItem",[Qte,CR]=Qb(f_),M8=J.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,o=ew(f_,n),a=qte(f_,n),s=PR(n),l=ny(),c=r&&a.value.includes(r)||!1,u=o.disabled||t.disabled;return C.jsx(Qte,{scope:n,open:c,disabled:u,triggerId:l,children:C.jsx(jte,{"data-orientation":o.orientation,"data-state":O8(c),...s,...i,ref:e,disabled:u,open:c,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});M8.displayName=f_;var T8="AccordionHeader",A8=J.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ew(Na,n),o=CR(T8,n);return C.jsx(on.h3,{"data-orientation":i.orientation,"data-state":O8(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:e})});A8.displayName=T8;var UA="AccordionTrigger",P8=J.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ew(Na,n),o=CR(UA,n),a=Yte(UA,n),s=PR(n);return C.jsx(AR.ItemSlot,{scope:n,children:C.jsx(Hte,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...s,...r,ref:e})})});P8.displayName=UA;var C8="AccordionContent",R8=J.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=ew(Na,n),o=CR(C8,n),a=PR(n);return C.jsx(Vte,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});R8.displayName=C8;function O8(t){return t?"open":"closed"}var ene=b8,tne=M8,nne=A8,I8=P8,N8=R8;const rne=ene,x1=L.forwardRef(({className:t,...e},n)=>C.jsx(tne,{ref:n,className:yn("border-b",t),...e}));x1.displayName="AccordionItem";const _1=L.forwardRef(({className:t,children:e,...n},r)=>C.jsx(nne,{className:"flex",children:C.jsxs(I8,{ref:r,className:yn("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,C.jsx(eZ,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_1.displayName=I8.displayName;const b1=L.forwardRef(({className:t,children:e,...n},r)=>C.jsx(N8,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:C.jsx("div",{className:yn("pb-4 pt-0",t),children:e})}));b1.displayName=N8.displayName;var ine="Label",D8=L.forwardRef((t,e)=>C.jsx(on.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));D8.displayName=ine;var L8=D8;const one=ty("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),jg=L.forwardRef(({className:t,...e},n)=>C.jsx(L8,{ref:n,className:yn(one(),t),...e}));jg.displayName=L8.displayName;function k8(t,[e,n]){return Math.min(n,Math.max(e,t))}function ane(t){const e=L.useRef({value:t,previous:t});return L.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var U8=["PageUp","PageDown"],F8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],B8={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vp="Slider",[FA,sne,lne]=Lb(vp),[z8,NUe]=yl(vp,[lne]),[cne,tw]=z8(vp),j8=L.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:a="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,form:g,...x}=t,v=L.useRef(new Set),y=L.useRef(0),b=a==="horizontal"?une:fne,[w=[],E]=kc({prop:u,defaultProp:c,onChange:k=>{var G;(G=[...v.current][y.current])==null||G.focus(),f(k)}}),M=L.useRef(w);function T(k){const D=gne(w,k);R(k,D)}function O(k){R(k,y.current)}function P(){const k=M.current[y.current];w[y.current]!==k&&d(w)}function R(k,D,{commit:G}={commit:!1}){const N=_ne(o),$=bne(Math.round((k-r)/o)*o+r,N),H=k8($,[r,i]);E((K=[])=>{const U=pne(K,H,D);if(xne(U,l*o)){y.current=U.indexOf(H);const F=String(U)!==String(K);return F&&G&&d(U),F?U:K}else return K})}return C.jsx(cne,{scope:t.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:w,orientation:a,form:g,children:C.jsx(FA.Provider,{scope:t.__scopeSlider,children:C.jsx(FA.Slot,{scope:t.__scopeSlider,children:C.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...x,ref:e,onPointerDown:qt(x.onPointerDown,()=>{s||(M.current=w)}),min:r,max:i,inverted:h,onSlideStart:s?void 0:T,onSlideMove:s?void 0:O,onSlideEnd:s?void 0:P,onHomeKeyDown:()=>!s&&R(r,0,{commit:!0}),onEndKeyDown:()=>!s&&R(i,w.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:D})=>{if(!s){const $=U8.includes(k.key)||k.shiftKey&&F8.includes(k.key)?10:1,H=y.current,K=w[H],U=o*$*D;R(K+U,H,{commit:!0})}}})})})})});j8.displayName=vp;var[H8,V8]=z8(vp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),une=L.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onStepKeyDown:c,...u}=t,[f,d]=L.useState(null),h=xr(e,b=>d(b)),g=L.useRef(void 0),x=Jb(i),v=x==="ltr",y=v&&!o||!v&&o;function _(b){const w=g.current||f.getBoundingClientRect(),E=[0,w.width],T=RR(E,y?[n,r]:[r,n]);return g.current=w,T(b-w.left)}return C.jsx(H8,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:C.jsx(G8,{dir:x,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=_(b.clientX);a==null||a(w)},onSlideMove:b=>{const w=_(b.clientX);s==null||s(w)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:b=>{const E=B8[y?"from-left":"from-right"].includes(b.key);c==null||c({event:b,direction:E?-1:1})}})})}),fne=L.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:s,onStepKeyDown:l,...c}=t,u=L.useRef(null),f=xr(e,u),d=L.useRef(void 0),h=!i;function g(x){const v=d.current||u.current.getBoundingClientRect(),y=[0,v.height],b=RR(y,h?[r,n]:[n,r]);return d.current=v,b(x-v.top)}return C.jsx(H8,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:C.jsx(G8,{"data-orientation":"vertical",...c,ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=g(x.clientY);o==null||o(v)},onSlideMove:x=>{const v=g(x.clientY);a==null||a(v)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:x=>{const y=B8[h?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:y?-1:1})}})})}),G8=L.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:s,onStepKeyDown:l,...c}=t,u=tw(vp,n);return C.jsx(on.span,{...c,ref:e,onKeyDown:qt(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):U8.concat(F8).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:qt(t.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:qt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:qt(t.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),o(f))})})}),$8="SliderTrack",W8=L.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=tw($8,n);return C.jsx(on.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});W8.displayName=$8;var BA="SliderRange",X8=L.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=tw(BA,n),o=V8(BA,n),a=L.useRef(null),s=xr(e,a),l=i.values.length,c=i.values.map(d=>K8(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return C.jsx(on.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}})});X8.displayName=BA;var zA="SliderThumb",q8=L.forwardRef((t,e)=>{const n=sne(t.__scopeSlider),[r,i]=L.useState(null),o=xr(e,s=>i(s)),a=L.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return C.jsx(dne,{...t,ref:o,index:a})}),dne=L.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,a=tw(zA,n),s=V8(zA,n),[l,c]=L.useState(null),u=xr(e,_=>c(_)),f=l?a.form||!!l.closest("form"):!0,d=O6(l),h=a.values[r],g=h===void 0?0:K8(h,a.min,a.max),x=mne(r,a.values.length),v=d==null?void 0:d[s.size],y=v?vne(v,g,s.direction):0;return L.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),C.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${g}% + ${y}px)`},children:[C.jsx(FA.ItemSlot,{scope:t.__scopeSlider,children:C.jsx(on.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:qt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&C.jsx(Y8,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});q8.displayName=zA;var hne="RadioBubbleInput",Y8=L.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=L.useRef(null),o=xr(i,r),a=ane(e);return L.useEffect(()=>{const s=i.current;if(!s)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const f=new Event("input",{bubbles:!0});u.call(s,e),s.dispatchEvent(f)}},[a,e]),C.jsx(on.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});Y8.displayName=hne;function pne(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function K8(t,e,n){const o=100/(n-e)*(t-e);return k8(o,[0,100])}function mne(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function gne(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function vne(t,e,n){const r=t/2,o=RR([0,50],[0,r]);return(r-o(e)*n)*n}function yne(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function xne(t,e){if(e>0){const n=yne(t);return Math.min(...n)>=e}return!0}function RR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function _ne(t){return(String(t).split(".")[1]||"").length}function bne(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Z8=j8,wne=W8,Sne=X8,Ene=q8;const J8=L.forwardRef(({className:t,...e},n)=>C.jsxs(Z8,{ref:n,className:yn("relative flex w-full touch-none select-none items-center",t),...e,children:[C.jsx(wne,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:C.jsx(Sne,{className:"absolute h-full bg-primary"})}),C.jsx(Ene,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));J8.displayName=Z8.displayName;const Hg=L.forwardRef(({className:t,type:e,...n},r)=>C.jsx("input",{type:e,className:yn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Hg.displayName="Input";const Mne=ty("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nw({className:t,variant:e,...n}){return C.jsx("div",{className:yn(Mne({variant:e}),t),...n})}function Tne({memspec:t,workload:e,onMemspecChange:n,onWorkloadChange:r}){const i=(a,s)=>{n({...t,mempowerspec:{...t.mempowerspec,[a]:s}})},o=(a,s)=>{r({...e,[a]:s})};return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2 border-b border-border",children:C.jsxs(Tn,{className:"flex items-center gap-2 text-base",children:[C.jsx(sZ,{className:"w-4 h-4 text-primary"}),"Configuration"]})}),C.jsx(un,{className:"!p-0 overflow-y-auto scrollbar-thin",style:{maxHeight:"calc(100vh - 20rem)"},children:C.jsxs(rne,{type:"multiple",defaultValue:["voltage","workload"],className:"w-full",children:[C.jsxs(x1,{value:"architecture",className:"border-border",children:[C.jsx(_1,{className:"px-4 py-3 hover:bg-secondary/50",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(i_,{className:"w-4 h-4 text-primary"}),C.jsx("span",{children:"Architecture"}),C.jsx(nw,{variant:"secondary",className:"ml-2 text-xs",children:t.memoryId})]})}),C.jsx(b1,{className:"px-4 pb-4 space-y-4",children:C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx(ed,{label:"Banks",value:t.memarchitecturespec.nbrOfBanks}),C.jsx(ed,{label:"Bank Groups",value:t.memarchitecturespec.nbrOfBankGroups}),C.jsx(ed,{label:"Ranks",value:t.memarchitecturespec.nbrOfRanks}),C.jsx(ed,{label:"Width",value:`${t.memarchitecturespec.width}-bit`}),C.jsx(ed,{label:"Burst Length",value:t.memarchitecturespec.burstLength}),C.jsx(ed,{label:"Columns",value:t.memarchitecturespec.nbrOfColumns.toLocaleString()})]})})]}),C.jsxs(x1,{value:"voltage",className:"border-border",children:[C.jsx(_1,{className:"px-4 py-3 hover:bg-secondary/50",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(yc,{className:"w-4 h-4 text-power-vdd"}),C.jsx("span",{children:"Voltage & Current"})]})}),C.jsxs(b1,{className:"px-4 pb-4 space-y-5",children:[C.jsx(Ul,{label:"VDD (Core)",value:t.mempowerspec.vdd,min:1,max:1.2,step:.01,unit:"V",onChange:a=>i("vdd",a)}),C.jsx(Ul,{label:"VPP (Wordline)",value:t.mempowerspec.vpp,min:1.7,max:1.9,step:.01,unit:"V",onChange:a=>i("vpp",a)}),C.jsx(Ul,{label:"VDDQ (I/O)",value:t.mempowerspec.vddq,min:1,max:1.2,step:.01,unit:"V",onChange:a=>i("vddq",a)}),C.jsxs("div",{className:"pt-2 border-t border-border",children:[C.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Key IDD Currents (mA)"}),C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx(V0,{label:"IDD0 (ACT)",value:t.mempowerspec.idd0,onChange:a=>i("idd0",a)}),C.jsx(V0,{label:"IDD4R (Read)",value:t.mempowerspec.idd4r,onChange:a=>i("idd4r",a)}),C.jsx(V0,{label:"IDD4W (Write)",value:t.mempowerspec.idd4w,onChange:a=>i("idd4w",a)}),C.jsx(V0,{label:"IDD5B (Refresh)",value:t.mempowerspec.idd5b,onChange:a=>i("idd5b",a)})]})]})]})]}),C.jsxs(x1,{value:"workload",className:"border-border",children:[C.jsx(_1,{className:"px-4 py-3 hover:bg-secondary/50",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(MA,{className:"w-4 h-4 text-accent"}),C.jsx("span",{children:"Workload"})]})}),C.jsxs(b1,{className:"px-4 pb-4 space-y-5",children:[C.jsx(Ul,{label:"Read Activity",value:e.RDsch_percent,min:0,max:50,step:1,unit:"%",onChange:a=>o("RDsch_percent",a),color:"text-power-read"}),C.jsx(Ul,{label:"Write Activity",value:e.WRsch_percent,min:0,max:50,step:1,unit:"%",onChange:a=>o("WRsch_percent",a),color:"text-power-write"}),C.jsx(Ul,{label:"Banks Precharged",value:e.BNK_PRE_percent,min:0,max:100,step:1,unit:"%",onChange:a=>o("BNK_PRE_percent",a)}),C.jsx(Ul,{label:"Page Hit Rate",value:e.PageHit_percent,min:0,max:100,step:1,unit:"%",onChange:a=>o("PageHit_percent",a)}),C.jsx(Ul,{label:"tRRD Scheduling",value:e.tRRDsch_ns,min:2,max:20,step:.5,unit:"ns",onChange:a=>o("tRRDsch_ns",a)})]})]})]})})]})}function ed({label:t,value:e}){return C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:"data-label",children:t}),C.jsx("span",{className:"data-value",children:e})]})}function Ul({label:t,value:e,min:n,max:r,step:i,unit:o,onChange:a,color:s}){return C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx(jg,{className:"text-sm text-muted-foreground",children:t}),C.jsxs("span",{className:`data-value ${s||""}`,children:[e.toFixed(i<1?2:0)," ",o]})]}),C.jsx(J8,{value:[e],min:n,max:r,step:i,onValueChange:([l])=>a(l),className:"py-1"})]})}function V0({label:t,value:e,onChange:n}){return C.jsxs("div",{className:"space-y-1",children:[C.jsx(jg,{className:"text-xs text-muted-foreground",children:t}),C.jsx(Hg,{type:"number",value:e,onChange:r=>n(parseFloat(r.target.value)||0),className:"h-8 text-sm font-mono bg-secondary border-border"})]})}var rM="rovingFocusGroup.onEntryFocus",Ane={bubbles:!1,cancelable:!0},ay="RovingFocusGroup",[jA,Q8,Pne]=Lb(ay),[Cne,eH]=yl(ay,[Pne]),[Rne,One]=Cne(ay),tH=L.forwardRef((t,e)=>C.jsx(jA.Provider,{scope:t.__scopeRovingFocusGroup,children:C.jsx(jA.Slot,{scope:t.__scopeRovingFocusGroup,children:C.jsx(Ine,{...t,ref:e})})}));tH.displayName=ay;var Ine=L.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,d=L.useRef(null),h=xr(e,d),g=Jb(o),[x,v]=kc({prop:a,defaultProp:s??null,onChange:l,caller:ay}),[y,_]=L.useState(!1),b=sl(c),w=Q8(n),E=L.useRef(!1),[M,T]=L.useState(0);return L.useEffect(()=>{const O=d.current;if(O)return O.addEventListener(rM,b),()=>O.removeEventListener(rM,b)},[b]),C.jsx(Rne,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:x,onItemFocus:L.useCallback(O=>v(O),[v]),onItemShiftTab:L.useCallback(()=>_(!0),[]),onFocusableItemAdd:L.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:L.useCallback(()=>T(O=>O-1),[]),children:C.jsx(on.div,{tabIndex:y||M===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:qt(t.onMouseDown,()=>{E.current=!0}),onFocus:qt(t.onFocus,O=>{const P=!E.current;if(O.target===O.currentTarget&&P&&!y){const R=new CustomEvent(rM,Ane);if(O.currentTarget.dispatchEvent(R),!R.defaultPrevented){const k=w().filter(H=>H.focusable),D=k.find(H=>H.active),G=k.find(H=>H.id===x),$=[D,G,...k].filter(Boolean).map(H=>H.ref.current);iH($,u)}}E.current=!1}),onBlur:qt(t.onBlur,()=>_(!1))})})}),nH="RovingFocusGroupItem",rH=L.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=t,l=ny(),c=o||l,u=One(nH,n),f=u.currentTabStopId===c,d=Q8(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:x}=u;return L.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),C.jsx(jA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:C.jsx(on.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...s,ref:e,onMouseDown:qt(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:qt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:qt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=Lne(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=d().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(v.currentTarget);b=u.loop?kne(b,w+1):b.slice(w+1)}setTimeout(()=>iH(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});rH.displayName=nH;var Nne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lne(t,e,n){const r=Dne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nne[r]}function iH(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function kne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Une=tH,Fne=rH,rw="Tabs",[Bne,DUe]=yl(rw,[eH]),oH=eH(),[zne,OR]=Bne(rw),aH=L.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,u=Jb(s),[f,d]=kc({prop:r,onChange:i,defaultProp:o??"",caller:rw});return C.jsx(zne,{scope:n,baseId:ny(),value:f,onValueChange:d,orientation:a,dir:u,activationMode:l,children:C.jsx(on.div,{dir:u,"data-orientation":a,...c,ref:e})})});aH.displayName=rw;var sH="TabsList",lH=L.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=OR(sH,n),a=oH(n);return C.jsx(Une,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:C.jsx(on.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});lH.displayName=sH;var cH="TabsTrigger",uH=L.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=OR(cH,n),s=oH(n),l=hH(a.baseId,r),c=pH(a.baseId,r),u=r===a.value;return C.jsx(Fne,{asChild:!0,...s,focusable:!i,active:u,children:C.jsx(on.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:qt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:qt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:qt(t.onFocus,()=>{const f=a.activationMode!=="manual";!u&&!i&&f&&a.onValueChange(r)})})})});uH.displayName=cH;var fH="TabsContent",dH=L.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=OR(fH,n),l=hH(s.baseId,r),c=pH(s.baseId,r),u=r===s.value,f=L.useRef(u);return L.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),C.jsx(Qv,{present:i||u,children:({present:d})=>C.jsx(on.div,{"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:d&&o})})});dH.displayName=fH;function hH(t,e){return`${t}-trigger-${e}`}function pH(t,e){return`${t}-content-${e}`}var jne=aH,mH=lH,gH=uH,vH=dH;const Hne=jne,yH=L.forwardRef(({className:t,...e},n)=>C.jsx(mH,{ref:n,className:yn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));yH.displayName=mH.displayName;const xH=L.forwardRef(({className:t,...e},n)=>C.jsx(gH,{ref:n,className:yn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));xH.displayName=gH.displayName;const _H=L.forwardRef(({className:t,...e},n)=>C.jsx(vH,{ref:n,className:yn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));_H.displayName=vH.displayName;function bH(t,e){const n=t.mempowerspec,r=t.memtimingspec,i=n.vdd,o=n.vpp,a=r.tCK,s=r.RAS*a,l=r.RP*a,c=r.RFC1*a,u=r.REFI*a,f=e.BNK_PRE_percent/100,d=e.CKE_LO_PRE_percent/100,h=e.CKE_LO_ACT_percent/100,g=e.RDsch_percent/100,x=e.WRsch_percent/100,v=Z=>Z/1e3,y=(1-d)*v(n.idd2n)+d*v(n.idd2p),_=i*y,b=(1-h)*v(n.idd3n)+h*v(n.idd3p),w=i*b,E=f*_+(1-f)*w,M=c/u,T=i*(v(n.idd5b)-v(n.idd3n))*M,O=o*(v(n.ipp5b)-v(n.ipp3n))*M,P=T+O,R=g,k=x,D=i*(v(n.idd4r)-v(n.idd3n))*R,G=i*(v(n.idd4w)-v(n.idd3n))*k,N=e.tRRDsch_ns*1e-9,$=s+l,H=Math.min(1,$/N),K=Math.min(1,s/N),U=i*(v(n.idd0)-v(n.idd2n))*H,F=o*(v(n.ipp0)-v(n.ipp2n))*K,j=U+F,z=E+D+G+T+U,X=O+F,q=z+X;return{P_PRE_STBY_core:_,P_ACT_STBY_core:w,P_ACT_PRE_core:j,P_RD_core:D,P_WR_core:G,P_REF_core:P,P_VDD_core:z,P_VPP_core:X,P_total_core:q}}function Wo(t,e=4){return t>=1?`${t.toFixed(e)} W`:`${(t*1e3).toFixed(e-1)} mW`}function Vne(t){const n=1/t.tCK/1e6*2;return Math.round(n)}function Gne(t,e){const r=t.width*t.nbrOfBanks*t.nbrOfColumns*t.nbrOfRows/134217728*t.nbrOfRanks;return r<=128?8:r<=256?t.width===8?16:8:Math.ceil(r/16)}function $ne(t,e,n={}){const{isRDIMM:r=!1,interfacePowerPercent:i=12,pmicOverheadPercent:o=4,rcdPower:a=.075}=n,s=Gne(e.memarchitecturespec),l=t.P_total_core*s,c=(t.P_RD_core+t.P_WR_core)/t.P_total_core||.5,u=l*(i/100)*(.5+c),f=l*(o/100),d=r?a:0,h=l+u+f+d;return{corePower:t,chipsPerDIMM:s,corePowerTotal:l,interfacePower:u,pmicOverhead:f,rcdPower:r?d:void 0,P_total_DIMM:h,P_core_DIMM:l,P_interface_DIMM:u,P_overhead_DIMM:f+d}}function Wne({selectedMemoryId:t,selectedWorkloadId:e,onSelectMemory:n,onSelectWorkload:r,defaultManufacturer:i}){const o=[...new Set(Vs.map(d=>d.manufacturer))],a=Vs.find(d=>d.id===t),s=(a==null?void 0:a.manufacturer)||i||o[0],[l,c]=L.useState(s),u=L.useRef(!0),f=L.useRef(t);return L.useEffect(()=>{if(u.current){const d=Vs.find(g=>g.id===t),h=(d==null?void 0:d.manufacturer)||i||o[0];c(h),u.current=!1,f.current=t}else if(f.current!==t){const d=Vs.find(h=>h.id===t);d&&(c(d.manufacturer),f.current=t)}},[t,i,o]),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"pb-3",children:C.jsxs(Tn,{className:"text-base flex items-center gap-2",children:[C.jsx(Oh,{className:"w-4 h-4 text-primary"}),"Presets"]})}),C.jsxs(un,{className:"space-y-4",children:[C.jsxs(Hne,{value:l,onValueChange:c,className:"w-full",children:[C.jsx(yH,{className:"w-full grid grid-cols-3 h-8 bg-secondary",children:o.map(d=>C.jsx(xH,{value:d,className:"text-xs data-[state=active]:bg-primary",children:d},d))}),o.map(d=>C.jsx(_H,{value:d,className:"mt-3 space-y-2",children:Vs.filter(h=>h.manufacturer===d).map(h=>{const g=t===h.id,x=Vne(h.memspec.memtimingspec);return C.jsxs(ro,{variant:g?"default":"outline",className:`w-full justify-between h-auto py-2 px-3 ${g?"glow-primary":"hover:bg-secondary/80"}`,onClick:()=>n(h.memspec,h.id),children:[C.jsxs("div",{className:"flex flex-col items-start",children:[C.jsx("span",{className:"text-sm font-medium",children:h.name}),C.jsx("span",{className:"text-xs text-muted-foreground",children:h.capacity})]}),C.jsxs(nw,{variant:"secondary",className:"text-xs",children:[x," MT/s"]})]},h.id)})},d))]}),C.jsxs("div",{className:"pt-3 border-t border-border",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[C.jsx(yc,{className:"w-4 h-4 text-accent"}),C.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workload Profile"})]}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:p8.map(d=>{const h=e===d.id;return C.jsx(ro,{variant:h?"default":"outline",size:"sm",className:`text-xs ${h?"glow-accent bg-accent hover:bg-accent/90":""}`,onClick:()=>r(d.workload,d.id),children:d.name},d.id)})})]})]})]})}const Xne=ty("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gd=L.forwardRef(({className:t,variant:e,...n},r)=>C.jsx("div",{ref:r,role:"alert",className:yn(Xne({variant:e}),t),...n}));Gd.displayName="Alert";const qne=L.forwardRef(({className:t,...e},n)=>C.jsx("h5",{ref:n,className:yn("mb-1 font-medium leading-none tracking-tight",t),...e}));qne.displayName="AlertTitle";const $d=L.forwardRef(({className:t,...e},n)=>C.jsx("div",{ref:n,className:yn("text-sm [&_p]:leading-relaxed",t),...e}));$d.displayName="AlertDescription";function Yne(){const{memspec:t,workload:e,setMemspec:n,setWorkload:r,loadWorkloadFromFile:i,loadMemspecFromFile:o}=Kb(),a=iy(),[s,l]=L.useState(Vs[0].id),[c,u]=L.useState("balanced"),[f,d]=L.useState("");L.useEffect(()=>{const G=Vs.find(N=>N.memspec.memoryId===t.memoryId);if(G)l(G.id),d(G.manufacturer);else{l("custom");const N=t.memoryId.toLowerCase();N.includes("micron")?d("Micron"):N.includes("samsung")?d("Samsung"):N.includes("hynix")||N.includes("skhynix")?d("SK Hynix"):d("Micron")}},[t]),L.useEffect(()=>{const G=p8.find(N=>Math.abs(N.workload.RDsch_percent-e.RDsch_percent)<.1&&Math.abs(N.workload.WRsch_percent-e.WRsch_percent)<.1&&Math.abs(N.workload.BNK_PRE_percent-e.BNK_PRE_percent)<.1&&Math.abs(N.workload.tRRDsch_ns-e.tRRDsch_ns)<.1);u(G?G.id:"custom")},[e]);const[h,g]=L.useState(null),[x,v]=L.useState(null),[y,_]=L.useState(null),[b,w]=L.useState(null),[E,M]=L.useState(!1),[T,O]=L.useState(!1),P=L.useCallback((G,N)=>{n(G),l(N),v(null),O(!1),w(null)},[n]),R=L.useCallback((G,N)=>{r(G),u(N),g(null),M(!1),_(null)},[r]),k=L.useCallback(async G=>{var $;const N=($=G.target.files)==null?void 0:$[0];if(N){g(N),_(null),M(!1);try{await i(N),M(!0),u("custom")}catch(H){_(H instanceof Error?H.message:"Failed to load workload file")}}},[i]),D=L.useCallback(async G=>{var $;const N=($=G.target.files)==null?void 0:$[0];if(N){v(N),w(null),O(!1);try{await o(N),O(!0),l("custom")}catch(H){w(H instanceof Error?H.message:"Failed to load memory spec file")}}},[o]);return C.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[C.jsx(oy,{}),C.jsx("main",{className:"flex-1 container mx-auto px-4 py-6 overflow-y-auto scrollbar-thin",children:C.jsxs("div",{className:"max-w-6xl mx-auto",children:[C.jsxs("div",{className:"mb-6",children:[C.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Configuration"}),C.jsx("p",{className:"text-muted-foreground",children:"Configure memory specifications and workload parameters. Upload custom JSON files or select from presets."})]}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.jsxs("div",{className:"space-y-6",children:[C.jsx(Wne,{selectedMemoryId:s,selectedWorkloadId:c,onSelectMemory:P,onSelectWorkload:R,defaultManufacturer:f}),C.jsx(Tne,{memspec:t,workload:e,onMemspecChange:n,onWorkloadChange:r})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs(cn,{className:"power-card",children:[C.jsxs(Mn,{className:"!p-4 !pb-2",children:[C.jsxs(Tn,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[C.jsx(v1,{className:"w-4 h-4 text-primary"}),"Upload Memory Specification"]}),C.jsx(fh,{className:"text-xs",children:"Upload a custom memory specification JSON file"})]}),C.jsxs(un,{className:"!p-4 !pt-0 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(jg,{htmlFor:"memspec-file",className:"text-sm",children:"Memory Spec JSON File"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Hg,{id:"memspec-file",type:"file",accept:".json",onChange:D,className:"flex-1"}),x&&C.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[C.jsx(v1,{className:"w-3 h-3"}),x.name]})]})]}),T&&C.jsxs(Gd,{className:"bg-accent/10 border-accent/30",children:[C.jsx(ED,{className:"h-4 w-4 text-accent"}),C.jsx($d,{className:"text-sm",children:"Memory specification loaded successfully!"})]}),b&&C.jsxs(Gd,{variant:"destructive",children:[C.jsx(SD,{className:"h-4 w-4"}),C.jsx($d,{className:"text-sm",children:b})]}),C.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[C.jsx("p",{className:"font-medium",children:"Expected format:"}),C.jsx("pre",{className:"bg-secondary/50 p-2 rounded text-[10px] overflow-x-auto",children:`{
  "memspec": {
    "memoryId": "...",
    "memarchitecturespec": {...},
    "mempowerspec": {...},
    "memtimingspec": {...}
  }
}`})]})]})]}),C.jsxs(cn,{className:"power-card",children:[C.jsxs(Mn,{className:"!p-4 !pb-2",children:[C.jsxs(Tn,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[C.jsx(lZ,{className:"w-4 h-4 text-primary"}),"Upload Workload"]}),C.jsx(fh,{className:"text-xs",children:"Upload a custom workload JSON file"})]}),C.jsxs(un,{className:"!p-4 !pt-0 space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(jg,{htmlFor:"workload-file",className:"text-sm",children:"Workload JSON File"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Hg,{id:"workload-file",type:"file",accept:".json",onChange:k,className:"flex-1"}),h&&C.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[C.jsx(v1,{className:"w-3 h-3"}),h.name]})]})]}),E&&C.jsxs(Gd,{className:"bg-accent/10 border-accent/30",children:[C.jsx(ED,{className:"h-4 w-4 text-accent"}),C.jsx($d,{className:"text-sm",children:"Workload loaded successfully!"})]}),y&&C.jsxs(Gd,{variant:"destructive",children:[C.jsx(SD,{className:"h-4 w-4"}),C.jsx($d,{className:"text-sm",children:y})]}),C.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[C.jsx("p",{className:"font-medium",children:"Expected format:"}),C.jsx("pre",{className:"bg-secondary/50 p-2 rounded text-[10px] overflow-x-auto",children:`{
  "BNK_PRE_percent": 50.0,
  "RDsch_percent": 25.0,
  "WRsch_percent": 25.0,
  ...
}`})]})]})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[C.jsx(ro,{onClick:()=>a("/core-power"),className:"flex-1",size:"lg",children:"View Core Power"}),C.jsx(ro,{onClick:()=>a("/dimm-power"),variant:"outline",className:"flex-1",size:"lg",children:"View DIMM Power"})]})]})]})]})})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iw="160",Tu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Au={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wH=0,HA=1,SH=2,Kne=3,EH=0,ow=1,ng=2,ma=3,ul=0,Fi=1,wa=2,Zne=2,Qs=0,tf=1,VA=2,GA=3,$A=4,MH=5,Ql=100,TH=101,AH=102,WA=103,XA=104,PH=200,CH=201,RH=202,OH=203,d_=204,h_=205,IH=206,NH=207,DH=208,LH=209,kH=210,UH=211,FH=212,BH=213,zH=214,jH=0,HH=1,VH=2,Vg=3,GH=4,$H=5,WH=6,XH=7,sy=0,qH=1,YH=2,ts=0,KH=1,ZH=2,JH=3,IR=4,QH=5,eV=6,qA="attached",tV="detached",aw=300,fl=301,Rc=302,Gg=303,$g=304,yp=306,Wg=1e3,pi=1001,Xg=1002,lr=1003,p_=1004,Jne=1004,rg=1005,Qne=1005,Vn=1006,NR=1007,ere=1007,Oc=1008,tre=1008,ns=1009,nV=1010,rV=1011,sw=1012,DR=1013,Xs=1014,Ea=1015,Dh=1016,LR=1017,kR=1018,xc=1020,iV=1021,Ni=1023,oV=1024,aV=1025,_c=1026,gf=1027,sV=1028,UR=1029,lV=1030,FR=1031,BR=1033,w1=33776,S1=33777,E1=33778,M1=33779,YA=35840,KA=35841,ZA=35842,JA=35843,zR=36196,QA=37492,e2=37496,t2=37808,n2=37809,r2=37810,i2=37811,o2=37812,a2=37813,s2=37814,l2=37815,c2=37816,u2=37817,f2=37818,d2=37819,h2=37820,p2=37821,T1=36492,m2=36494,g2=36495,cV=36283,v2=36284,y2=36285,x2=36286,uV=2200,fV=2201,dV=2202,qg=2300,Yg=2301,A1=2302,Fu=2400,Bu=2401,Kg=2402,lw=2500,jR=2501,nre=0,rre=1,ire=2,HR=3e3,bc=3001,hV=3200,VR=3201,Uc=0,pV=1,wo="",Er="srgb",ls="srgb-linear",cw="display-p3",ly="display-p3-linear",Zg="linear",wn="srgb",Jg="rec709",Qg="p3",ore=0,Pu=7680,are=7681,sre=7682,lre=7683,cre=34055,ure=34056,fre=5386,dre=512,hre=513,pre=514,mre=515,gre=516,vre=517,yre=518,_2=519,mV=512,gV=513,vV=514,GR=515,yV=516,xV=517,_V=518,bV=519,ev=35044,xre=35048,_re=35040,bre=35045,wre=35049,Sre=35041,Ere=35046,Mre=35050,Tre=35042,Are="100",b2="300 es",m_=1035,Ma=2e3,Lh=2001;let xl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}};const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nL=1234567;const nf=Math.PI/180,kh=180/Math.PI;function Ao(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(si[t&255]+si[t>>8&255]+si[t>>16&255]+si[t>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[n&63|128]+si[n>>8&255]+"-"+si[n>>16&255]+si[n>>24&255]+si[r&255]+si[r>>8&255]+si[r>>16&255]+si[r>>24&255]).toLowerCase()}function Qn(t,e,n){return Math.max(e,Math.min(n,t))}function $R(t,e){return(t%e+e)%e}function Pre(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Cre(t,e,n){return t!==e?(n-t)/(e-t):0}function ig(t,e,n){return(1-n)*t+n*e}function Rre(t,e,n,r){return ig(t,e,1-Math.exp(-n*r))}function Ore(t,e=1){return e-Math.abs($R(t,e*2)-e)}function Ire(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Nre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Dre(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Lre(t,e){return t+Math.random()*(e-t)}function kre(t){return t*(.5-Math.random())}function Ure(t){t!==void 0&&(nL=t);let e=nL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Fre(t){return t*nf}function Bre(t){return t*kh}function w2(t){return(t&t-1)===0&&t!==0}function zre(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function g_(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function jre(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((e+r)/2),u=a((e+r)/2),f=o((e-r)/2),d=a((e-r)/2),h=o((r-e)/2),g=a((r-e)/2);switch(i){case"XYX":t.set(s*u,l*f,l*d,s*c);break;case"YZY":t.set(l*d,s*u,l*f,s*c);break;case"ZXZ":t.set(l*f,l*d,s*u,s*c);break;case"XZX":t.set(s*u,l*g,l*h,s*c);break;case"YXY":t.set(l*h,s*u,l*g,s*c);break;case"ZYZ":t.set(l*g,l*h,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Zi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Bt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Hre={DEG2RAD:nf,RAD2DEG:kh,generateUUID:Ao,clamp:Qn,euclideanModulo:$R,mapLinear:Pre,inverseLerp:Cre,lerp:ig,damp:Rre,pingpong:Ore,smoothstep:Ire,smootherstep:Nre,randInt:Dre,randFloat:Lre,randFloatSpread:kre,seededRandom:Ure,degToRad:Fre,radToDeg:Bre,isPowerOfTwo:w2,ceilPowerOfTwo:zre,floorPowerOfTwo:g_,setQuaternionFromProperEuler:jre,normalize:Bt,denormalize:Zi};class Ue{constructor(e=0,n=0){Ue.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ft{constructor(e,n,r,i,o,a,s,l,c){Ft.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c)}set(e,n,r,i,o,a,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],g=r[8],x=i[0],v=i[3],y=i[6],_=i[1],b=i[4],w=i[7],E=i[2],M=i[5],T=i[8];return o[0]=a*x+s*_+l*E,o[3]=a*v+s*b+l*M,o[6]=a*y+s*w+l*T,o[1]=c*x+u*_+f*E,o[4]=c*v+u*b+f*M,o[7]=c*y+u*w+f*T,o[2]=d*x+h*_+g*E,o[5]=d*v+h*b+g*M,o[8]=d*y+h*w+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*s*c-r*o*u+r*s*l+i*o*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,d=s*l-u*o,h=c*o-a*l,g=n*f+r*d+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(i*c-u*r)*x,e[2]=(s*r-i*a)*x,e[3]=d*x,e[4]=(u*n-i*l)*x,e[5]=(i*o-s*n)*x,e[6]=h*x,e[7]=(r*l-c*n)*x,e[8]=(a*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*a+c*s)+a+e,-i*c,i*l,-i*(-c*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(iM.makeScale(e,n)),this}rotate(e){return this.premultiply(iM.makeRotation(-e)),this}translate(e,n){return this.premultiply(iM.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const iM=new Ft;function wV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Vre={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wd(t,e){return new Vre[t](e)}function tv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function SV(){const t=tv("canvas");return t.style.display="block",t}const rL={};function og(t){t in rL||(rL[t]=!0,console.warn(t))}const iL=new Ft().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),oL=new Ft().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),G0={[ls]:{transfer:Zg,primaries:Jg,toReference:t=>t,fromReference:t=>t},[Er]:{transfer:wn,primaries:Jg,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[ly]:{transfer:Zg,primaries:Qg,toReference:t=>t.applyMatrix3(oL),fromReference:t=>t.applyMatrix3(iL)},[cw]:{transfer:wn,primaries:Qg,toReference:t=>t.convertSRGBToLinear().applyMatrix3(oL),fromReference:t=>t.applyMatrix3(iL).convertLinearToSRGB()}},Gre=new Set([ls,ly]),ln={enabled:!0,_workingColorSpace:ls,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Gre.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=G0[e].toReference,i=G0[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return G0[t].primaries},getTransfer:function(t){return t===wo?Zg:G0[t].transfer}};function dh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function oM(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let td;class WR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{td===void 0&&(td=tv("canvas")),td.width=e.width,td.height=e.height;const r=td.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=td}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=tv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=dh(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(dh(n[r]/255)*255):n[r]=dh(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $re=0;class zu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$re++}),this.uuid=Ao(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(aM(i[a].image)):o.push(aM(i[a]))}else o=aM(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function aM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?WR.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Wre=0;class tr extends xl{constructor(e=tr.DEFAULT_IMAGE,n=tr.DEFAULT_MAPPING,r=pi,i=pi,o=Vn,a=Oc,s=Ni,l=ns,c=tr.DEFAULT_ANISOTROPY,u=wo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Wre++}),this.uuid=Ao(),this.name="",this.source=new zu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ue(0,0),this.repeat=new Ue(1,1),this.center=new Ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ft,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(og("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===bc?Er:wo),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==aw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wg:e.x=e.x-Math.floor(e.x);break;case pi:e.x=e.x<0?0:1;break;case Xg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wg:e.y=e.y-Math.floor(e.y);break;case pi:e.y=e.y<0?0:1;break;case Xg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return og("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Er?bc:HR}set encoding(e){og("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===bc?Er:wo}}tr.DEFAULT_IMAGE=null;tr.DEFAULT_MAPPING=aw;tr.DEFAULT_ANISOTROPY=1;class nn{constructor(e=0,n=0,r=0,i=1){nn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],g=l[9],x=l[2],v=l[6],y=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-x)<.01&&Math.abs(g-v)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+x)<.1&&Math.abs(g+v)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,w=(h+1)/2,E=(y+1)/2,M=(u+d)/4,T=(f+x)/4,O=(g+v)/4;return b>w&&b>E?b<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=M/r,o=T/r):w>E?w<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(w),r=M/i,o=O/i):E<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(E),r=T/o,i=O/o),this.set(r,i,o,n),this}let _=Math.sqrt((v-g)*(v-g)+(f-x)*(f-x)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(v-g)/_,this.y=(f-x)/_,this.z=(d-u)/_,this.w=Math.acos((c+h+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class EV extends xl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new nn(0,0,e,n),this.scissorTest=!1,this.viewport=new nn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(og("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===bc?Er:wo),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Vn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new tr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new zu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ia extends EV{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class uw extends tr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=lr,this.minFilter=lr,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xre extends Ia{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new uw(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class XR extends tr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=lr,this.minFilter=lr,this.wrapR=pi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qre extends Ia{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new XR(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Yre extends Ia{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const o=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=o.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class gi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=o[a+0],h=o[a+1],g=o[a+2],x=o[a+3];if(s===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=g,e[n+3]=x;return}if(f!==x||l!==d||c!==h||u!==g){let v=1-s;const y=l*d+c*h+u*g+f*x,_=y>=0?1:-1,b=1-y*y;if(b>Number.EPSILON){const E=Math.sqrt(b),M=Math.atan2(E,y*_);v=Math.sin(v*M)/E,s=Math.sin(s*M)/E}const w=s*_;if(l=l*v+d*w,c=c*v+h*w,u=u*v+g*w,f=f*v+x*w,v===1-s){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=o[a],d=o[a+1],h=o[a+2],g=o[a+3];return e[n]=s*g+u*f+l*h-c*d,e[n+1]=l*g+u*d+c*f-s*h,e[n+2]=c*g+u*h+s*d-l*f,e[n+3]=u*g-s*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,c=s(r/2),u=s(i/2),f=s(o/2),d=l(r/2),h=l(i/2),g=l(o/2);switch(a){case"XYZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"YXZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"ZXY":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"ZYX":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"YZX":this._x=d*u*f+c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f-d*h*g;break;case"XZY":this._x=d*u*f-c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f+d*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+s+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(o-c)*h,this._z=(a-i)*h}else if(r>s&&r>f){const h=2*Math.sqrt(1+r-s-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(o+c)/h}else if(s>f){const h=2*Math.sqrt(1+s-r-f);this._w=(o-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-s);this._w=(a-i)/h,this._x=(o+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Qn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*s+i*c-o*l,this._y=i*u+a*l+o*s-r*c,this._z=o*u+a*c+r*l-i*s,this._w=a*u-r*s-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(o),r*Math.cos(o),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,r=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(aL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(aL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,c=2*(a*i-s*r),u=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*c+a*f-s*u,this.y=r+l*u+s*c-o*f,this.z=i+l*f+o*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return sM.copy(this).projectOnVector(e),this.sub(sM)}reflect(e){return this.sub(sM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sM=new te,aL=new gi;class Yr{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ca.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ca.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ca.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,ca):ca.fromBufferAttribute(o,a),ca.applyMatrix4(e.matrixWorld),this.expandByPoint(ca);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),$0.copy(r.boundingBox)),$0.applyMatrix4(e.matrixWorld),this.union($0)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ca),ca.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gm),W0.subVectors(this.max,gm),nd.subVectors(e.a,gm),rd.subVectors(e.b,gm),id.subVectors(e.c,gm),Fl.subVectors(rd,nd),Bl.subVectors(id,rd),cu.subVectors(nd,id);let n=[0,-Fl.z,Fl.y,0,-Bl.z,Bl.y,0,-cu.z,cu.y,Fl.z,0,-Fl.x,Bl.z,0,-Bl.x,cu.z,0,-cu.x,-Fl.y,Fl.x,0,-Bl.y,Bl.x,0,-cu.y,cu.x,0];return!lM(n,nd,rd,id,W0)||(n=[1,0,0,0,1,0,0,0,1],!lM(n,nd,rd,id,W0))?!1:(X0.crossVectors(Fl,Bl),n=[X0.x,X0.y,X0.z],lM(n,nd,rd,id,W0))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ca).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ca).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ps[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ps[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ps[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ps[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ps[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ps[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ps[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ps[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ps),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ps=[new te,new te,new te,new te,new te,new te,new te,new te],ca=new te,$0=new Yr,nd=new te,rd=new te,id=new te,Fl=new te,Bl=new te,cu=new te,gm=new te,W0=new te,X0=new te,uu=new te;function lM(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){uu.fromArray(t,o);const s=i.x*Math.abs(uu.x)+i.y*Math.abs(uu.y)+i.z*Math.abs(uu.z),l=e.dot(uu),c=n.dot(uu),u=r.dot(uu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const Kre=new Yr,vm=new te,cM=new te;class Kr{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Kre.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;vm.subVectors(e,this.center);const n=vm.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(vm,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(vm.copy(e.center).add(cM)),this.expandByPoint(vm.copy(e.center).sub(cM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Cs=new te,uM=new te,q0=new te,zl=new te,fM=new te,Y0=new te,dM=new te;class Cf{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Cs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Cs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Cs.copy(this.origin).addScaledVector(this.direction,n),Cs.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){uM.copy(e).add(n).multiplyScalar(.5),q0.copy(n).sub(e).normalize(),zl.copy(this.origin).sub(uM);const o=e.distanceTo(n)*.5,a=-this.direction.dot(q0),s=zl.dot(this.direction),l=-zl.dot(q0),c=zl.lengthSq(),u=Math.abs(1-a*a);let f,d,h,g;if(u>0)if(f=a*l-s,d=a*s-l,g=o*u,f>=0)if(d>=-g)if(d<=g){const x=1/u;f*=x,d*=x,h=f*(f+a*d+2*s)+d*(a*f+d+2*l)+c}else d=o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d=-o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-a*o+s)),d=f>0?-o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-o,-l),o),h=d*(d+2*l)+c):(f=Math.max(0,-(a*o+s)),d=f>0?o:Math.min(Math.max(-o,-l),o),h=-f*f+d*(d+2*l)+c);else d=a>0?-o:o,f=Math.max(0,-(a*d+s)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(uM).addScaledVector(q0,d),h}intersectSphere(e,n){Cs.subVectors(e.center,this.origin);const r=Cs.dot(this.direction),i=Cs.dot(Cs)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(o=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(o=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(s=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Cs)!==null}intersectTriangle(e,n,r,i,o){fM.subVectors(n,e),Y0.subVectors(r,e),dM.crossVectors(fM,Y0);let a=this.direction.dot(dM),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;zl.subVectors(this.origin,e);const l=s*this.direction.dot(Y0.crossVectors(zl,Y0));if(l<0)return null;const c=s*this.direction.dot(fM.cross(zl));if(c<0||l+c>a)return null;const u=-s*zl.dot(dM);return u<0?null:this.at(u/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ct{constructor(e,n,r,i,o,a,s,l,c,u,f,d,h,g,x,v){Ct.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,c,u,f,d,h,g,x,v)}set(e,n,r,i,o,a,s,l,c,u,f,d,h,g,x,v){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=o,y[5]=a,y[9]=s,y[13]=l,y[2]=c,y[6]=u,y[10]=f,y[14]=d,y[3]=h,y[7]=g,y[11]=x,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ct().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/od.setFromMatrixColumn(e,0).length(),o=1/od.setFromMatrixColumn(e,1).length(),a=1/od.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=a*u,h=a*f,g=s*u,x=s*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+g*c,n[5]=d-x*c,n[9]=-s*l,n[2]=x-d*c,n[6]=g+h*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,g=c*u,x=c*f;n[0]=d+x*s,n[4]=g*s-h,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-s,n[2]=h*s-g,n[6]=x+d*s,n[10]=a*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,g=c*u,x=c*f;n[0]=d-x*s,n[4]=-a*f,n[8]=g+h*s,n[1]=h+g*s,n[5]=a*u,n[9]=x-d*s,n[2]=-a*c,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const d=a*u,h=a*f,g=s*u,x=s*f;n[0]=l*u,n[4]=g*c-h,n[8]=d*c+x,n[1]=l*f,n[5]=x*c+d,n[9]=h*c-g,n[2]=-c,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,h=a*c,g=s*l,x=s*c;n[0]=l*u,n[4]=x-d*f,n[8]=g*f+h,n[1]=f,n[5]=a*u,n[9]=-s*u,n[2]=-c*u,n[6]=h*f+g,n[10]=d-x*f}else if(e.order==="XZY"){const d=a*l,h=a*c,g=s*l,x=s*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+x,n[5]=a*u,n[9]=h*f-g,n[2]=g*f-h,n[6]=s*u,n[10]=x*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Zre,e,Jre)}lookAt(e,n,r){const i=this.elements;return mo.subVectors(e,n),mo.lengthSq()===0&&(mo.z=1),mo.normalize(),jl.crossVectors(r,mo),jl.lengthSq()===0&&(Math.abs(r.z)===1?mo.x+=1e-4:mo.z+=1e-4,mo.normalize(),jl.crossVectors(r,mo)),jl.normalize(),K0.crossVectors(mo,jl),i[0]=jl.x,i[4]=K0.x,i[8]=mo.x,i[1]=jl.y,i[5]=K0.y,i[9]=mo.y,i[2]=jl.z,i[6]=K0.z,i[10]=mo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],g=r[2],x=r[6],v=r[10],y=r[14],_=r[3],b=r[7],w=r[11],E=r[15],M=i[0],T=i[4],O=i[8],P=i[12],R=i[1],k=i[5],D=i[9],G=i[13],N=i[2],$=i[6],H=i[10],K=i[14],U=i[3],F=i[7],j=i[11],z=i[15];return o[0]=a*M+s*R+l*N+c*U,o[4]=a*T+s*k+l*$+c*F,o[8]=a*O+s*D+l*H+c*j,o[12]=a*P+s*G+l*K+c*z,o[1]=u*M+f*R+d*N+h*U,o[5]=u*T+f*k+d*$+h*F,o[9]=u*O+f*D+d*H+h*j,o[13]=u*P+f*G+d*K+h*z,o[2]=g*M+x*R+v*N+y*U,o[6]=g*T+x*k+v*$+y*F,o[10]=g*O+x*D+v*H+y*j,o[14]=g*P+x*G+v*K+y*z,o[3]=_*M+b*R+w*N+E*U,o[7]=_*T+b*k+w*$+E*F,o[11]=_*O+b*D+w*H+E*j,o[15]=_*P+b*G+w*K+E*z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],g=e[3],x=e[7],v=e[11],y=e[15];return g*(+o*l*f-i*c*f-o*s*d+r*c*d+i*s*h-r*l*h)+x*(+n*l*h-n*c*d+o*a*d-i*a*h+i*c*u-o*l*u)+v*(+n*c*f-n*s*h-o*a*f+r*a*h+o*s*u-r*c*u)+y*(-i*s*u-n*l*f+n*s*d+i*a*f-r*a*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],g=e[12],x=e[13],v=e[14],y=e[15],_=f*v*c-x*d*c+x*l*h-s*v*h-f*l*y+s*d*y,b=g*d*c-u*v*c-g*l*h+a*v*h+u*l*y-a*d*y,w=u*x*c-g*f*c+g*s*h-a*x*h-u*s*y+a*f*y,E=g*f*l-u*x*l-g*s*d+a*x*d+u*s*v-a*f*v,M=n*_+r*b+i*w+o*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=_*T,e[1]=(x*d*o-f*v*o-x*i*h+r*v*h+f*i*y-r*d*y)*T,e[2]=(s*v*o-x*l*o+x*i*c-r*v*c-s*i*y+r*l*y)*T,e[3]=(f*l*o-s*d*o-f*i*c+r*d*c+s*i*h-r*l*h)*T,e[4]=b*T,e[5]=(u*v*o-g*d*o+g*i*h-n*v*h-u*i*y+n*d*y)*T,e[6]=(g*l*o-a*v*o-g*i*c+n*v*c+a*i*y-n*l*y)*T,e[7]=(a*d*o-u*l*o+u*i*c-n*d*c-a*i*h+n*l*h)*T,e[8]=w*T,e[9]=(g*f*o-u*x*o-g*r*h+n*x*h+u*r*y-n*f*y)*T,e[10]=(a*x*o-g*s*o+g*r*c-n*x*c-a*r*y+n*s*y)*T,e[11]=(u*s*o-a*f*o-u*r*c+n*f*c+a*r*h-n*s*h)*T,e[12]=E*T,e[13]=(u*x*i-g*f*i+g*r*d-n*x*d-u*r*v+n*f*v)*T,e[14]=(g*s*i-a*x*i-g*r*l+n*x*l+a*r*v-n*s*v)*T,e[15]=(a*f*i-u*s*i+u*r*l-n*f*l-a*r*d+n*s*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,c=o*a,u=o*s;return this.set(c*a+r,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+r,u*l-i*a,0,c*l-i*s,u*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,c=o+o,u=a+a,f=s+s,d=o*c,h=o*u,g=o*f,x=a*u,v=a*f,y=s*f,_=l*c,b=l*u,w=l*f,E=r.x,M=r.y,T=r.z;return i[0]=(1-(x+y))*E,i[1]=(h+w)*E,i[2]=(g-b)*E,i[3]=0,i[4]=(h-w)*M,i[5]=(1-(d+y))*M,i[6]=(v+_)*M,i[7]=0,i[8]=(g+b)*T,i[9]=(v-_)*T,i[10]=(1-(d+x))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=od.set(i[0],i[1],i[2]).length();const a=od.set(i[4],i[5],i[6]).length(),s=od.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],ua.copy(this);const c=1/o,u=1/a,f=1/s;return ua.elements[0]*=c,ua.elements[1]*=c,ua.elements[2]*=c,ua.elements[4]*=u,ua.elements[5]*=u,ua.elements[6]*=u,ua.elements[8]*=f,ua.elements[9]*=f,ua.elements[10]*=f,n.setFromRotationMatrix(ua),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Ma){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,g;if(s===Ma)h=-(a+o)/(a-o),g=-2*a*o/(a-o);else if(s===Lh)h=-a/(a-o),g=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Ma){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(a-o),d=(n+e)*c,h=(r+i)*u;let g,x;if(s===Ma)g=(a+o)*f,x=-2*f;else if(s===Lh)g=o*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=x,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const od=new te,ua=new Ct,Zre=new te(0,0,0),Jre=new te(1,1,1),jl=new te,K0=new te,mo=new te,sL=new Ct,lL=new gi;class cy{constructor(e=0,n=0,r=0,i=cy.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(Qn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Qn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-Qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return sL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return lL.setFromEuler(this),this.setFromQuaternion(lL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cy.DEFAULT_ORDER="XYZ";class rf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Qre=0;const cL=new te,ad=new gi,Rs=new Ct,Z0=new te,ym=new te,eie=new te,tie=new gi,uL=new te(1,0,0),fL=new te(0,1,0),dL=new te(0,0,1),nie={type:"added"},rie={type:"removed"};class en extends xl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Qre++}),this.uuid=Ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=en.DEFAULT_UP.clone();const e=new te,n=new cy,r=new gi,i=new te(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ct},normalMatrix:{value:new Ft}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=en.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ad.setFromAxisAngle(e,n),this.quaternion.multiply(ad),this}rotateOnWorldAxis(e,n){return ad.setFromAxisAngle(e,n),this.quaternion.premultiply(ad),this}rotateX(e){return this.rotateOnAxis(uL,e)}rotateY(e){return this.rotateOnAxis(fL,e)}rotateZ(e){return this.rotateOnAxis(dL,e)}translateOnAxis(e,n){return cL.copy(e).applyQuaternion(this.quaternion),this.position.add(cL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(uL,e)}translateY(e){return this.translateOnAxis(fL,e)}translateZ(e){return this.translateOnAxis(dL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Rs.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Z0.copy(e):Z0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ym.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rs.lookAt(ym,Z0,this.up):Rs.lookAt(Z0,ym,this.up),this.quaternion.setFromRotationMatrix(Rs),i&&(Rs.extractRotation(i.matrixWorld),ad.setFromRotationMatrix(Rs),this.quaternion.premultiply(ad.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(rie)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Rs.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rs.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rs),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ym,e,eie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ym,tie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++){const s=i[o];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),d=a(e.skeletons),h=a(e.animations),g=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function a(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}en.DEFAULT_UP=new te(0,1,0);en.DEFAULT_MATRIX_AUTO_UPDATE=!0;en.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fa=new te,Os=new te,hM=new te,Is=new te,sd=new te,ld=new te,hL=new te,pM=new te,mM=new te,gM=new te;let J0=!1;class Ki{constructor(e=new te,n=new te,r=new te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),fa.subVectors(e,n),i.cross(fa);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){fa.subVectors(i,n),Os.subVectors(r,n),hM.subVectors(e,n);const a=fa.dot(fa),s=fa.dot(Os),l=fa.dot(hM),c=Os.dot(Os),u=Os.dot(hM),f=a*c-s*s;if(f===0)return o.set(0,0,0),null;const d=1/f,h=(c*l-s*u)*d,g=(a*u-s*l)*d;return o.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Is)===null?!1:Is.x>=0&&Is.y>=0&&Is.x+Is.y<=1}static getUV(e,n,r,i,o,a,s,l){return J0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),J0=!0),this.getInterpolation(e,n,r,i,o,a,s,l)}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Is)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Is.x),l.addScaledVector(a,Is.y),l.addScaledVector(s,Is.z),l)}static isFrontFacing(e,n,r,i){return fa.subVectors(r,n),Os.subVectors(e,n),fa.cross(Os).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fa.subVectors(this.c,this.b),Os.subVectors(this.a,this.b),fa.cross(Os).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ki.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,o){return J0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),J0=!0),Ki.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}getInterpolation(e,n,r,i,o){return Ki.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;sd.subVectors(i,r),ld.subVectors(o,r),pM.subVectors(e,r);const l=sd.dot(pM),c=ld.dot(pM);if(l<=0&&c<=0)return n.copy(r);mM.subVectors(e,i);const u=sd.dot(mM),f=ld.dot(mM);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(sd,a);gM.subVectors(e,o);const h=sd.dot(gM),g=ld.dot(gM);if(g>=0&&h<=g)return n.copy(o);const x=h*c-l*g;if(x<=0&&c>=0&&g<=0)return s=c/(c-g),n.copy(r).addScaledVector(ld,s);const v=u*g-h*f;if(v<=0&&f-u>=0&&h-g>=0)return hL.subVectors(o,i),s=(f-u)/(f-u+(h-g)),n.copy(i).addScaledVector(hL,s);const y=1/(v+x+d);return a=x*y,s=d*y,n.copy(r).addScaledVector(sd,a).addScaledVector(ld,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const MV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hl={h:0,s:0,l:0},Q0={h:0,s:0,l:0};function vM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let st=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Er){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ln.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ln.workingColorSpace){return this.r=e,this.g=n,this.b=r,ln.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ln.workingColorSpace){if(e=$R(e,1),n=Qn(n,0,1),r=Qn(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=vM(a,o,e+1/3),this.g=vM(a,o,e),this.b=vM(a,o,e-1/3)}return ln.toWorkingColorSpace(this,i),this}setStyle(e,n=Er){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Er){const r=MV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=dh(e.r),this.g=dh(e.g),this.b=dh(e.b),this}copyLinearToSRGB(e){return this.r=oM(e.r),this.g=oM(e.g),this.b=oM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Er){return ln.fromWorkingColorSpace(li.copy(this),e),Math.round(Qn(li.r*255,0,255))*65536+Math.round(Qn(li.g*255,0,255))*256+Math.round(Qn(li.b*255,0,255))}getHexString(e=Er){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ln.workingColorSpace){ln.fromWorkingColorSpace(li.copy(this),n);const r=li.r,i=li.g,o=li.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,c;const u=(s+a)/2;if(s===a)l=0,c=0;else{const f=a-s;switch(c=u<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=ln.workingColorSpace){return ln.fromWorkingColorSpace(li.copy(this),n),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=Er){ln.fromWorkingColorSpace(li.copy(this),e);const n=li.r,r=li.g,i=li.b;return e!==Er?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Hl),this.setHSL(Hl.h+e,Hl.s+n,Hl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Hl),e.getHSL(Q0);const r=ig(Hl.h,Q0.h,n),i=ig(Hl.s,Q0.s,n),o=ig(Hl.l,Q0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const li=new st;st.NAMES=MV;let iie=0;class yi extends xl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iie++}),this.uuid=Ao(),this.name="",this.type="Material",this.blending=tf,this.side=ul,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=d_,this.blendDst=h_,this.blendEquation=Ql,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new st(0,0,0),this.blendAlpha=0,this.depthFunc=Vg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Pu,this.stencilZFail=Pu,this.stencilZPass=Pu,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==tf&&(r.blending=this.blending),this.side!==ul&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==d_&&(r.blendSrc=this.blendSrc),this.blendDst!==h_&&(r.blendDst=this.blendDst),this.blendEquation!==Ql&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Vg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_2&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Pu&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Pu&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Pu&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class _l extends yi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new st(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Gs=oie();function oie(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Xi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Qn(t,-65504,65504),Gs.floatView[0]=t;const e=Gs.uint32View[0],n=e>>23&511;return Gs.baseTable[n]+((e&8388607)>>Gs.shiftTable[n])}function Gm(t){const e=t>>10;return Gs.uint32View[0]=Gs.mantissaTable[Gs.offsetTable[e]+(t&1023)]+Gs.exponentTable[e],Gs.floatView[0]}const aie={toHalfFloat:Xi,fromHalfFloat:Gm},mr=new te,ex=new Ue;class hn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=ev,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ea,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ex.fromBufferAttribute(this,n),ex.applyMatrix3(e),this.setXY(n,ex.x,ex.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyMatrix3(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyMatrix4(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.applyNormalMatrix(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mr.fromBufferAttribute(this,n),mr.transformDirection(e),this.setXYZ(n,mr.x,mr.y,mr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Zi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Bt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Zi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Zi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Zi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Zi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array),o=Bt(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ev&&(e.usage=this.usage),e}}class sie extends hn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class lie extends hn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class cie extends hn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class uie extends hn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class qR extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class fie extends hn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class YR extends hn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class die extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Gm(this.array[e*this.itemSize]);return this.normalized&&(n=Zi(n,this.array)),n}setX(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize]=Xi(n),this}getY(e){let n=Gm(this.array[e*this.itemSize+1]);return this.normalized&&(n=Zi(n,this.array)),n}setY(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+1]=Xi(n),this}getZ(e){let n=Gm(this.array[e*this.itemSize+2]);return this.normalized&&(n=Zi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+2]=Xi(n),this}getW(e){let n=Gm(this.array[e*this.itemSize+3]);return this.normalized&&(n=Zi(n,this.array)),n}setW(e,n){return this.normalized&&(n=Bt(n,this.array)),this.array[e*this.itemSize+3]=Xi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array)),this.array[e+0]=Xi(n),this.array[e+1]=Xi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array)),this.array[e+0]=Xi(n),this.array[e+1]=Xi(r),this.array[e+2]=Xi(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array),o=Bt(o,this.array)),this.array[e+0]=Xi(n),this.array[e+1]=Xi(r),this.array[e+2]=Xi(i),this.array[e+3]=Xi(o),this}}class mt extends hn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class hie extends hn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let pie=0;const jo=new Ct,yM=new en,cd=new te,go=new Yr,xm=new Yr,kr=new te;class Ht extends xl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pie++}),this.uuid=Ao(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wV(e)?YR:qR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Ft().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jo.makeRotationFromQuaternion(e),this.applyMatrix4(jo),this}rotateX(e){return jo.makeRotationX(e),this.applyMatrix4(jo),this}rotateY(e){return jo.makeRotationY(e),this.applyMatrix4(jo),this}rotateZ(e){return jo.makeRotationZ(e),this.applyMatrix4(jo),this}translate(e,n,r){return jo.makeTranslation(e,n,r),this.applyMatrix4(jo),this}scale(e,n,r){return jo.makeScale(e,n,r),this.applyMatrix4(jo),this}lookAt(e){return yM.lookAt(e),yM.updateMatrix(),this.applyMatrix4(yM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cd).negate(),this.translate(cd.x,cd.y,cd.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new mt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];go.setFromBufferAttribute(o),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,go.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,go.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(go.min),this.boundingBox.expandByPoint(go.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Kr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new te,1/0);return}if(e){const r=this.boundingSphere.center;if(go.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];xm.setFromBufferAttribute(s),this.morphTargetsRelative?(kr.addVectors(go.min,xm.min),go.expandByPoint(kr),kr.addVectors(go.max,xm.max),go.expandByPoint(kr)):(go.expandByPoint(xm.min),go.expandByPoint(xm.max))}go.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)kr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(kr));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)kr.fromBufferAttribute(s,c),l&&(cd.fromBufferAttribute(e,c),kr.add(cd)),i=Math.max(i,r.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,o=n.normal.array,a=n.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let R=0;R<s;R++)c[R]=new te,u[R]=new te;const f=new te,d=new te,h=new te,g=new Ue,x=new Ue,v=new Ue,y=new te,_=new te;function b(R,k,D){f.fromArray(i,R*3),d.fromArray(i,k*3),h.fromArray(i,D*3),g.fromArray(a,R*2),x.fromArray(a,k*2),v.fromArray(a,D*2),d.sub(f),h.sub(f),x.sub(g),v.sub(g);const G=1/(x.x*v.y-v.x*x.y);isFinite(G)&&(y.copy(d).multiplyScalar(v.y).addScaledVector(h,-x.y).multiplyScalar(G),_.copy(h).multiplyScalar(x.x).addScaledVector(d,-v.x).multiplyScalar(G),c[R].add(y),c[k].add(y),c[D].add(y),u[R].add(_),u[k].add(_),u[D].add(_))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let R=0,k=w.length;R<k;++R){const D=w[R],G=D.start,N=D.count;for(let $=G,H=G+N;$<H;$+=3)b(r[$+0],r[$+1],r[$+2])}const E=new te,M=new te,T=new te,O=new te;function P(R){T.fromArray(o,R*3),O.copy(T);const k=c[R];E.copy(k),E.sub(T.multiplyScalar(T.dot(k))).normalize(),M.crossVectors(O,k);const G=M.dot(u[R])<0?-1:1;l[R*4]=E.x,l[R*4+1]=E.y,l[R*4+2]=E.z,l[R*4+3]=G}for(let R=0,k=w.length;R<k;++R){const D=w[R],G=D.start,N=D.count;for(let $=G,H=G+N;$<H;$+=3)P(r[$+0]),P(r[$+1]),P(r[$+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new hn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new te,o=new te,a=new te,s=new te,l=new te,c=new te,u=new te,f=new te;if(e)for(let d=0,h=e.count;d<h;d+=3){const g=e.getX(d+0),x=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,x),a.fromBufferAttribute(n,v),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,v),s.add(u),l.add(u),c.add(u),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),u.subVectors(a,o),f.subVectors(i,o),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)kr.fromBufferAttribute(e,n),kr.normalize(),e.setXYZ(n,kr.x,kr.y,kr.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,f=s.normalized,d=new c.constructor(l.length*u);let h=0,g=0;for(let x=0,v=l.length;x<v;x++){s.isInterleavedBufferAttribute?h=l[x]*s.data.stride+s.offset:h=l[x]*u;for(let y=0;y<u;y++)d[g++]=c[h++]}return new hn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ht,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);n.setAttribute(s,c)}const o=this.morphAttributes;for(const s in o){const l=[],c=o[s];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const c=a[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],f=o[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const pL=new Ct,fu=new Cf,tx=new Kr,mL=new te,ud=new te,fd=new te,dd=new te,xM=new te,nx=new te,rx=new Ue,ix=new Ue,ox=new Ue,gL=new te,vL=new te,yL=new te,ax=new te,sx=new te;class er extends en{constructor(e=new Ht,n=new _l){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){nx.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=s[l],f=o[l];u!==0&&(xM.fromBufferAttribute(f,e),a?nx.addScaledVector(xM,u):nx.addScaledVector(xM.sub(n),u))}n.add(nx)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),tx.copy(r.boundingSphere),tx.applyMatrix4(o),fu.copy(e.ray).recast(e.near),!(tx.containsPoint(fu.origin)===!1&&(fu.intersectSphere(tx,mL)===null||fu.origin.distanceToSquared(mL)>(e.far-e.near)**2))&&(pL.copy(o).invert(),fu.copy(e.ray).applyMatrix4(pL),!(r.boundingBox!==null&&fu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,fu)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,f=o.attributes.normal,d=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(a))for(let g=0,x=d.length;g<x;g++){const v=d[g],y=a[v.materialIndex],_=Math.max(v.start,h.start),b=Math.min(s.count,Math.min(v.start+v.count,h.start+h.count));for(let w=_,E=b;w<E;w+=3){const M=s.getX(w),T=s.getX(w+1),O=s.getX(w+2);i=lx(this,y,e,r,c,u,f,M,T,O),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(s.count,h.start+h.count);for(let v=g,y=x;v<y;v+=3){const _=s.getX(v),b=s.getX(v+1),w=s.getX(v+2);i=lx(this,a,e,r,c,u,f,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let g=0,x=d.length;g<x;g++){const v=d[g],y=a[v.materialIndex],_=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let w=_,E=b;w<E;w+=3){const M=w,T=w+1,O=w+2;i=lx(this,y,e,r,c,u,f,M,T,O),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),x=Math.min(l.count,h.start+h.count);for(let v=g,y=x;v<y;v+=3){const _=v,b=v+1,w=v+2;i=lx(this,a,e,r,c,u,f,_,b,w),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function mie(t,e,n,r,i,o,a,s){let l;if(e.side===Fi?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===ul,s),l===null)return null;sx.copy(s),sx.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(sx);return c<n.near||c>n.far?null:{distance:c,point:sx.clone(),object:t}}function lx(t,e,n,r,i,o,a,s,l,c){t.getVertexPosition(s,ud),t.getVertexPosition(l,fd),t.getVertexPosition(c,dd);const u=mie(t,e,n,r,ud,fd,dd,ax);if(u){i&&(rx.fromBufferAttribute(i,s),ix.fromBufferAttribute(i,l),ox.fromBufferAttribute(i,c),u.uv=Ki.getInterpolation(ax,ud,fd,dd,rx,ix,ox,new Ue)),o&&(rx.fromBufferAttribute(o,s),ix.fromBufferAttribute(o,l),ox.fromBufferAttribute(o,c),u.uv1=Ki.getInterpolation(ax,ud,fd,dd,rx,ix,ox,new Ue),u.uv2=u.uv1),a&&(gL.fromBufferAttribute(a,s),vL.fromBufferAttribute(a,l),yL.fromBufferAttribute(a,c),u.normal=Ki.getInterpolation(ax,ud,fd,dd,gL,vL,yL,new te),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:s,b:l,c,normal:new te,materialIndex:0};Ki.getNormal(ud,fd,dd,f.normal),u.face=f}return u}class Rf extends Ht{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],c=[],u=[],f=[];let d=0,h=0;g("z","y","x",-1,-1,r,n,e,a,o,0),g("z","y","x",1,-1,r,n,-e,a,o,1),g("x","z","y",1,1,e,r,n,i,a,2),g("x","z","y",1,-1,e,r,-n,i,a,3),g("x","y","z",1,-1,e,n,r,i,o,4),g("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new mt(c,3)),this.setAttribute("normal",new mt(u,3)),this.setAttribute("uv",new mt(f,2));function g(x,v,y,_,b,w,E,M,T,O,P){const R=w/T,k=E/O,D=w/2,G=E/2,N=M/2,$=T+1,H=O+1;let K=0,U=0;const F=new te;for(let j=0;j<H;j++){const z=j*k-G;for(let X=0;X<$;X++){const q=X*R-D;F[x]=q*_,F[v]=z*b,F[y]=N,c.push(F.x,F.y,F.z),F[x]=0,F[v]=0,F[y]=M>0?1:-1,u.push(F.x,F.y,F.z),f.push(X/T),f.push(1-j/O),K+=1}}for(let j=0;j<O;j++)for(let z=0;z<T;z++){const X=d+z+$*j,q=d+z+$*(j+1),Z=d+(z+1)+$*(j+1),ne=d+(z+1)+$*j;l.push(X,q,ne),l.push(q,Z,ne),U+=6}s.addGroup(h,U,P),h+=U,d+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Uh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ci(t){const e={};for(let n=0;n<t.length;n++){const r=Uh(t[n]);for(const i in r)e[i]=r[i]}return e}function gie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function TV(t){return t.getRenderTarget()===null?t.outputColorSpace:ln.workingColorSpace}const KR={clone:Uh,merge:Ci};var vie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,yie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class cs extends yi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=vie,this.fragmentShader=yie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uh(e.uniforms),this.uniformsGroups=gie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class uy extends en{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct,this.coordinateSystem=Ma}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ur extends uy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=kh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(nf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return kh*2*Math.atan(Math.tan(nf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(nf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const hd=-90,pd=1;class AV extends en{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ur(hd,pd,e,n);i.layers=this.layers,this.add(i);const o=new ur(hd,pd,e,n);o.layers=this.layers,this.add(o);const a=new ur(hd,pd,e,n);a.layers=this.layers,this.add(a);const s=new ur(hd,pd,e,n);s.layers=this.layers,this.add(s);const l=new ur(hd,pd,e,n);l.layers=this.layers,this.add(l);const c=new ur(hd,pd,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const c of n)this.remove(c);if(e===Ma)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Lh)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,h),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class fy extends tr{constructor(e,n,r,i,o,a,s,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:fl,super(e,n,r,i,o,a,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class PV extends Ia{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(og("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===bc?Er:wo),this.texture=new fy(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Vn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Rf(5,5,5),o=new cs({name:"CubemapFromEquirect",uniforms:Uh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Fi,blending:Qs});o.uniforms.tEquirect.value=n;const a=new er(i,o),s=n.minFilter;return n.minFilter===Oc&&(n.minFilter=Vn),new AV(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const _M=new te,xie=new te,_ie=new Ft;class js{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=_M.subVectors(r,n).cross(xie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_M),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||_ie.getNormalMatrix(e),i=this.coplanarPoint(_M).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const du=new Kr,cx=new te;class dy{constructor(e=new js,n=new js,r=new js,i=new js,o=new js,a=new js){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ma){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],g=i[9],x=i[10],v=i[11],y=i[12],_=i[13],b=i[14],w=i[15];if(r[0].setComponents(l-o,d-c,v-h,w-y).normalize(),r[1].setComponents(l+o,d+c,v+h,w+y).normalize(),r[2].setComponents(l+a,d+u,v+g,w+_).normalize(),r[3].setComponents(l-a,d-u,v-g,w-_).normalize(),r[4].setComponents(l-s,d-f,v-x,w-b).normalize(),n===Ma)r[5].setComponents(l+s,d+f,v+x,w+b).normalize();else if(n===Lh)r[5].setComponents(s,f,x,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),du.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),du.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(du)}intersectsSprite(e){return du.center.set(0,0,0),du.radius=.7071067811865476,du.applyMatrix4(e.matrixWorld),this.intersectsSphere(du)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(cx.x=i.normal.x>0?e.max.x:e.min.x,cx.y=i.normal.y>0?e.max.y:e.min.y,cx.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(cx)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function CV(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function bie(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,h=f.byteLength,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,f,d),c.onUploadCallback();let x;if(f instanceof Float32Array)x=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=t.SHORT;else if(f instanceof Uint32Array)x=t.UNSIGNED_INT;else if(f instanceof Int32Array)x=t.INT;else if(f instanceof Int8Array)x=t.BYTE;else if(f instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:h}}function o(c,u,f){const d=u.array,h=u._updateRange,g=u.updateRanges;if(t.bindBuffer(f,c),h.count===-1&&g.length===0&&t.bufferSubData(f,0,d),g.length!==0){for(let x=0,v=g.length;x<v;x++){const y=g[x];n?t.bufferSubData(f,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count):t.bufferSubData(f,y.start*d.BYTES_PER_ELEMENT,d.subarray(y.start,y.start+y.count))}u.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");o(f.buffer,c,u),f.version=c.version}}return{get:a,remove:s,update:l}}class Fc extends Ht{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),c=s+1,u=l+1,f=e/s,d=n/l,h=[],g=[],x=[],v=[];for(let y=0;y<u;y++){const _=y*d-a;for(let b=0;b<c;b++){const w=b*f-o;g.push(w,-_,0),x.push(0,0,1),v.push(b/s),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let _=0;_<s;_++){const b=_+c*y,w=_+c*(y+1),E=_+1+c*(y+1),M=_+1+c*y;h.push(b,w,M),h.push(w,E,M)}this.setIndex(h),this.setAttribute("position",new mt(g,3)),this.setAttribute("normal",new mt(x,3)),this.setAttribute("uv",new mt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fc(e.width,e.height,e.widthSegments,e.heightSegments)}}var wie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Sie=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Eie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Tie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Aie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Pie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Rie=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Oie=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Iie=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Nie=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Die=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Lie=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,kie=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Uie=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Fie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Bie=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zie=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,jie=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Vie=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Gie=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$ie=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Wie=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xie=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qie=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Yie=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Kie=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Zie=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jie="gl_FragColor = linearToOutputTexel( gl_FragColor );",Qie=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,eoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,toe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,noe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,roe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ioe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ooe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aoe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,soe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,loe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,coe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,uoe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,foe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,doe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hoe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,poe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,moe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,goe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,voe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,yoe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xoe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_oe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,boe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,woe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Soe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Eoe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Moe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Toe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Aoe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Poe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Coe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Roe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ooe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ioe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Noe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Doe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Loe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,koe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Uoe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Foe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Boe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,joe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Hoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Voe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Goe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,$oe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Woe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Xoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,qoe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Yoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Koe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Zoe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Joe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Qoe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,eae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,tae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,nae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,iae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,sae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,uae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,fae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,hae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,pae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,mae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,gae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,vae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_ae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Sae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Eae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Aae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Pae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Cae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Rae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Oae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Iae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,kae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Hae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Vae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$ae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Wae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Kae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zae=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ese=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kt={alphahash_fragment:wie,alphahash_pars_fragment:Sie,alphamap_fragment:Eie,alphamap_pars_fragment:Mie,alphatest_fragment:Tie,alphatest_pars_fragment:Aie,aomap_fragment:Pie,aomap_pars_fragment:Cie,batching_pars_vertex:Rie,batching_vertex:Oie,begin_vertex:Iie,beginnormal_vertex:Nie,bsdfs:Die,iridescence_fragment:Lie,bumpmap_pars_fragment:kie,clipping_planes_fragment:Uie,clipping_planes_pars_fragment:Fie,clipping_planes_pars_vertex:Bie,clipping_planes_vertex:zie,color_fragment:jie,color_pars_fragment:Hie,color_pars_vertex:Vie,color_vertex:Gie,common:$ie,cube_uv_reflection_fragment:Wie,defaultnormal_vertex:Xie,displacementmap_pars_vertex:qie,displacementmap_vertex:Yie,emissivemap_fragment:Kie,emissivemap_pars_fragment:Zie,colorspace_fragment:Jie,colorspace_pars_fragment:Qie,envmap_fragment:eoe,envmap_common_pars_fragment:toe,envmap_pars_fragment:noe,envmap_pars_vertex:roe,envmap_physical_pars_fragment:moe,envmap_vertex:ioe,fog_vertex:ooe,fog_pars_vertex:aoe,fog_fragment:soe,fog_pars_fragment:loe,gradientmap_pars_fragment:coe,lightmap_fragment:uoe,lightmap_pars_fragment:foe,lights_lambert_fragment:doe,lights_lambert_pars_fragment:hoe,lights_pars_begin:poe,lights_toon_fragment:goe,lights_toon_pars_fragment:voe,lights_phong_fragment:yoe,lights_phong_pars_fragment:xoe,lights_physical_fragment:_oe,lights_physical_pars_fragment:boe,lights_fragment_begin:woe,lights_fragment_maps:Soe,lights_fragment_end:Eoe,logdepthbuf_fragment:Moe,logdepthbuf_pars_fragment:Toe,logdepthbuf_pars_vertex:Aoe,logdepthbuf_vertex:Poe,map_fragment:Coe,map_pars_fragment:Roe,map_particle_fragment:Ooe,map_particle_pars_fragment:Ioe,metalnessmap_fragment:Noe,metalnessmap_pars_fragment:Doe,morphcolor_vertex:Loe,morphnormal_vertex:koe,morphtarget_pars_vertex:Uoe,morphtarget_vertex:Foe,normal_fragment_begin:Boe,normal_fragment_maps:zoe,normal_pars_fragment:joe,normal_pars_vertex:Hoe,normal_vertex:Voe,normalmap_pars_fragment:Goe,clearcoat_normal_fragment_begin:$oe,clearcoat_normal_fragment_maps:Woe,clearcoat_pars_fragment:Xoe,iridescence_pars_fragment:qoe,opaque_fragment:Yoe,packing:Koe,premultiplied_alpha_fragment:Zoe,project_vertex:Joe,dithering_fragment:Qoe,dithering_pars_fragment:eae,roughnessmap_fragment:tae,roughnessmap_pars_fragment:nae,shadowmap_pars_fragment:rae,shadowmap_pars_vertex:iae,shadowmap_vertex:oae,shadowmask_pars_fragment:aae,skinbase_vertex:sae,skinning_pars_vertex:lae,skinning_vertex:cae,skinnormal_vertex:uae,specularmap_fragment:fae,specularmap_pars_fragment:dae,tonemapping_fragment:hae,tonemapping_pars_fragment:pae,transmission_fragment:mae,transmission_pars_fragment:gae,uv_pars_fragment:vae,uv_pars_vertex:yae,uv_vertex:xae,worldpos_vertex:_ae,background_vert:bae,background_frag:wae,backgroundCube_vert:Sae,backgroundCube_frag:Eae,cube_vert:Mae,cube_frag:Tae,depth_vert:Aae,depth_frag:Pae,distanceRGBA_vert:Cae,distanceRGBA_frag:Rae,equirect_vert:Oae,equirect_frag:Iae,linedashed_vert:Nae,linedashed_frag:Dae,meshbasic_vert:Lae,meshbasic_frag:kae,meshlambert_vert:Uae,meshlambert_frag:Fae,meshmatcap_vert:Bae,meshmatcap_frag:zae,meshnormal_vert:jae,meshnormal_frag:Hae,meshphong_vert:Vae,meshphong_frag:Gae,meshphysical_vert:$ae,meshphysical_frag:Wae,meshtoon_vert:Xae,meshtoon_frag:qae,points_vert:Yae,points_frag:Kae,shadow_vert:Zae,shadow_frag:Jae,sprite_vert:Qae,sprite_frag:ese},nt={common:{diffuse:{value:new st(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ft}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ft}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ft}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ft},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ft},normalScale:{value:new Ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ft},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ft}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ft}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ft}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new st(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new st(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0},uvTransform:{value:new Ft}},sprite:{diffuse:{value:new st(16777215)},opacity:{value:1},center:{value:new Ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ft},alphaMap:{value:null},alphaMapTransform:{value:new Ft},alphaTest:{value:0}}},ba={basic:{uniforms:Ci([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.fog]),vertexShader:kt.meshbasic_vert,fragmentShader:kt.meshbasic_frag},lambert:{uniforms:Ci([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new st(0)}}]),vertexShader:kt.meshlambert_vert,fragmentShader:kt.meshlambert_frag},phong:{uniforms:Ci([nt.common,nt.specularmap,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,nt.lights,{emissive:{value:new st(0)},specular:{value:new st(1118481)},shininess:{value:30}}]),vertexShader:kt.meshphong_vert,fragmentShader:kt.meshphong_frag},standard:{uniforms:Ci([nt.common,nt.envmap,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.roughnessmap,nt.metalnessmap,nt.fog,nt.lights,{emissive:{value:new st(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:kt.meshphysical_vert,fragmentShader:kt.meshphysical_frag},toon:{uniforms:Ci([nt.common,nt.aomap,nt.lightmap,nt.emissivemap,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.gradientmap,nt.fog,nt.lights,{emissive:{value:new st(0)}}]),vertexShader:kt.meshtoon_vert,fragmentShader:kt.meshtoon_frag},matcap:{uniforms:Ci([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,nt.fog,{matcap:{value:null}}]),vertexShader:kt.meshmatcap_vert,fragmentShader:kt.meshmatcap_frag},points:{uniforms:Ci([nt.points,nt.fog]),vertexShader:kt.points_vert,fragmentShader:kt.points_frag},dashed:{uniforms:Ci([nt.common,nt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:kt.linedashed_vert,fragmentShader:kt.linedashed_frag},depth:{uniforms:Ci([nt.common,nt.displacementmap]),vertexShader:kt.depth_vert,fragmentShader:kt.depth_frag},normal:{uniforms:Ci([nt.common,nt.bumpmap,nt.normalmap,nt.displacementmap,{opacity:{value:1}}]),vertexShader:kt.meshnormal_vert,fragmentShader:kt.meshnormal_frag},sprite:{uniforms:Ci([nt.sprite,nt.fog]),vertexShader:kt.sprite_vert,fragmentShader:kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ft},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:kt.background_vert,fragmentShader:kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:kt.backgroundCube_vert,fragmentShader:kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:kt.cube_vert,fragmentShader:kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:kt.equirect_vert,fragmentShader:kt.equirect_frag},distanceRGBA:{uniforms:Ci([nt.common,nt.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:kt.distanceRGBA_vert,fragmentShader:kt.distanceRGBA_frag},shadow:{uniforms:Ci([nt.lights,nt.fog,{color:{value:new st(0)},opacity:{value:1}}]),vertexShader:kt.shadow_vert,fragmentShader:kt.shadow_frag}};ba.physical={uniforms:Ci([ba.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ft},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ft},clearcoatNormalScale:{value:new Ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ft},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ft},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ft},sheen:{value:0},sheenColor:{value:new st(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ft},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ft},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ft},transmissionSamplerSize:{value:new Ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ft},attenuationDistance:{value:0},attenuationColor:{value:new st(0)},specularColor:{value:new st(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ft},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ft},anisotropyVector:{value:new Ue},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ft}}]),vertexShader:kt.meshphysical_vert,fragmentShader:kt.meshphysical_frag};const ux={r:0,b:0,g:0};function tse(t,e,n,r,i,o,a){const s=new st(0);let l=o===!0?0:1,c,u,f=null,d=0,h=null;function g(v,y){let _=!1,b=y.isScene===!0?y.background:null;b&&b.isTexture&&(b=(y.backgroundBlurriness>0?n:e).get(b)),b===null?x(s,l):b&&b.isColor&&(x(b,1),_=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?r.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===yp)?(u===void 0&&(u=new er(new Rf(1,1,1),new cs({name:"BackgroundCubeMaterial",uniforms:Uh(ba.backgroundCube.uniforms),vertexShader:ba.backgroundCube.vertexShader,fragmentShader:ba.backgroundCube.fragmentShader,side:Fi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,u.material.toneMapped=ln.getTransfer(b.colorSpace)!==wn,(f!==b||d!==b.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new er(new Fc(2,2),new cs({name:"BackgroundMaterial",uniforms:Uh(ba.background.uniforms),vertexShader:ba.background.vertexShader,fragmentShader:ba.background.fragmentShader,side:ul,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=ln.getTransfer(b.colorSpace)!==wn,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function x(v,y){v.getRGB(ux,TV(t)),r.buffers.color.setClear(ux.r,ux.g,ux.b,y,a)}return{getClearColor:function(){return s},setClearColor:function(v,y=1){s.set(v),l=y,x(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,x(s,l)},render:g}}function nse(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||o!==null,s={},l=v(null);let c=l,u=!1;function f(N,$,H,K,U){let F=!1;if(a){const j=x(K,H,$);c!==j&&(c=j,h(c.object)),F=y(N,K,H,U),F&&_(N,K,H,U)}else{const j=$.wireframe===!0;(c.geometry!==K.id||c.program!==H.id||c.wireframe!==j)&&(c.geometry=K.id,c.program=H.id,c.wireframe=j,F=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(F||u)&&(u=!1,O(N,$,H,K),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function d(){return r.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function h(N){return r.isWebGL2?t.bindVertexArray(N):o.bindVertexArrayOES(N)}function g(N){return r.isWebGL2?t.deleteVertexArray(N):o.deleteVertexArrayOES(N)}function x(N,$,H){const K=H.wireframe===!0;let U=s[N.id];U===void 0&&(U={},s[N.id]=U);let F=U[$.id];F===void 0&&(F={},U[$.id]=F);let j=F[K];return j===void 0&&(j=v(d()),F[K]=j),j}function v(N){const $=[],H=[],K=[];for(let U=0;U<i;U++)$[U]=0,H[U]=0,K[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:H,attributeDivisors:K,object:N,attributes:{},index:null}}function y(N,$,H,K){const U=c.attributes,F=$.attributes;let j=0;const z=H.getAttributes();for(const X in z)if(z[X].location>=0){const Z=U[X];let ne=F[X];if(ne===void 0&&(X==="instanceMatrix"&&N.instanceMatrix&&(ne=N.instanceMatrix),X==="instanceColor"&&N.instanceColor&&(ne=N.instanceColor)),Z===void 0||Z.attribute!==ne||ne&&Z.data!==ne.data)return!0;j++}return c.attributesNum!==j||c.index!==K}function _(N,$,H,K){const U={},F=$.attributes;let j=0;const z=H.getAttributes();for(const X in z)if(z[X].location>=0){let Z=F[X];Z===void 0&&(X==="instanceMatrix"&&N.instanceMatrix&&(Z=N.instanceMatrix),X==="instanceColor"&&N.instanceColor&&(Z=N.instanceColor));const ne={};ne.attribute=Z,Z&&Z.data&&(ne.data=Z.data),U[X]=ne,j++}c.attributes=U,c.attributesNum=j,c.index=K}function b(){const N=c.newAttributes;for(let $=0,H=N.length;$<H;$++)N[$]=0}function w(N){E(N,0)}function E(N,$){const H=c.newAttributes,K=c.enabledAttributes,U=c.attributeDivisors;H[N]=1,K[N]===0&&(t.enableVertexAttribArray(N),K[N]=1),U[N]!==$&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,$),U[N]=$)}function M(){const N=c.newAttributes,$=c.enabledAttributes;for(let H=0,K=$.length;H<K;H++)$[H]!==N[H]&&(t.disableVertexAttribArray(H),$[H]=0)}function T(N,$,H,K,U,F,j){j===!0?t.vertexAttribIPointer(N,$,H,U,F):t.vertexAttribPointer(N,$,H,K,U,F)}function O(N,$,H,K){if(r.isWebGL2===!1&&(N.isInstancedMesh||K.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const U=K.attributes,F=H.getAttributes(),j=$.defaultAttributeValues;for(const z in F){const X=F[z];if(X.location>=0){let q=U[z];if(q===void 0&&(z==="instanceMatrix"&&N.instanceMatrix&&(q=N.instanceMatrix),z==="instanceColor"&&N.instanceColor&&(q=N.instanceColor)),q!==void 0){const Z=q.normalized,ne=q.itemSize,se=n.get(q);if(se===void 0)continue;const ae=se.buffer,ge=se.type,ce=se.bytesPerElement,ve=r.isWebGL2===!0&&(ge===t.INT||ge===t.UNSIGNED_INT||q.gpuType===DR);if(q.isInterleavedBufferAttribute){const he=q.data,V=he.stride,ye=q.offset;if(he.isInstancedInterleavedBuffer){for(let le=0;le<X.locationSize;le++)E(X.location+le,he.meshPerAttribute);N.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let le=0;le<X.locationSize;le++)w(X.location+le);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let le=0;le<X.locationSize;le++)T(X.location+le,ne/X.locationSize,ge,Z,V*ce,(ye+ne/X.locationSize*le)*ce,ve)}else{if(q.isInstancedBufferAttribute){for(let he=0;he<X.locationSize;he++)E(X.location+he,q.meshPerAttribute);N.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let he=0;he<X.locationSize;he++)w(X.location+he);t.bindBuffer(t.ARRAY_BUFFER,ae);for(let he=0;he<X.locationSize;he++)T(X.location+he,ne/X.locationSize,ge,Z,ne*ce,ne/X.locationSize*he*ce,ve)}}else if(j!==void 0){const Z=j[z];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(X.location,Z);break;case 3:t.vertexAttrib3fv(X.location,Z);break;case 4:t.vertexAttrib4fv(X.location,Z);break;default:t.vertexAttrib1fv(X.location,Z)}}}}M()}function P(){D();for(const N in s){const $=s[N];for(const H in $){const K=$[H];for(const U in K)g(K[U].object),delete K[U];delete $[H]}delete s[N]}}function R(N){if(s[N.id]===void 0)return;const $=s[N.id];for(const H in $){const K=$[H];for(const U in K)g(K[U].object),delete K[U];delete $[H]}delete s[N.id]}function k(N){for(const $ in s){const H=s[$];if(H[N.id]===void 0)continue;const K=H[N.id];for(const U in K)g(K[U].object),delete K[U];delete H[N.id]}}function D(){G(),u=!0,c!==l&&(c=l,h(c.object))}function G(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:D,resetDefaultState:G,dispose:P,releaseStatesOfGeometry:R,releaseStatesOfProgram:k,initAttributes:b,enableAttribute:w,disableUnusedAttributes:M}}function rse(t,e,n,r){const i=r.isWebGL2;let o;function a(u){o=u}function s(u,f){t.drawArrays(o,u,f),n.update(f,o,1)}function l(u,f,d){if(d===0)return;let h,g;if(i)h=t,g="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[g](o,u,f,d),n.update(f,o,d)}function c(u,f,d){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let g=0;g<d;g++)this.render(u[g],f[g]);else{h.multiDrawArraysWEBGL(o,u,0,f,0,d);let g=0;for(let x=0;x<d;x++)g+=f[x];n.update(g,o,1)}}this.setMode=a,this.render=s,this.renderInstances=l,this.renderMultiDraw=c}function ise(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=d>0,w=a||e.has("OES_texture_float"),E=b&&w,M=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:g,maxAttributes:x,maxVertexUniforms:v,maxVaryings:y,maxFragmentUniforms:_,vertexTextures:b,floatFragmentTextures:w,floatVertexTextures:E,maxSamples:M}}function ose(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new js,s=new Ft,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const g=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,y=t.get(f);if(!i||g===null||g.length===0||o&&!v)o?u(null):c();else{const _=o?0:r,b=_*4;let w=y.clippingState||null;l.value=w,w=u(g,d,b,h);for(let E=0;E!==b;++E)w[E]=n[E];y.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,g){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=l.value,g!==!0||v===null){const y=h+x*4,_=d.matrixWorldInverse;s.getNormalMatrix(_),(v===null||v.length<y)&&(v=new Float32Array(y));for(let b=0,w=h;b!==x;++b,w+=4)a.copy(f[b]).applyMatrix4(_,s),a.normal.toArray(v,w),v[w+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function ase(t){let e=new WeakMap;function n(a,s){return s===Gg?a.mapping=fl:s===$g&&(a.mapping=Rc),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===Gg||s===$g)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new PV(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class wc extends uy{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,a=o+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Xd=4,xL=[.125,.215,.35,.446,.526,.582],Nu=20,bM=new wc,_L=new st;let wM=null,SM=0,EM=0;const Cu=(1+Math.sqrt(5))/2,md=1/Cu,bL=[new te(1,1,1),new te(-1,1,1),new te(1,1,-1),new te(-1,1,-1),new te(0,Cu,md),new te(0,Cu,-md),new te(md,0,Cu),new te(-md,0,Cu),new te(Cu,md,0),new te(-Cu,md,0)];class S2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){wM=this._renderer.getRenderTarget(),SM=this._renderer.getActiveCubeFace(),EM=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=SL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(wM,SM,EM),e.scissorTest=!1,fx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===fl||e.mapping===Rc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),wM=this._renderer.getRenderTarget(),SM=this._renderer.getActiveCubeFace(),EM=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Vn,minFilter:Vn,generateMipmaps:!1,type:Dh,format:Ni,colorSpace:ls,depthBuffer:!1},i=wL(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=wL(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=sse(o)),this._blurMaterial=lse(o,e,n)}return i}_compileMaterial(e){const n=new er(this._lodPlanes[0],e);this._renderer.compile(n,bM)}_sceneToCubeUV(e,n,r,i){const s=new ur(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(_L),u.toneMapping=ts,u.autoClear=!1;const h=new _l({name:"PMREM.Background",side:Fi,depthWrite:!1,depthTest:!1}),g=new er(new Rf,h);let x=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,x=!0):(h.color.copy(_L),x=!0);for(let y=0;y<6;y++){const _=y%3;_===0?(s.up.set(0,l[y],0),s.lookAt(c[y],0,0)):_===1?(s.up.set(0,0,l[y]),s.lookAt(0,c[y],0)):(s.up.set(0,l[y],0),s.lookAt(0,0,c[y]));const b=this._cubeSize;fx(i,_*b,y>2?b:0,b,b),u.setRenderTarget(i),x&&u.render(g,s),u.render(e,s)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===fl||e.mapping===Rc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=SL());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new er(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;fx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,bM)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=bL[(i-1)%bL.length];this._blur(e,i-1,i,o,a)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new er(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(o)?Math.PI/(2*h):2*Math.PI/(2*Nu-1),x=o/g,v=isFinite(o)?1+Math.floor(u*x):Nu;v>Nu&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Nu}`);const y=[];let _=0;for(let T=0;T<Nu;++T){const O=T/x,P=Math.exp(-O*O/2);y.push(P),T===0?_+=P:T<v&&(_+=2*P)}for(let T=0;T<y.length;T++)y[T]=y[T]/_;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=y,d.latitudinal.value=a==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:b}=this;d.dTheta.value=g,d.mipInt.value=b-r;const w=this._sizeLods[i],E=3*w*(i>b-Xd?i-b+Xd:0),M=4*(this._cubeSize-w);fx(n,E,M,3*w,2*w),l.setRenderTarget(n),l.render(f,bM)}}function sse(t){const e=[],n=[],r=[];let i=t;const o=t-Xd+1+xL.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-Xd?l=xL[a-t+Xd-1]:a===0&&(l=0),r.push(l);const c=1/(s-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,g=6,x=3,v=2,y=1,_=new Float32Array(x*g*h),b=new Float32Array(v*g*h),w=new Float32Array(y*g*h);for(let M=0;M<h;M++){const T=M%3*2/3-1,O=M>2?0:-1,P=[T,O,0,T+2/3,O,0,T+2/3,O+1,0,T,O,0,T+2/3,O+1,0,T,O+1,0];_.set(P,x*g*M),b.set(d,v*g*M);const R=[M,M,M,M,M,M];w.set(R,y*g*M)}const E=new Ht;E.setAttribute("position",new hn(_,x)),E.setAttribute("uv",new hn(b,v)),E.setAttribute("faceIndex",new hn(w,y)),e.push(E),i>Xd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function wL(t,e,n){const r=new Ia(t,e,n);return r.texture.mapping=yp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function fx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function lse(t,e,n){const r=new Float32Array(Nu),i=new te(0,1,0);return new cs({name:"SphericalGaussianBlur",defines:{n:Nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:ZR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function SL(){return new cs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ZR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function EL(){return new cs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ZR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Qs,depthTest:!1,depthWrite:!1})}function ZR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cse(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===Gg||l===$g,u=l===fl||l===Rc;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let f=e.get(s);return n===null&&(n=new S2(t)),f=c?n.fromEquirectangular(s,f):n.fromCubemap(s,f),e.set(s,f),f.texture}else{if(e.has(s))return e.get(s).texture;{const f=s.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new S2(t));const d=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",o),d.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function o(s){const l=s.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function use(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function fse(t,e,n,r){const i={},o=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const x=d.morphAttributes[g];for(let v=0,y=x.length;v<y;v++)e.remove(x[v])}d.removeEventListener("dispose",a),delete i[d.id];const h=o.get(d);h&&(e.remove(h),o.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const g in h){const x=h[g];for(let v=0,y=x.length;v<y;v++)e.update(x[v],t.ARRAY_BUFFER)}}function c(f){const d=[],h=f.index,g=f.attributes.position;let x=0;if(h!==null){const _=h.array;x=h.version;for(let b=0,w=_.length;b<w;b+=3){const E=_[b+0],M=_[b+1],T=_[b+2];d.push(E,M,M,T,T,E)}}else if(g!==void 0){const _=g.array;x=g.version;for(let b=0,w=_.length/3-1;b<w;b+=3){const E=b+0,M=b+1,T=b+2;d.push(E,M,M,T,T,E)}}else return;const v=new(wV(d)?YR:qR)(d,1);v.version=x;const y=o.get(f);y&&e.remove(y),o.set(f,v)}function u(f){const d=o.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:u}}function dse(t,e,n,r){const i=r.isWebGL2;let o;function a(h){o=h}let s,l;function c(h){s=h.type,l=h.bytesPerElement}function u(h,g){t.drawElements(o,g,s,h*l),n.update(g,o,1)}function f(h,g,x){if(x===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](o,g,s,h*l,x),n.update(g,o,x)}function d(h,g,x){if(x===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<x;y++)this.render(h[y]/l,g[y]);else{v.multiDrawElementsWEBGL(o,g,0,s,h,0,x);let y=0;for(let _=0;_<x;_++)y+=g[_];n.update(y,o,1)}}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=d}function hse(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function pse(t,e){return t[0]-e[0]}function mse(t,e){return Math.abs(e[1])-Math.abs(t[1])}function gse(t,e,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new nn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=g!==void 0?g.length:0;let v=o.get(u);if(v===void 0||v.count!==x){let $=function(){G.dispose(),o.delete(u),u.removeEventListener("dispose",$)};var h=$;v!==void 0&&v.texture.dispose();const b=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],O=u.morphAttributes.color||[];let P=0;b===!0&&(P=1),w===!0&&(P=2),E===!0&&(P=3);let R=u.attributes.position.count*P,k=1;R>e.maxTextureSize&&(k=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const D=new Float32Array(R*k*4*x),G=new uw(D,R,k,x);G.type=Ea,G.needsUpdate=!0;const N=P*4;for(let H=0;H<x;H++){const K=M[H],U=T[H],F=O[H],j=R*k*4*H;for(let z=0;z<K.count;z++){const X=z*N;b===!0&&(a.fromBufferAttribute(K,z),D[j+X+0]=a.x,D[j+X+1]=a.y,D[j+X+2]=a.z,D[j+X+3]=0),w===!0&&(a.fromBufferAttribute(U,z),D[j+X+4]=a.x,D[j+X+5]=a.y,D[j+X+6]=a.z,D[j+X+7]=0),E===!0&&(a.fromBufferAttribute(F,z),D[j+X+8]=a.x,D[j+X+9]=a.y,D[j+X+10]=a.z,D[j+X+11]=F.itemSize===4?a.w:1)}}v={count:x,texture:G,size:new Ue(R,k)},o.set(u,v),u.addEventListener("dispose",$)}let y=0;for(let b=0;b<d.length;b++)y+=d[b];const _=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}else{const g=d===void 0?0:d.length;let x=r[u.id];if(x===void 0||x.length!==g){x=[];for(let w=0;w<g;w++)x[w]=[w,0];r[u.id]=x}for(let w=0;w<g;w++){const E=x[w];E[0]=w,E[1]=d[w]}x.sort(mse);for(let w=0;w<8;w++)w<g&&x[w][1]?(s[w][0]=x[w][0],s[w][1]=x[w][1]):(s[w][0]=Number.MAX_SAFE_INTEGER,s[w][1]=0);s.sort(pse);const v=u.morphAttributes.position,y=u.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const E=s[w],M=E[0],T=E[1];M!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+w)!==v[M]&&u.setAttribute("morphTarget"+w,v[M]),y&&u.getAttribute("morphNormal"+w)!==y[M]&&u.setAttribute("morphNormal"+w,y[M]),i[w]=T,_+=T):(v&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),y&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),i[w]=0)}const b=u.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function vse(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function a(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:a}}class JR extends tr{constructor(e,n,r,i,o,a,s,l,c,u){if(u=u!==void 0?u:_c,u!==_c&&u!==gf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===_c&&(r=Xs),r===void 0&&u===gf&&(r=xc),super(null,i,o,a,s,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:lr,this.minFilter=l!==void 0?l:lr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const RV=new tr,OV=new JR(1,1);OV.compareFunction=GR;const IV=new uw,NV=new XR,DV=new fy,ML=[],TL=[],AL=new Float32Array(16),PL=new Float32Array(9),CL=new Float32Array(4);function xp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=ML[i];if(o===void 0&&(o=new Float32Array(i),ML[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Pr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Cr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function fw(t,e){let n=TL[e];n===void 0&&(n=new Int32Array(e),TL[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function yse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function xse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pr(n,e))return;t.uniform2fv(this.addr,e),Cr(n,e)}}function _se(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Pr(n,e))return;t.uniform3fv(this.addr,e),Cr(n,e)}}function bse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pr(n,e))return;t.uniform4fv(this.addr,e),Cr(n,e)}}function wse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Pr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Cr(n,e)}else{if(Pr(n,r))return;CL.set(r),t.uniformMatrix2fv(this.addr,!1,CL),Cr(n,r)}}function Sse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Pr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Cr(n,e)}else{if(Pr(n,r))return;PL.set(r),t.uniformMatrix3fv(this.addr,!1,PL),Cr(n,r)}}function Ese(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Pr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Cr(n,e)}else{if(Pr(n,r))return;AL.set(r),t.uniformMatrix4fv(this.addr,!1,AL),Cr(n,r)}}function Mse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Tse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pr(n,e))return;t.uniform2iv(this.addr,e),Cr(n,e)}}function Ase(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Pr(n,e))return;t.uniform3iv(this.addr,e),Cr(n,e)}}function Pse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pr(n,e))return;t.uniform4iv(this.addr,e),Cr(n,e)}}function Cse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Rse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Pr(n,e))return;t.uniform2uiv(this.addr,e),Cr(n,e)}}function Ose(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Pr(n,e))return;t.uniform3uiv(this.addr,e),Cr(n,e)}}function Ise(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Pr(n,e))return;t.uniform4uiv(this.addr,e),Cr(n,e)}}function Nse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?OV:RV;n.setTexture2D(e||o,i)}function Dse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||NV,i)}function Lse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||DV,i)}function kse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||IV,i)}function Use(t){switch(t){case 5126:return yse;case 35664:return xse;case 35665:return _se;case 35666:return bse;case 35674:return wse;case 35675:return Sse;case 35676:return Ese;case 5124:case 35670:return Mse;case 35667:case 35671:return Tse;case 35668:case 35672:return Ase;case 35669:case 35673:return Pse;case 5125:return Cse;case 36294:return Rse;case 36295:return Ose;case 36296:return Ise;case 35678:case 36198:case 36298:case 36306:case 35682:return Nse;case 35679:case 36299:case 36307:return Dse;case 35680:case 36300:case 36308:case 36293:return Lse;case 36289:case 36303:case 36311:case 36292:return kse}}function Fse(t,e){t.uniform1fv(this.addr,e)}function Bse(t,e){const n=xp(e,this.size,2);t.uniform2fv(this.addr,n)}function zse(t,e){const n=xp(e,this.size,3);t.uniform3fv(this.addr,n)}function jse(t,e){const n=xp(e,this.size,4);t.uniform4fv(this.addr,n)}function Hse(t,e){const n=xp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Vse(t,e){const n=xp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Gse(t,e){const n=xp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function $se(t,e){t.uniform1iv(this.addr,e)}function Wse(t,e){t.uniform2iv(this.addr,e)}function Xse(t,e){t.uniform3iv(this.addr,e)}function qse(t,e){t.uniform4iv(this.addr,e)}function Yse(t,e){t.uniform1uiv(this.addr,e)}function Kse(t,e){t.uniform2uiv(this.addr,e)}function Zse(t,e){t.uniform3uiv(this.addr,e)}function Jse(t,e){t.uniform4uiv(this.addr,e)}function Qse(t,e,n){const r=this.cache,i=e.length,o=fw(n,i);Pr(r,o)||(t.uniform1iv(this.addr,o),Cr(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||RV,o[a])}function ele(t,e,n){const r=this.cache,i=e.length,o=fw(n,i);Pr(r,o)||(t.uniform1iv(this.addr,o),Cr(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||NV,o[a])}function tle(t,e,n){const r=this.cache,i=e.length,o=fw(n,i);Pr(r,o)||(t.uniform1iv(this.addr,o),Cr(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||DV,o[a])}function nle(t,e,n){const r=this.cache,i=e.length,o=fw(n,i);Pr(r,o)||(t.uniform1iv(this.addr,o),Cr(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||IV,o[a])}function rle(t){switch(t){case 5126:return Fse;case 35664:return Bse;case 35665:return zse;case 35666:return jse;case 35674:return Hse;case 35675:return Vse;case 35676:return Gse;case 5124:case 35670:return $se;case 35667:case 35671:return Wse;case 35668:case 35672:return Xse;case 35669:case 35673:return qse;case 5125:return Yse;case 36294:return Kse;case 36295:return Zse;case 36296:return Jse;case 35678:case 36198:case 36298:case 36306:case 35682:return Qse;case 35679:case 36299:case 36307:return ele;case 35680:case 36300:case 36308:case 36293:return tle;case 36289:case 36303:case 36311:case 36292:return nle}}class ile{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Use(n.type)}}class ole{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=rle(n.type)}}class ale{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const MM=/(\w+)(\])?(\[|\.)?/g;function RL(t,e){t.seq.push(e),t.map[e.id]=e}function sle(t,e,n){const r=t.name,i=r.length;for(MM.lastIndex=0;;){const o=MM.exec(r),a=MM.lastIndex;let s=o[1];const l=o[2]==="]",c=o[3];if(l&&(s=s|0),c===void 0||c==="["&&a+2===i){RL(n,c===void 0?new ile(s,t,e):new ole(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new ale(s),RL(n,f)),n=f}}}class P1{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);sle(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function OL(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const lle=37297;let cle=0;function ule(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}function fle(t){const e=ln.getPrimaries(ln.workingColorSpace),n=ln.getPrimaries(t);let r;switch(e===n?r="":e===Qg&&n===Jg?r="LinearDisplayP3ToLinearSRGB":e===Jg&&n===Qg&&(r="LinearSRGBToLinearDisplayP3"),t){case ls:case ly:return[r,"LinearTransferOETF"];case Er:case cw:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function IL(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+ule(t.getShaderSource(e),a)}else return i}function dle(t,e){const n=fle(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function hle(t,e){let n;switch(e){case KH:n="Linear";break;case ZH:n="Reinhard";break;case JH:n="OptimizedCineon";break;case IR:n="ACESFilmic";break;case eV:n="AgX";break;case QH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ple(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qd).join(`
`)}function mle(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(qd).join(`
`)}function gle(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function vle(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function qd(t){return t!==""}function NL(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DL(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const yle=/^[ \t]*#include +<([\w\d./]+)>/gm;function E2(t){return t.replace(yle,_le)}const xle=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function _le(t,e){let n=kt[e];if(n===void 0){const r=xle.get(e);if(r!==void 0)n=kt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return E2(n)}const ble=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function LL(t){return t.replace(ble,wle)}function wle(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function kL(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Sle(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===ow?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===ng?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ma&&(e="SHADOWMAP_TYPE_VSM"),e}function Ele(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case fl:case Rc:e="ENVMAP_TYPE_CUBE";break;case yp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Mle(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Rc:e="ENVMAP_MODE_REFRACTION";break}return e}function Tle(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case sy:e="ENVMAP_BLENDING_MULTIPLY";break;case qH:e="ENVMAP_BLENDING_MIX";break;case YH:e="ENVMAP_BLENDING_ADD";break}return e}function Ale(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Ple(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=Sle(n),c=Ele(n),u=Mle(n),f=Tle(n),d=Ale(n),h=n.isWebGL2?"":ple(n),g=mle(n),x=gle(o),v=i.createProgram();let y,_,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(qd).join(`
`),y.length>0&&(y+=`
`),_=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(qd).join(`
`),_.length>0&&(_+=`
`)):(y=[kL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qd).join(`
`),_=[h,kL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ts?"#define TONE_MAPPING":"",n.toneMapping!==ts?kt.tonemapping_pars_fragment:"",n.toneMapping!==ts?hle("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",kt.colorspace_pars_fragment,dle("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(qd).join(`
`)),a=E2(a),a=NL(a,n),a=DL(a,n),s=E2(s),s=NL(s,n),s=DL(s,n),a=LL(a),s=LL(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,y=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===b2?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===b2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=b+y+a,E=b+_+s,M=OL(i,i.VERTEX_SHADER,w),T=OL(i,i.FRAGMENT_SHADER,E);i.attachShader(v,M),i.attachShader(v,T),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function O(D){if(t.debug.checkShaderErrors){const G=i.getProgramInfoLog(v).trim(),N=i.getShaderInfoLog(M).trim(),$=i.getShaderInfoLog(T).trim();let H=!0,K=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(H=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,M,T);else{const U=IL(i,M,"vertex"),F=IL(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+G+`
`+U+`
`+F)}else G!==""?console.warn("THREE.WebGLProgram: Program Info Log:",G):(N===""||$==="")&&(K=!1);K&&(D.diagnostics={runnable:H,programLog:G,vertexShader:{log:N,prefix:y},fragmentShader:{log:$,prefix:_}})}i.deleteShader(M),i.deleteShader(T),P=new P1(i,v),R=vle(i,v)}let P;this.getUniforms=function(){return P===void 0&&O(this),P};let R;this.getAttributes=function(){return R===void 0&&O(this),R};let k=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=i.getProgramParameter(v,lle)),k},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=cle++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=T,this}let Cle=0;class Rle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Ole(e),n.set(e,r)),r}}class Ole{constructor(e){this.id=Cle++,this.code=e,this.usedTimes=0}}function Ile(t,e,n,r,i,o,a){const s=new rf,l=new Rle,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return P===0?"uv":`uv${P}`}function v(P,R,k,D,G){const N=D.fog,$=G.geometry,H=P.isMeshStandardMaterial?D.environment:null,K=(P.isMeshStandardMaterial?n:e).get(P.envMap||H),U=K&&K.mapping===yp?K.image.height:null,F=g[P.type];P.precision!==null&&(h=i.getMaxPrecision(P.precision),h!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",h,"instead."));const j=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,z=j!==void 0?j.length:0;let X=0;$.morphAttributes.position!==void 0&&(X=1),$.morphAttributes.normal!==void 0&&(X=2),$.morphAttributes.color!==void 0&&(X=3);let q,Z,ne,se;if(F){const bt=ba[F];q=bt.vertexShader,Z=bt.fragmentShader}else q=P.vertexShader,Z=P.fragmentShader,l.update(P),ne=l.getVertexShaderID(P),se=l.getFragmentShaderID(P);const ae=t.getRenderTarget(),ge=G.isInstancedMesh===!0,ce=G.isBatchedMesh===!0,ve=!!P.map,he=!!P.matcap,V=!!K,ye=!!P.aoMap,le=!!P.lightMap,we=!!P.bumpMap,ue=!!P.normalMap,Fe=!!P.displacementMap,xe=!!P.emissiveMap,Y=!!P.metalnessMap,W=!!P.roughnessMap,ee=P.anisotropy>0,be=P.clearcoat>0,fe=P.iridescence>0,me=P.sheen>0,Ie=P.transmission>0,Be=ee&&!!P.anisotropyMap,Re=be&&!!P.clearcoatMap,Ve=be&&!!P.clearcoatNormalMap,qe=be&&!!P.clearcoatRoughnessMap,Ae=fe&&!!P.iridescenceMap,lt=fe&&!!P.iridescenceThicknessMap,rt=me&&!!P.sheenColorMap,Ye=me&&!!P.sheenRoughnessMap,He=!!P.specularMap,Ne=!!P.specularColorMap,ie=!!P.specularIntensityMap,Pe=Ie&&!!P.transmissionMap,Qe=Ie&&!!P.thicknessMap,$e=!!P.gradientMap,Ee=!!P.alphaMap,oe=P.alphaTest>0,Xe=!!P.alphaHash,je=!!P.extensions,Je=!!$.attributes.uv1,Le=!!$.attributes.uv2,Ze=!!$.attributes.uv3;let We=ts;return P.toneMapped&&(ae===null||ae.isXRRenderTarget===!0)&&(We=t.toneMapping),{isWebGL2:u,shaderID:F,shaderType:P.type,shaderName:P.name,vertexShader:q,fragmentShader:Z,defines:P.defines,customVertexShaderID:ne,customFragmentShaderID:se,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:h,batching:ce,instancing:ge,instancingColor:ge&&G.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:ae===null?t.outputColorSpace:ae.isXRRenderTarget===!0?ae.texture.colorSpace:ls,map:ve,matcap:he,envMap:V,envMapMode:V&&K.mapping,envMapCubeUVHeight:U,aoMap:ye,lightMap:le,bumpMap:we,normalMap:ue,displacementMap:d&&Fe,emissiveMap:xe,normalMapObjectSpace:ue&&P.normalMapType===pV,normalMapTangentSpace:ue&&P.normalMapType===Uc,metalnessMap:Y,roughnessMap:W,anisotropy:ee,anisotropyMap:Be,clearcoat:be,clearcoatMap:Re,clearcoatNormalMap:Ve,clearcoatRoughnessMap:qe,iridescence:fe,iridescenceMap:Ae,iridescenceThicknessMap:lt,sheen:me,sheenColorMap:rt,sheenRoughnessMap:Ye,specularMap:He,specularColorMap:Ne,specularIntensityMap:ie,transmission:Ie,transmissionMap:Pe,thicknessMap:Qe,gradientMap:$e,opaque:P.transparent===!1&&P.blending===tf,alphaMap:Ee,alphaTest:oe,alphaHash:Xe,combine:P.combine,mapUv:ve&&x(P.map.channel),aoMapUv:ye&&x(P.aoMap.channel),lightMapUv:le&&x(P.lightMap.channel),bumpMapUv:we&&x(P.bumpMap.channel),normalMapUv:ue&&x(P.normalMap.channel),displacementMapUv:Fe&&x(P.displacementMap.channel),emissiveMapUv:xe&&x(P.emissiveMap.channel),metalnessMapUv:Y&&x(P.metalnessMap.channel),roughnessMapUv:W&&x(P.roughnessMap.channel),anisotropyMapUv:Be&&x(P.anisotropyMap.channel),clearcoatMapUv:Re&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:qe&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ae&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:lt&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:rt&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:Ye&&x(P.sheenRoughnessMap.channel),specularMapUv:He&&x(P.specularMap.channel),specularColorMapUv:Ne&&x(P.specularColorMap.channel),specularIntensityMapUv:ie&&x(P.specularIntensityMap.channel),transmissionMapUv:Pe&&x(P.transmissionMap.channel),thicknessMapUv:Qe&&x(P.thicknessMap.channel),alphaMapUv:Ee&&x(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ue||ee),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:Le,vertexUv3s:Ze,pointsUvs:G.isPoints===!0&&!!$.attributes.uv&&(ve||Ee),fog:!!N,useFog:P.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:G.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:X,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:We,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ve&&P.map.isVideoTexture===!0&&ln.getTransfer(P.map.colorSpace)===wn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===wa,flipSided:P.side===Fi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:je&&P.extensions.derivatives===!0,extensionFragDepth:je&&P.extensions.fragDepth===!0,extensionDrawBuffers:je&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:je&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:je&&P.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()}}function y(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)R.push(k),R.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(_(R,P),b(R,P),R.push(t.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function _(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function b(P,R){s.disableAll(),R.isWebGL2&&s.enable(0),R.supportsVertexTextures&&s.enable(1),R.instancing&&s.enable(2),R.instancingColor&&s.enable(3),R.matcap&&s.enable(4),R.envMap&&s.enable(5),R.normalMapObjectSpace&&s.enable(6),R.normalMapTangentSpace&&s.enable(7),R.clearcoat&&s.enable(8),R.iridescence&&s.enable(9),R.alphaTest&&s.enable(10),R.vertexColors&&s.enable(11),R.vertexAlphas&&s.enable(12),R.vertexUv1s&&s.enable(13),R.vertexUv2s&&s.enable(14),R.vertexUv3s&&s.enable(15),R.vertexTangents&&s.enable(16),R.anisotropy&&s.enable(17),R.alphaHash&&s.enable(18),R.batching&&s.enable(19),P.push(s.mask),s.disableAll(),R.fog&&s.enable(0),R.useFog&&s.enable(1),R.flatShading&&s.enable(2),R.logarithmicDepthBuffer&&s.enable(3),R.skinning&&s.enable(4),R.morphTargets&&s.enable(5),R.morphNormals&&s.enable(6),R.morphColors&&s.enable(7),R.premultipliedAlpha&&s.enable(8),R.shadowMapEnabled&&s.enable(9),R.useLegacyLights&&s.enable(10),R.doubleSided&&s.enable(11),R.flipSided&&s.enable(12),R.useDepthPacking&&s.enable(13),R.dithering&&s.enable(14),R.transmission&&s.enable(15),R.sheen&&s.enable(16),R.opaque&&s.enable(17),R.pointsUvs&&s.enable(18),R.decodeVideoTexture&&s.enable(19),P.push(s.mask)}function w(P){const R=g[P.type];let k;if(R){const D=ba[R];k=KR.clone(D.uniforms)}else k=P.uniforms;return k}function E(P,R){let k;for(let D=0,G=c.length;D<G;D++){const N=c[D];if(N.cacheKey===R){k=N,++k.usedTimes;break}}return k===void 0&&(k=new Ple(t,R,P,o),c.push(k)),k}function M(P){if(--P.usedTimes===0){const R=c.indexOf(P);c[R]=c[c.length-1],c.pop(),P.destroy()}}function T(P){l.remove(P)}function O(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:E,releaseProgram:M,releaseShaderCache:T,programs:c,dispose:O}}function Nle(){let t=new WeakMap;function e(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function n(o){t.delete(o)}function r(o,a,s){t.get(o)[a]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Dle(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function UL(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function FL(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,h,g,x,v){let y=t[e];return y===void 0?(y={id:f.id,object:f,geometry:d,material:h,groupOrder:g,renderOrder:f.renderOrder,z:x,group:v},t[e]=y):(y.id=f.id,y.object=f,y.geometry=d,y.material=h,y.groupOrder=g,y.renderOrder=f.renderOrder,y.z=x,y.group=v),e++,y}function s(f,d,h,g,x,v){const y=a(f,d,h,g,x,v);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(f,d,h,g,x,v){const y=a(f,d,h,g,x,v);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(f,d){n.length>1&&n.sort(f||Dle),r.length>1&&r.sort(d||UL),i.length>1&&i.sort(d||UL)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function Lle(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new FL,t.set(r,[a])):i>=o.length?(a=new FL,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function kle(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new st};break;case"SpotLight":n={position:new te,direction:new te,color:new st,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new st,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new st,groundColor:new st};break;case"RectAreaLight":n={color:new st,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function Ule(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Fle=0;function Ble(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function zle(t,e){const n=new kle,r=Ule(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new te);const o=new te,a=new Ct,s=new Ct;function l(u,f){let d=0,h=0,g=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let x=0,v=0,y=0,_=0,b=0,w=0,E=0,M=0,T=0,O=0,P=0;u.sort(Ble);const R=f===!0?Math.PI:1;for(let D=0,G=u.length;D<G;D++){const N=u[D],$=N.color,H=N.intensity,K=N.distance,U=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)d+=$.r*H*R,h+=$.g*H*R,g+=$.b*H*R;else if(N.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(N.sh.coefficients[F],H);P++}else if(N.isDirectionalLight){const F=n.get(N);if(F.color.copy(N.color).multiplyScalar(N.intensity*R),N.castShadow){const j=N.shadow,z=r.get(N);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.directionalShadow[x]=z,i.directionalShadowMap[x]=U,i.directionalShadowMatrix[x]=N.shadow.matrix,w++}i.directional[x]=F,x++}else if(N.isSpotLight){const F=n.get(N);F.position.setFromMatrixPosition(N.matrixWorld),F.color.copy($).multiplyScalar(H*R),F.distance=K,F.coneCos=Math.cos(N.angle),F.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),F.decay=N.decay,i.spot[y]=F;const j=N.shadow;if(N.map&&(i.spotLightMap[T]=N.map,T++,j.updateMatrices(N),N.castShadow&&O++),i.spotLightMatrix[y]=j.matrix,N.castShadow){const z=r.get(N);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,i.spotShadow[y]=z,i.spotShadowMap[y]=U,M++}y++}else if(N.isRectAreaLight){const F=n.get(N);F.color.copy($).multiplyScalar(H),F.halfWidth.set(N.width*.5,0,0),F.halfHeight.set(0,N.height*.5,0),i.rectArea[_]=F,_++}else if(N.isPointLight){const F=n.get(N);if(F.color.copy(N.color).multiplyScalar(N.intensity*R),F.distance=N.distance,F.decay=N.decay,N.castShadow){const j=N.shadow,z=r.get(N);z.shadowBias=j.bias,z.shadowNormalBias=j.normalBias,z.shadowRadius=j.radius,z.shadowMapSize=j.mapSize,z.shadowCameraNear=j.camera.near,z.shadowCameraFar=j.camera.far,i.pointShadow[v]=z,i.pointShadowMap[v]=U,i.pointShadowMatrix[v]=N.shadow.matrix,E++}i.point[v]=F,v++}else if(N.isHemisphereLight){const F=n.get(N);F.skyColor.copy(N.color).multiplyScalar(H*R),F.groundColor.copy(N.groundColor).multiplyScalar(H*R),i.hemi[b]=F,b++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_FLOAT_1,i.rectAreaLTC2=nt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=nt.LTC_HALF_1,i.rectAreaLTC2=nt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=g;const k=i.hash;(k.directionalLength!==x||k.pointLength!==v||k.spotLength!==y||k.rectAreaLength!==_||k.hemiLength!==b||k.numDirectionalShadows!==w||k.numPointShadows!==E||k.numSpotShadows!==M||k.numSpotMaps!==T||k.numLightProbes!==P)&&(i.directional.length=x,i.spot.length=y,i.rectArea.length=_,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=M+T-O,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=P,k.directionalLength=x,k.pointLength=v,k.spotLength=y,k.rectAreaLength=_,k.hemiLength=b,k.numDirectionalShadows=w,k.numPointShadows=E,k.numSpotShadows=M,k.numSpotMaps=T,k.numLightProbes=P,i.version=Fle++)}function c(u,f){let d=0,h=0,g=0,x=0,v=0;const y=f.matrixWorldInverse;for(let _=0,b=u.length;_<b;_++){const w=u[_];if(w.isDirectionalLight){const E=i.directional[d];E.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(y),d++}else if(w.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(y),E.direction.setFromMatrixPosition(w.matrixWorld),o.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(o),E.direction.transformDirection(y),g++}else if(w.isRectAreaLight){const E=i.rectArea[x];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(y),s.identity(),a.copy(w.matrixWorld),a.premultiply(y),s.extractRotation(a),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(s),E.halfHeight.applyMatrix4(s),x++}else if(w.isPointLight){const E=i.point[h];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(y),h++}else if(w.isHemisphereLight){const E=i.hemi[v];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(y),v++}}}return{setup:l,setupView:c,state:i}}function BL(t,e){const n=new zle(t,e),r=[],i=[];function o(){r.length=0,i.length=0}function a(f){r.push(f)}function s(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function jle(t,e){let n=new WeakMap;function r(o,a=0){const s=n.get(o);let l;return s===void 0?(l=new BL(t,e),n.set(o,[l])):a>=s.length?(l=new BL(t,e),s.push(l)):l=s[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class dw extends yi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=hV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class hw extends yi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Hle=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Vle=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Gle(t,e,n){let r=new dy;const i=new Ue,o=new Ue,a=new nn,s=new dw({depthPacking:VR}),l=new hw,c={},u=n.maxTextureSize,f={[ul]:Fi,[Fi]:ul,[wa]:wa},d=new cs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ue},radius:{value:4}},vertexShader:Hle,fragmentShader:Vle}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const g=new Ht;g.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new er(g,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=ow;let y=this.type;this.render=function(M,T,O){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||M.length===0)return;const P=t.getRenderTarget(),R=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),D=t.state;D.setBlending(Qs),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const G=y!==ma&&this.type===ma,N=y===ma&&this.type!==ma;for(let $=0,H=M.length;$<H;$++){const K=M[$],U=K.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const F=U.getFrameExtents();if(i.multiply(F),o.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/F.x),i.x=o.x*F.x,U.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/F.y),i.y=o.y*F.y,U.mapSize.y=o.y)),U.map===null||G===!0||N===!0){const z=this.type!==ma?{minFilter:lr,magFilter:lr}:{};U.map!==null&&U.map.dispose(),U.map=new Ia(i.x,i.y,z),U.map.texture.name=K.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const j=U.getViewportCount();for(let z=0;z<j;z++){const X=U.getViewport(z);a.set(o.x*X.x,o.y*X.y,o.x*X.z,o.y*X.w),D.viewport(a),U.updateMatrices(K,z),r=U.getFrustum(),w(T,O,U.camera,K,this.type)}U.isPointLightShadow!==!0&&this.type===ma&&_(U,O),U.needsUpdate=!1}y=this.type,v.needsUpdate=!1,t.setRenderTarget(P,R,k)};function _(M,T){const O=e.update(x);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,h.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ia(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(T,null,O,d,x,null),h.uniforms.shadow_pass.value=M.mapPass.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(T,null,O,h,x,null)}function b(M,T,O,P){let R=null;const k=O.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(k!==void 0)R=k;else if(R=O.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=R.uuid,G=T.uuid;let N=c[D];N===void 0&&(N={},c[D]=N);let $=N[G];$===void 0&&($=R.clone(),N[G]=$,T.addEventListener("dispose",E)),R=$}if(R.visible=T.visible,R.wireframe=T.wireframe,P===ma?R.side=T.shadowSide!==null?T.shadowSide:T.side:R.side=T.shadowSide!==null?T.shadowSide:f[T.side],R.alphaMap=T.alphaMap,R.alphaTest=T.alphaTest,R.map=T.map,R.clipShadows=T.clipShadows,R.clippingPlanes=T.clippingPlanes,R.clipIntersection=T.clipIntersection,R.displacementMap=T.displacementMap,R.displacementScale=T.displacementScale,R.displacementBias=T.displacementBias,R.wireframeLinewidth=T.wireframeLinewidth,R.linewidth=T.linewidth,O.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const D=t.properties.get(R);D.light=O}return R}function w(M,T,O,P,R){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&R===ma)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,M.matrixWorld);const G=e.update(M),N=M.material;if(Array.isArray(N)){const $=G.groups;for(let H=0,K=$.length;H<K;H++){const U=$[H],F=N[U.materialIndex];if(F&&F.visible){const j=b(M,F,P,R);M.onBeforeShadow(t,M,T,O,G,j,U),t.renderBufferDirect(O,null,G,j,M,U),M.onAfterShadow(t,M,T,O,G,j,U)}}}else if(N.visible){const $=b(M,N,P,R);M.onBeforeShadow(t,M,T,O,G,$,null),t.renderBufferDirect(O,null,G,$,M,null),M.onAfterShadow(t,M,T,O,G,$,null)}}const D=M.children;for(let G=0,N=D.length;G<N;G++)w(D[G],T,O,P,R)}function E(M){M.target.removeEventListener("dispose",E);for(const O in c){const P=c[O],R=M.target.uuid;R in P&&(P[R].dispose(),delete P[R])}}}function $le(t,e,n){const r=n.isWebGL2;function i(){let oe=!1;const Xe=new nn;let je=null;const Je=new nn(0,0,0,0);return{setMask:function(Le){je!==Le&&!oe&&(t.colorMask(Le,Le,Le,Le),je=Le)},setLocked:function(Le){oe=Le},setClear:function(Le,Ze,We,ht,bt){bt===!0&&(Le*=ht,Ze*=ht,We*=ht),Xe.set(Le,Ze,We,ht),Je.equals(Xe)===!1&&(t.clearColor(Le,Ze,We,ht),Je.copy(Xe))},reset:function(){oe=!1,je=null,Je.set(-1,0,0,0)}}}function o(){let oe=!1,Xe=null,je=null,Je=null;return{setTest:function(Le){Le?ce(t.DEPTH_TEST):ve(t.DEPTH_TEST)},setMask:function(Le){Xe!==Le&&!oe&&(t.depthMask(Le),Xe=Le)},setFunc:function(Le){if(je!==Le){switch(Le){case jH:t.depthFunc(t.NEVER);break;case HH:t.depthFunc(t.ALWAYS);break;case VH:t.depthFunc(t.LESS);break;case Vg:t.depthFunc(t.LEQUAL);break;case GH:t.depthFunc(t.EQUAL);break;case $H:t.depthFunc(t.GEQUAL);break;case WH:t.depthFunc(t.GREATER);break;case XH:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}je=Le}},setLocked:function(Le){oe=Le},setClear:function(Le){Je!==Le&&(t.clearDepth(Le),Je=Le)},reset:function(){oe=!1,Xe=null,je=null,Je=null}}}function a(){let oe=!1,Xe=null,je=null,Je=null,Le=null,Ze=null,We=null,ht=null,bt=null;return{setTest:function(gt){oe||(gt?ce(t.STENCIL_TEST):ve(t.STENCIL_TEST))},setMask:function(gt){Xe!==gt&&!oe&&(t.stencilMask(gt),Xe=gt)},setFunc:function(gt,Ot,Xt){(je!==gt||Je!==Ot||Le!==Xt)&&(t.stencilFunc(gt,Ot,Xt),je=gt,Je=Ot,Le=Xt)},setOp:function(gt,Ot,Xt){(Ze!==gt||We!==Ot||ht!==Xt)&&(t.stencilOp(gt,Ot,Xt),Ze=gt,We=Ot,ht=Xt)},setLocked:function(gt){oe=gt},setClear:function(gt){bt!==gt&&(t.clearStencil(gt),bt=gt)},reset:function(){oe=!1,Xe=null,je=null,Je=null,Le=null,Ze=null,We=null,ht=null,bt=null}}}const s=new i,l=new o,c=new a,u=new WeakMap,f=new WeakMap;let d={},h={},g=new WeakMap,x=[],v=null,y=!1,_=null,b=null,w=null,E=null,M=null,T=null,O=null,P=new st(0,0,0),R=0,k=!1,D=null,G=null,N=null,$=null,H=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,F=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(j)[1]),U=F>=1):j.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),U=F>=2);let z=null,X={};const q=t.getParameter(t.SCISSOR_BOX),Z=t.getParameter(t.VIEWPORT),ne=new nn().fromArray(q),se=new nn().fromArray(Z);function ae(oe,Xe,je,Je){const Le=new Uint8Array(4),Ze=t.createTexture();t.bindTexture(oe,Ze),t.texParameteri(oe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(oe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let We=0;We<je;We++)r&&(oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY)?t.texImage3D(Xe,0,t.RGBA,1,1,Je,0,t.RGBA,t.UNSIGNED_BYTE,Le):t.texImage2D(Xe+We,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Le);return Ze}const ge={};ge[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),ge[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ge[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ge[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ce(t.DEPTH_TEST),l.setFunc(Vg),xe(!1),Y(HA),ce(t.CULL_FACE),ue(Qs);function ce(oe){d[oe]!==!0&&(t.enable(oe),d[oe]=!0)}function ve(oe){d[oe]!==!1&&(t.disable(oe),d[oe]=!1)}function he(oe,Xe){return h[oe]!==Xe?(t.bindFramebuffer(oe,Xe),h[oe]=Xe,r&&(oe===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Xe),oe===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Xe)),!0):!1}function V(oe,Xe){let je=x,Je=!1;if(oe)if(je=g.get(Xe),je===void 0&&(je=[],g.set(Xe,je)),oe.isWebGLMultipleRenderTargets){const Le=oe.texture;if(je.length!==Le.length||je[0]!==t.COLOR_ATTACHMENT0){for(let Ze=0,We=Le.length;Ze<We;Ze++)je[Ze]=t.COLOR_ATTACHMENT0+Ze;je.length=Le.length,Je=!0}}else je[0]!==t.COLOR_ATTACHMENT0&&(je[0]=t.COLOR_ATTACHMENT0,Je=!0);else je[0]!==t.BACK&&(je[0]=t.BACK,Je=!0);Je&&(n.isWebGL2?t.drawBuffers(je):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(je))}function ye(oe){return v!==oe?(t.useProgram(oe),v=oe,!0):!1}const le={[Ql]:t.FUNC_ADD,[TH]:t.FUNC_SUBTRACT,[AH]:t.FUNC_REVERSE_SUBTRACT};if(r)le[WA]=t.MIN,le[XA]=t.MAX;else{const oe=e.get("EXT_blend_minmax");oe!==null&&(le[WA]=oe.MIN_EXT,le[XA]=oe.MAX_EXT)}const we={[PH]:t.ZERO,[CH]:t.ONE,[RH]:t.SRC_COLOR,[d_]:t.SRC_ALPHA,[kH]:t.SRC_ALPHA_SATURATE,[DH]:t.DST_COLOR,[IH]:t.DST_ALPHA,[OH]:t.ONE_MINUS_SRC_COLOR,[h_]:t.ONE_MINUS_SRC_ALPHA,[LH]:t.ONE_MINUS_DST_COLOR,[NH]:t.ONE_MINUS_DST_ALPHA,[UH]:t.CONSTANT_COLOR,[FH]:t.ONE_MINUS_CONSTANT_COLOR,[BH]:t.CONSTANT_ALPHA,[zH]:t.ONE_MINUS_CONSTANT_ALPHA};function ue(oe,Xe,je,Je,Le,Ze,We,ht,bt,gt){if(oe===Qs){y===!0&&(ve(t.BLEND),y=!1);return}if(y===!1&&(ce(t.BLEND),y=!0),oe!==MH){if(oe!==_||gt!==k){if((b!==Ql||M!==Ql)&&(t.blendEquation(t.FUNC_ADD),b=Ql,M=Ql),gt)switch(oe){case tf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case VA:t.blendFunc(t.ONE,t.ONE);break;case GA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $A:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case tf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case VA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case GA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $A:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}w=null,E=null,T=null,O=null,P.set(0,0,0),R=0,_=oe,k=gt}return}Le=Le||Xe,Ze=Ze||je,We=We||Je,(Xe!==b||Le!==M)&&(t.blendEquationSeparate(le[Xe],le[Le]),b=Xe,M=Le),(je!==w||Je!==E||Ze!==T||We!==O)&&(t.blendFuncSeparate(we[je],we[Je],we[Ze],we[We]),w=je,E=Je,T=Ze,O=We),(ht.equals(P)===!1||bt!==R)&&(t.blendColor(ht.r,ht.g,ht.b,bt),P.copy(ht),R=bt),_=oe,k=!1}function Fe(oe,Xe){oe.side===wa?ve(t.CULL_FACE):ce(t.CULL_FACE);let je=oe.side===Fi;Xe&&(je=!je),xe(je),oe.blending===tf&&oe.transparent===!1?ue(Qs):ue(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.blendColor,oe.blendAlpha,oe.premultipliedAlpha),l.setFunc(oe.depthFunc),l.setTest(oe.depthTest),l.setMask(oe.depthWrite),s.setMask(oe.colorWrite);const Je=oe.stencilWrite;c.setTest(Je),Je&&(c.setMask(oe.stencilWriteMask),c.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),c.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),ee(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(oe){D!==oe&&(oe?t.frontFace(t.CW):t.frontFace(t.CCW),D=oe)}function Y(oe){oe!==wH?(ce(t.CULL_FACE),oe!==G&&(oe===HA?t.cullFace(t.BACK):oe===SH?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ve(t.CULL_FACE),G=oe}function W(oe){oe!==N&&(U&&t.lineWidth(oe),N=oe)}function ee(oe,Xe,je){oe?(ce(t.POLYGON_OFFSET_FILL),($!==Xe||H!==je)&&(t.polygonOffset(Xe,je),$=Xe,H=je)):ve(t.POLYGON_OFFSET_FILL)}function be(oe){oe?ce(t.SCISSOR_TEST):ve(t.SCISSOR_TEST)}function fe(oe){oe===void 0&&(oe=t.TEXTURE0+K-1),z!==oe&&(t.activeTexture(oe),z=oe)}function me(oe,Xe,je){je===void 0&&(z===null?je=t.TEXTURE0+K-1:je=z);let Je=X[je];Je===void 0&&(Je={type:void 0,texture:void 0},X[je]=Je),(Je.type!==oe||Je.texture!==Xe)&&(z!==je&&(t.activeTexture(je),z=je),t.bindTexture(oe,Xe||ge[oe]),Je.type=oe,Je.texture=Xe)}function Ie(){const oe=X[z];oe!==void 0&&oe.type!==void 0&&(t.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function Be(){try{t.compressedTexImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Re(){try{t.compressedTexImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ve(){try{t.texSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function qe(){try{t.texSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ae(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function lt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function rt(){try{t.texStorage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ye(){try{t.texStorage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function He(){try{t.texImage2D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ne(){try{t.texImage3D.apply(t,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ie(oe){ne.equals(oe)===!1&&(t.scissor(oe.x,oe.y,oe.z,oe.w),ne.copy(oe))}function Pe(oe){se.equals(oe)===!1&&(t.viewport(oe.x,oe.y,oe.z,oe.w),se.copy(oe))}function Qe(oe,Xe){let je=f.get(Xe);je===void 0&&(je=new WeakMap,f.set(Xe,je));let Je=je.get(oe);Je===void 0&&(Je=t.getUniformBlockIndex(Xe,oe.name),je.set(oe,Je))}function $e(oe,Xe){const Je=f.get(Xe).get(oe);u.get(Xe)!==Je&&(t.uniformBlockBinding(Xe,Je,oe.__bindingPointIndex),u.set(Xe,Je))}function Ee(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},z=null,X={},h={},g=new WeakMap,x=[],v=null,y=!1,_=null,b=null,w=null,E=null,M=null,T=null,O=null,P=new st(0,0,0),R=0,k=!1,D=null,G=null,N=null,$=null,H=null,ne.set(0,0,t.canvas.width,t.canvas.height),se.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ce,disable:ve,bindFramebuffer:he,drawBuffers:V,useProgram:ye,setBlending:ue,setMaterial:Fe,setFlipSided:xe,setCullFace:Y,setLineWidth:W,setPolygonOffset:ee,setScissorTest:be,activeTexture:fe,bindTexture:me,unbindTexture:Ie,compressedTexImage2D:Be,compressedTexImage3D:Re,texImage2D:He,texImage3D:Ne,updateUBOMapping:Qe,uniformBlockBinding:$e,texStorage2D:rt,texStorage3D:Ye,texSubImage2D:Ve,texSubImage3D:qe,compressedTexSubImage2D:Ae,compressedTexSubImage3D:lt,scissor:ie,viewport:Pe,reset:Ee}}function Wle(t,e,n,r,i,o,a){const s=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const d=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(Y,W){return h?new OffscreenCanvas(Y,W):tv("canvas")}function x(Y,W,ee,be){let fe=1;if((Y.width>be||Y.height>be)&&(fe=be/Math.max(Y.width,Y.height)),fe<1||W===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const me=W?g_:Math.floor,Ie=me(fe*Y.width),Be=me(fe*Y.height);f===void 0&&(f=g(Ie,Be));const Re=ee?g(Ie,Be):f;return Re.width=Ie,Re.height=Be,Re.getContext("2d").drawImage(Y,0,0,Ie,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+Ie+"x"+Be+")."),Re}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function v(Y){return w2(Y.width)&&w2(Y.height)}function y(Y){return s?!1:Y.wrapS!==pi||Y.wrapT!==pi||Y.minFilter!==lr&&Y.minFilter!==Vn}function _(Y,W){return Y.generateMipmaps&&W&&Y.minFilter!==lr&&Y.minFilter!==Vn}function b(Y){t.generateMipmap(Y)}function w(Y,W,ee,be,fe=!1){if(s===!1)return W;if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let me=W;if(W===t.RED&&(ee===t.FLOAT&&(me=t.R32F),ee===t.HALF_FLOAT&&(me=t.R16F),ee===t.UNSIGNED_BYTE&&(me=t.R8)),W===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(me=t.R8UI),ee===t.UNSIGNED_SHORT&&(me=t.R16UI),ee===t.UNSIGNED_INT&&(me=t.R32UI),ee===t.BYTE&&(me=t.R8I),ee===t.SHORT&&(me=t.R16I),ee===t.INT&&(me=t.R32I)),W===t.RG&&(ee===t.FLOAT&&(me=t.RG32F),ee===t.HALF_FLOAT&&(me=t.RG16F),ee===t.UNSIGNED_BYTE&&(me=t.RG8)),W===t.RGBA){const Ie=fe?Zg:ln.getTransfer(be);ee===t.FLOAT&&(me=t.RGBA32F),ee===t.HALF_FLOAT&&(me=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(me=Ie===wn?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(me=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(me=t.RGB5_A1)}return(me===t.R16F||me===t.R32F||me===t.RG16F||me===t.RG32F||me===t.RGBA16F||me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),me}function E(Y,W,ee){return _(Y,ee)===!0||Y.isFramebufferTexture&&Y.minFilter!==lr&&Y.minFilter!==Vn?Math.log2(Math.max(W.width,W.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?W.mipmaps.length:1}function M(Y){return Y===lr||Y===p_||Y===rg?t.NEAREST:t.LINEAR}function T(Y){const W=Y.target;W.removeEventListener("dispose",T),P(W),W.isVideoTexture&&u.delete(W)}function O(Y){const W=Y.target;W.removeEventListener("dispose",O),k(W)}function P(Y){const W=r.get(Y);if(W.__webglInit===void 0)return;const ee=Y.source,be=d.get(ee);if(be){const fe=be[W.__cacheKey];fe.usedTimes--,fe.usedTimes===0&&R(Y),Object.keys(be).length===0&&d.delete(ee)}r.remove(Y)}function R(Y){const W=r.get(Y);t.deleteTexture(W.__webglTexture);const ee=Y.source,be=d.get(ee);delete be[W.__cacheKey],a.memory.textures--}function k(Y){const W=Y.texture,ee=r.get(Y),be=r.get(W);if(be.__webglTexture!==void 0&&(t.deleteTexture(be.__webglTexture),a.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(ee.__webglFramebuffer[fe]))for(let me=0;me<ee.__webglFramebuffer[fe].length;me++)t.deleteFramebuffer(ee.__webglFramebuffer[fe][me]);else t.deleteFramebuffer(ee.__webglFramebuffer[fe]);ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[fe])}else{if(Array.isArray(ee.__webglFramebuffer))for(let fe=0;fe<ee.__webglFramebuffer.length;fe++)t.deleteFramebuffer(ee.__webglFramebuffer[fe]);else t.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let fe=0;fe<ee.__webglColorRenderbuffer.length;fe++)ee.__webglColorRenderbuffer[fe]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[fe]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let fe=0,me=W.length;fe<me;fe++){const Ie=r.get(W[fe]);Ie.__webglTexture&&(t.deleteTexture(Ie.__webglTexture),a.memory.textures--),r.remove(W[fe])}r.remove(W),r.remove(Y)}let D=0;function G(){D=0}function N(){const Y=D;return Y>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+i.maxTextures),D+=1,Y}function $(Y){const W=[];return W.push(Y.wrapS),W.push(Y.wrapT),W.push(Y.wrapR||0),W.push(Y.magFilter),W.push(Y.minFilter),W.push(Y.anisotropy),W.push(Y.internalFormat),W.push(Y.format),W.push(Y.type),W.push(Y.generateMipmaps),W.push(Y.premultiplyAlpha),W.push(Y.flipY),W.push(Y.unpackAlignment),W.push(Y.colorSpace),W.join()}function H(Y,W){const ee=r.get(Y);if(Y.isVideoTexture&&Fe(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&ee.__version!==Y.version){const be=Y.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ne(ee,Y,W);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+W)}function K(Y,W){const ee=r.get(Y);if(Y.version>0&&ee.__version!==Y.version){ne(ee,Y,W);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+W)}function U(Y,W){const ee=r.get(Y);if(Y.version>0&&ee.__version!==Y.version){ne(ee,Y,W);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+W)}function F(Y,W){const ee=r.get(Y);if(Y.version>0&&ee.__version!==Y.version){se(ee,Y,W);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+W)}const j={[Wg]:t.REPEAT,[pi]:t.CLAMP_TO_EDGE,[Xg]:t.MIRRORED_REPEAT},z={[lr]:t.NEAREST,[p_]:t.NEAREST_MIPMAP_NEAREST,[rg]:t.NEAREST_MIPMAP_LINEAR,[Vn]:t.LINEAR,[NR]:t.LINEAR_MIPMAP_NEAREST,[Oc]:t.LINEAR_MIPMAP_LINEAR},X={[mV]:t.NEVER,[bV]:t.ALWAYS,[gV]:t.LESS,[GR]:t.LEQUAL,[vV]:t.EQUAL,[_V]:t.GEQUAL,[yV]:t.GREATER,[xV]:t.NOTEQUAL};function q(Y,W,ee){if(ee?(t.texParameteri(Y,t.TEXTURE_WRAP_S,j[W.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,j[W.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,j[W.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,z[W.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,z[W.minFilter])):(t.texParameteri(Y,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Y,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(W.wrapS!==pi||W.wrapT!==pi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,M(W.magFilter)),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,M(W.minFilter)),W.minFilter!==lr&&W.minFilter!==Vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),W.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,X[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const be=e.get("EXT_texture_filter_anisotropic");if(W.magFilter===lr||W.minFilter!==rg&&W.minFilter!==Oc||W.type===Ea&&e.has("OES_texture_float_linear")===!1||s===!1&&W.type===Dh&&e.has("OES_texture_half_float_linear")===!1)return;(W.anisotropy>1||r.get(W).__currentAnisotropy)&&(t.texParameterf(Y,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy)}}function Z(Y,W){let ee=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,W.addEventListener("dispose",T));const be=W.source;let fe=d.get(be);fe===void 0&&(fe={},d.set(be,fe));const me=$(W);if(me!==Y.__cacheKey){fe[me]===void 0&&(fe[me]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),fe[me].usedTimes++;const Ie=fe[Y.__cacheKey];Ie!==void 0&&(fe[Y.__cacheKey].usedTimes--,Ie.usedTimes===0&&R(W)),Y.__cacheKey=me,Y.__webglTexture=fe[me].texture}return ee}function ne(Y,W,ee){let be=t.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(be=t.TEXTURE_2D_ARRAY),W.isData3DTexture&&(be=t.TEXTURE_3D);const fe=Z(Y,W),me=W.source;n.bindTexture(be,Y.__webglTexture,t.TEXTURE0+ee);const Ie=r.get(me);if(me.version!==Ie.__version||fe===!0){n.activeTexture(t.TEXTURE0+ee);const Be=ln.getPrimaries(ln.workingColorSpace),Re=W.colorSpace===wo?null:ln.getPrimaries(W.colorSpace),Ve=W.colorSpace===wo||Be===Re?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ve);const qe=y(W)&&v(W.image)===!1;let Ae=x(W.image,qe,!1,i.maxTextureSize);Ae=xe(W,Ae);const lt=v(Ae)||s,rt=o.convert(W.format,W.colorSpace);let Ye=o.convert(W.type),He=w(W.internalFormat,rt,Ye,W.colorSpace,W.isVideoTexture);q(be,W,lt);let Ne;const ie=W.mipmaps,Pe=s&&W.isVideoTexture!==!0&&He!==zR,Qe=Ie.__version===void 0||fe===!0,$e=E(W,Ae,lt);if(W.isDepthTexture)He=t.DEPTH_COMPONENT,s?W.type===Ea?He=t.DEPTH_COMPONENT32F:W.type===Xs?He=t.DEPTH_COMPONENT24:W.type===xc?He=t.DEPTH24_STENCIL8:He=t.DEPTH_COMPONENT16:W.type===Ea&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===_c&&He===t.DEPTH_COMPONENT&&W.type!==sw&&W.type!==Xs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=Xs,Ye=o.convert(W.type)),W.format===gf&&He===t.DEPTH_COMPONENT&&(He=t.DEPTH_STENCIL,W.type!==xc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=xc,Ye=o.convert(W.type))),Qe&&(Pe?n.texStorage2D(t.TEXTURE_2D,1,He,Ae.width,Ae.height):n.texImage2D(t.TEXTURE_2D,0,He,Ae.width,Ae.height,0,rt,Ye,null));else if(W.isDataTexture)if(ie.length>0&&lt){Pe&&Qe&&n.texStorage2D(t.TEXTURE_2D,$e,He,ie[0].width,ie[0].height);for(let Ee=0,oe=ie.length;Ee<oe;Ee++)Ne=ie[Ee],Pe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,Ne.width,Ne.height,rt,Ye,Ne.data):n.texImage2D(t.TEXTURE_2D,Ee,He,Ne.width,Ne.height,0,rt,Ye,Ne.data);W.generateMipmaps=!1}else Pe?(Qe&&n.texStorage2D(t.TEXTURE_2D,$e,He,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ae.width,Ae.height,rt,Ye,Ae.data)):n.texImage2D(t.TEXTURE_2D,0,He,Ae.width,Ae.height,0,rt,Ye,Ae.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){Pe&&Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,He,ie[0].width,ie[0].height,Ae.depth);for(let Ee=0,oe=ie.length;Ee<oe;Ee++)Ne=ie[Ee],W.format!==Ni?rt!==null?Pe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,Ne.width,Ne.height,Ae.depth,rt,Ne.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,He,Ne.width,Ne.height,Ae.depth,0,Ne.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,Ne.width,Ne.height,Ae.depth,rt,Ye,Ne.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,He,Ne.width,Ne.height,Ae.depth,0,rt,Ye,Ne.data)}else{Pe&&Qe&&n.texStorage2D(t.TEXTURE_2D,$e,He,ie[0].width,ie[0].height);for(let Ee=0,oe=ie.length;Ee<oe;Ee++)Ne=ie[Ee],W.format!==Ni?rt!==null?Pe?n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,Ne.width,Ne.height,rt,Ne.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,He,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,Ne.width,Ne.height,rt,Ye,Ne.data):n.texImage2D(t.TEXTURE_2D,Ee,He,Ne.width,Ne.height,0,rt,Ye,Ne.data)}else if(W.isDataArrayTexture)Pe?(Qe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,$e,He,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,rt,Ye,Ae.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,He,Ae.width,Ae.height,Ae.depth,0,rt,Ye,Ae.data);else if(W.isData3DTexture)Pe?(Qe&&n.texStorage3D(t.TEXTURE_3D,$e,He,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,rt,Ye,Ae.data)):n.texImage3D(t.TEXTURE_3D,0,He,Ae.width,Ae.height,Ae.depth,0,rt,Ye,Ae.data);else if(W.isFramebufferTexture){if(Qe)if(Pe)n.texStorage2D(t.TEXTURE_2D,$e,He,Ae.width,Ae.height);else{let Ee=Ae.width,oe=Ae.height;for(let Xe=0;Xe<$e;Xe++)n.texImage2D(t.TEXTURE_2D,Xe,He,Ee,oe,0,rt,Ye,null),Ee>>=1,oe>>=1}}else if(ie.length>0&&lt){Pe&&Qe&&n.texStorage2D(t.TEXTURE_2D,$e,He,ie[0].width,ie[0].height);for(let Ee=0,oe=ie.length;Ee<oe;Ee++)Ne=ie[Ee],Pe?n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,rt,Ye,Ne):n.texImage2D(t.TEXTURE_2D,Ee,He,rt,Ye,Ne);W.generateMipmaps=!1}else Pe?(Qe&&n.texStorage2D(t.TEXTURE_2D,$e,He,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,rt,Ye,Ae)):n.texImage2D(t.TEXTURE_2D,0,He,rt,Ye,Ae);_(W,lt)&&b(be),Ie.__version=me.version,W.onUpdate&&W.onUpdate(W)}Y.__version=W.version}function se(Y,W,ee){if(W.image.length!==6)return;const be=Z(Y,W),fe=W.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+ee);const me=r.get(fe);if(fe.version!==me.__version||be===!0){n.activeTexture(t.TEXTURE0+ee);const Ie=ln.getPrimaries(ln.workingColorSpace),Be=W.colorSpace===wo?null:ln.getPrimaries(W.colorSpace),Re=W.colorSpace===wo||Ie===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,W.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,W.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Re);const Ve=W.isCompressedTexture||W.image[0].isCompressedTexture,qe=W.image[0]&&W.image[0].isDataTexture,Ae=[];for(let Ee=0;Ee<6;Ee++)!Ve&&!qe?Ae[Ee]=x(W.image[Ee],!1,!0,i.maxCubemapSize):Ae[Ee]=qe?W.image[Ee].image:W.image[Ee],Ae[Ee]=xe(W,Ae[Ee]);const lt=Ae[0],rt=v(lt)||s,Ye=o.convert(W.format,W.colorSpace),He=o.convert(W.type),Ne=w(W.internalFormat,Ye,He,W.colorSpace),ie=s&&W.isVideoTexture!==!0,Pe=me.__version===void 0||be===!0;let Qe=E(W,lt,rt);q(t.TEXTURE_CUBE_MAP,W,rt);let $e;if(Ve){ie&&Pe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,Ne,lt.width,lt.height);for(let Ee=0;Ee<6;Ee++){$e=Ae[Ee].mipmaps;for(let oe=0;oe<$e.length;oe++){const Xe=$e[oe];W.format!==Ni?Ye!==null?ie?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe,0,0,Xe.width,Xe.height,Ye,Xe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe,Ne,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe,0,0,Xe.width,Xe.height,Ye,He,Xe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe,Ne,Xe.width,Xe.height,0,Ye,He,Xe.data)}}}else{$e=W.mipmaps,ie&&Pe&&($e.length>0&&Qe++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Qe,Ne,Ae[0].width,Ae[0].height));for(let Ee=0;Ee<6;Ee++)if(qe){ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Ae[Ee].width,Ae[Ee].height,Ye,He,Ae[Ee].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,Ne,Ae[Ee].width,Ae[Ee].height,0,Ye,He,Ae[Ee].data);for(let oe=0;oe<$e.length;oe++){const je=$e[oe].image[Ee].image;ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe+1,0,0,je.width,je.height,Ye,He,je.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe+1,Ne,je.width,je.height,0,Ye,He,je.data)}}else{ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,0,0,Ye,He,Ae[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,0,Ne,Ye,He,Ae[Ee]);for(let oe=0;oe<$e.length;oe++){const Xe=$e[oe];ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe+1,0,0,Ye,He,Xe.image[Ee]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,oe+1,Ne,Ye,He,Xe.image[Ee])}}}_(W,rt)&&b(t.TEXTURE_CUBE_MAP),me.__version=fe.version,W.onUpdate&&W.onUpdate(W)}Y.__version=W.version}function ae(Y,W,ee,be,fe,me){const Ie=o.convert(ee.format,ee.colorSpace),Be=o.convert(ee.type),Re=w(ee.internalFormat,Ie,Be,ee.colorSpace);if(!r.get(W).__hasExternalTextures){const qe=Math.max(1,W.width>>me),Ae=Math.max(1,W.height>>me);fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?n.texImage3D(fe,me,Re,qe,Ae,W.depth,0,Ie,Be,null):n.texImage2D(fe,me,Re,qe,Ae,0,Ie,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,Y),ue(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,be,fe,r.get(ee).__webglTexture,0,we(W)):(fe===t.TEXTURE_2D||fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,be,fe,r.get(ee).__webglTexture,me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(Y,W,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),W.depthBuffer&&!W.stencilBuffer){let be=s===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ee||ue(W)){const fe=W.depthTexture;fe&&fe.isDepthTexture&&(fe.type===Ea?be=t.DEPTH_COMPONENT32F:fe.type===Xs&&(be=t.DEPTH_COMPONENT24));const me=we(W);ue(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,me,be,W.width,W.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,me,be,W.width,W.height)}else t.renderbufferStorage(t.RENDERBUFFER,be,W.width,W.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Y)}else if(W.depthBuffer&&W.stencilBuffer){const be=we(W);ee&&ue(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,W.width,W.height):ue(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Y)}else{const be=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let fe=0;fe<be.length;fe++){const me=be[fe],Ie=o.convert(me.format,me.colorSpace),Be=o.convert(me.type),Re=w(me.internalFormat,Ie,Be,me.colorSpace),Ve=we(W);ee&&ue(W)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,Re,W.width,W.height):ue(W)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ve,Re,W.width,W.height):t.renderbufferStorage(t.RENDERBUFFER,Re,W.width,W.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ce(Y,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),H(W.depthTexture,0);const be=r.get(W.depthTexture).__webglTexture,fe=we(W);if(W.depthTexture.format===_c)ue(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0);else if(W.depthTexture.format===gf)ue(W)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function ve(Y){const W=r.get(Y),ee=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!W.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ce(W.__webglFramebuffer,Y)}else if(ee){W.__webglDepthbuffer=[];for(let be=0;be<6;be++)n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer[be]),W.__webglDepthbuffer[be]=t.createRenderbuffer(),ge(W.__webglDepthbuffer[be],Y,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer=t.createRenderbuffer(),ge(W.__webglDepthbuffer,Y,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(Y,W,ee){const be=r.get(Y);W!==void 0&&ae(be.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&ve(Y)}function V(Y){const W=Y.texture,ee=r.get(Y),be=r.get(W);Y.addEventListener("dispose",O),Y.isWebGLMultipleRenderTargets!==!0&&(be.__webglTexture===void 0&&(be.__webglTexture=t.createTexture()),be.__version=W.version,a.memory.textures++);const fe=Y.isWebGLCubeRenderTarget===!0,me=Y.isWebGLMultipleRenderTargets===!0,Ie=v(Y)||s;if(fe){ee.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(s&&W.mipmaps&&W.mipmaps.length>0){ee.__webglFramebuffer[Be]=[];for(let Re=0;Re<W.mipmaps.length;Re++)ee.__webglFramebuffer[Be][Re]=t.createFramebuffer()}else ee.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(s&&W.mipmaps&&W.mipmaps.length>0){ee.__webglFramebuffer=[];for(let Be=0;Be<W.mipmaps.length;Be++)ee.__webglFramebuffer[Be]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(me)if(i.drawBuffers){const Be=Y.texture;for(let Re=0,Ve=Be.length;Re<Ve;Re++){const qe=r.get(Be[Re]);qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&Y.samples>0&&ue(Y)===!1){const Be=me?W:[W];ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let Re=0;Re<Be.length;Re++){const Ve=Be[Re];ee.__webglColorRenderbuffer[Re]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[Re]);const qe=o.convert(Ve.format,Ve.colorSpace),Ae=o.convert(Ve.type),lt=w(Ve.internalFormat,qe,Ae,Ve.colorSpace,Y.isXRRenderTarget===!0),rt=we(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,rt,lt,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Re,t.RENDERBUFFER,ee.__webglColorRenderbuffer[Re])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),ge(ee.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(fe){n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture),q(t.TEXTURE_CUBE_MAP,W,Ie);for(let Be=0;Be<6;Be++)if(s&&W.mipmaps&&W.mipmaps.length>0)for(let Re=0;Re<W.mipmaps.length;Re++)ae(ee.__webglFramebuffer[Be][Re],Y,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Re);else ae(ee.__webglFramebuffer[Be],Y,W,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);_(W,Ie)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(me){const Be=Y.texture;for(let Re=0,Ve=Be.length;Re<Ve;Re++){const qe=Be[Re],Ae=r.get(qe);n.bindTexture(t.TEXTURE_2D,Ae.__webglTexture),q(t.TEXTURE_2D,qe,Ie),ae(ee.__webglFramebuffer,Y,qe,t.COLOR_ATTACHMENT0+Re,t.TEXTURE_2D,0),_(qe,Ie)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(s?Be=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Be,be.__webglTexture),q(Be,W,Ie),s&&W.mipmaps&&W.mipmaps.length>0)for(let Re=0;Re<W.mipmaps.length;Re++)ae(ee.__webglFramebuffer[Re],Y,W,t.COLOR_ATTACHMENT0,Be,Re);else ae(ee.__webglFramebuffer,Y,W,t.COLOR_ATTACHMENT0,Be,0);_(W,Ie)&&b(Be),n.unbindTexture()}Y.depthBuffer&&ve(Y)}function ye(Y){const W=v(Y)||s,ee=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let be=0,fe=ee.length;be<fe;be++){const me=ee[be];if(_(me,W)){const Ie=Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Be=r.get(me).__webglTexture;n.bindTexture(Ie,Be),b(Ie),n.unbindTexture()}}}function le(Y){if(s&&Y.samples>0&&ue(Y)===!1){const W=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],ee=Y.width,be=Y.height;let fe=t.COLOR_BUFFER_BIT;const me=[],Ie=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=r.get(Y),Re=Y.isWebGLMultipleRenderTargets===!0;if(Re)for(let Ve=0;Ve<W.length;Ve++)n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Be.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglFramebuffer);for(let Ve=0;Ve<W.length;Ve++){me.push(t.COLOR_ATTACHMENT0+Ve),Y.depthBuffer&&me.push(Ie);const qe=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if(qe===!1&&(Y.depthBuffer&&(fe|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(fe|=t.STENCIL_BUFFER_BIT)),Re&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Be.__webglColorRenderbuffer[Ve]),qe===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ie]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ie])),Re){const Ae=r.get(W[Ve]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ae,0)}t.blitFramebuffer(0,0,ee,be,0,0,ee,be,fe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,me)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Re)for(let Ve=0;Ve<W.length;Ve++){n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.RENDERBUFFER,Be.__webglColorRenderbuffer[Ve]);const qe=r.get(W[Ve]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.TEXTURE_2D,qe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Be.__webglMultisampledFramebuffer)}}function we(Y){return Math.min(i.maxSamples,Y.samples)}function ue(Y){const W=r.get(Y);return s&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function Fe(Y){const W=a.render.frame;u.get(Y)!==W&&(u.set(Y,W),Y.update())}function xe(Y,W){const ee=Y.colorSpace,be=Y.format,fe=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||Y.format===m_||ee!==ls&&ee!==wo&&(ln.getTransfer(ee)===wn?s===!1?e.has("EXT_sRGB")===!0&&be===Ni?(Y.format=m_,Y.minFilter=Vn,Y.generateMipmaps=!1):W=WR.sRGBToLinear(W):(be!==Ni||fe!==ns)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),W}this.allocateTextureUnit=N,this.resetTextureUnits=G,this.setTexture2D=H,this.setTexture2DArray=K,this.setTexture3D=U,this.setTextureCube=F,this.rebindTextures=he,this.setupRenderTarget=V,this.updateRenderTargetMipmap=ye,this.updateMultisampleRenderTarget=le,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=ae,this.useMultisampledRTT=ue}function LV(t,e,n){const r=n.isWebGL2;function i(o,a=wo){let s;const l=ln.getTransfer(a);if(o===ns)return t.UNSIGNED_BYTE;if(o===LR)return t.UNSIGNED_SHORT_4_4_4_4;if(o===kR)return t.UNSIGNED_SHORT_5_5_5_1;if(o===nV)return t.BYTE;if(o===rV)return t.SHORT;if(o===sw)return t.UNSIGNED_SHORT;if(o===DR)return t.INT;if(o===Xs)return t.UNSIGNED_INT;if(o===Ea)return t.FLOAT;if(o===Dh)return r?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===iV)return t.ALPHA;if(o===Ni)return t.RGBA;if(o===oV)return t.LUMINANCE;if(o===aV)return t.LUMINANCE_ALPHA;if(o===_c)return t.DEPTH_COMPONENT;if(o===gf)return t.DEPTH_STENCIL;if(o===m_)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(o===sV)return t.RED;if(o===UR)return t.RED_INTEGER;if(o===lV)return t.RG;if(o===FR)return t.RG_INTEGER;if(o===BR)return t.RGBA_INTEGER;if(o===w1||o===S1||o===E1||o===M1)if(l===wn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(o===w1)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===S1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===E1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===M1)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===w1)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===S1)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===E1)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===M1)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===YA||o===KA||o===ZA||o===JA)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===YA)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===KA)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===ZA)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===JA)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===zR)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===QA||o===e2)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(o===QA)return l===wn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(o===e2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===t2||o===n2||o===r2||o===i2||o===o2||o===a2||o===s2||o===l2||o===c2||o===u2||o===f2||o===d2||o===h2||o===p2)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(o===t2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===n2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===r2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===i2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===o2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===a2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===s2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===l2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===c2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===u2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===f2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===d2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===h2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===p2)return l===wn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===T1||o===m2||o===g2)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(o===T1)return l===wn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(o===m2)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(o===g2)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(o===cV||o===v2||o===y2||o===x2)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(o===T1)return s.COMPRESSED_RED_RGTC1_EXT;if(o===v2)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===y2)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===x2)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===xc?r?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:i}}class kV extends ur{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Yd extends en{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Xle={type:"move"};class TM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Yd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Yd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Yd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),y=this._getHandJoint(c,x);v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=v.radius),y.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,g=.005;c.inputState.pinching&&d>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Xle)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Yd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class qle extends xl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,g=null;const x=n.getContextAttributes();let v=null,y=null;const _=[],b=[],w=new Ue;let E=null;const M=new ur;M.layers.enable(1),M.viewport=new nn;const T=new ur;T.layers.enable(2),T.viewport=new nn;const O=[M,T],P=new kV;P.layers.enable(1),P.layers.enable(2);let R=null,k=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let Z=_[q];return Z===void 0&&(Z=new TM,_[q]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(q){let Z=_[q];return Z===void 0&&(Z=new TM,_[q]=Z),Z.getGripSpace()},this.getHand=function(q){let Z=_[q];return Z===void 0&&(Z=new TM,_[q]=Z),Z.getHandSpace()};function D(q){const Z=b.indexOf(q.inputSource);if(Z===-1)return;const ne=_[Z];ne!==void 0&&(ne.update(q.inputSource,q.frame,c||a),ne.dispatchEvent({type:q.type,data:q.inputSource}))}function G(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",G),i.removeEventListener("inputsourceschange",N);for(let q=0;q<_.length;q++){const Z=b[q];Z!==null&&(b[q]=null,_[q].disconnect(Z))}R=null,k=null,e.setRenderTarget(v),h=null,d=null,f=null,i=null,y=null,X.stop(),r.isPresenting=!1,e.setPixelRatio(E),e.setSize(w.width,w.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(q){o=q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){s=q,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(q){c=q},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(q){if(i=q,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",G),i.addEventListener("inputsourceschange",N),x.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(w),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:o};h=new XRWebGLLayer(i,n,Z),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new Ia(h.framebufferWidth,h.framebufferHeight,{format:Ni,type:ns,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let Z=null,ne=null,se=null;x.depth&&(se=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Z=x.stencil?gf:_c,ne=x.stencil?xc:Xs);const ae={colorFormat:n.RGBA8,depthFormat:se,scaleFactor:o};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(ae),i.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),y=new Ia(d.textureWidth,d.textureHeight,{format:Ni,type:ns,depthTexture:new JR(d.textureWidth,d.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const ge=e.properties.get(y);ge.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(s),X.setContext(i),X.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function N(q){for(let Z=0;Z<q.removed.length;Z++){const ne=q.removed[Z],se=b.indexOf(ne);se>=0&&(b[se]=null,_[se].disconnect(ne))}for(let Z=0;Z<q.added.length;Z++){const ne=q.added[Z];let se=b.indexOf(ne);if(se===-1){for(let ge=0;ge<_.length;ge++)if(ge>=b.length){b.push(ne),se=ge;break}else if(b[ge]===null){b[ge]=ne,se=ge;break}if(se===-1)break}const ae=_[se];ae&&ae.connect(ne)}}const $=new te,H=new te;function K(q,Z,ne){$.setFromMatrixPosition(Z.matrixWorld),H.setFromMatrixPosition(ne.matrixWorld);const se=$.distanceTo(H),ae=Z.projectionMatrix.elements,ge=ne.projectionMatrix.elements,ce=ae[14]/(ae[10]-1),ve=ae[14]/(ae[10]+1),he=(ae[9]+1)/ae[5],V=(ae[9]-1)/ae[5],ye=(ae[8]-1)/ae[0],le=(ge[8]+1)/ge[0],we=ce*ye,ue=ce*le,Fe=se/(-ye+le),xe=Fe*-ye;Z.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(xe),q.translateZ(Fe),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const Y=ce+Fe,W=ve+Fe,ee=we-xe,be=ue+(se-xe),fe=he*ve/W*Y,me=V*ve/W*Y;q.projectionMatrix.makePerspective(ee,be,fe,me,Y,W),q.projectionMatrixInverse.copy(q.projectionMatrix).invert()}function U(q,Z){Z===null?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(Z.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(i===null)return;P.near=T.near=M.near=q.near,P.far=T.far=M.far=q.far,(R!==P.near||k!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,k=P.far);const Z=q.parent,ne=P.cameras;U(P,Z);for(let se=0;se<ne.length;se++)U(ne[se],Z);ne.length===2?K(P,M,T):P.projectionMatrix.copy(M.projectionMatrix),F(q,P,Z)};function F(q,Z,ne){ne===null?q.matrix.copy(Z.matrixWorld):(q.matrix.copy(ne.matrixWorld),q.matrix.invert(),q.matrix.multiply(Z.matrixWorld)),q.matrix.decompose(q.position,q.quaternion,q.scale),q.updateMatrixWorld(!0),q.projectionMatrix.copy(Z.projectionMatrix),q.projectionMatrixInverse.copy(Z.projectionMatrixInverse),q.isPerspectiveCamera&&(q.fov=kh*2*Math.atan(1/q.projectionMatrix.elements[5]),q.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(q){l=q,d!==null&&(d.fixedFoveation=q),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=q)};let j=null;function z(q,Z){if(u=Z.getViewerPose(c||a),g=Z,u!==null){const ne=u.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let se=!1;ne.length!==P.cameras.length&&(P.cameras.length=0,se=!0);for(let ae=0;ae<ne.length;ae++){const ge=ne[ae];let ce=null;if(h!==null)ce=h.getViewport(ge);else{const he=f.getViewSubImage(d,ge);ce=he.viewport,ae===0&&(e.setRenderTargetTextures(y,he.colorTexture,d.ignoreDepthValues?void 0:he.depthStencilTexture),e.setRenderTarget(y))}let ve=O[ae];ve===void 0&&(ve=new ur,ve.layers.enable(ae),ve.viewport=new nn,O[ae]=ve),ve.matrix.fromArray(ge.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(ge.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(ce.x,ce.y,ce.width,ce.height),ae===0&&(P.matrix.copy(ve.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),se===!0&&P.cameras.push(ve)}}for(let ne=0;ne<_.length;ne++){const se=b[ne],ae=_[ne];se!==null&&ae!==void 0&&ae.update(se,Z,c||a)}j&&j(q,Z),Z.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Z}),g=null}const X=new CV;X.setAnimationLoop(z),this.setAnimationLoop=function(q){j=q},this.dispose=function(){}}}function Yle(t,e){function n(v,y){v.matrixAutoUpdate===!0&&v.updateMatrix(),y.value.copy(v.matrix)}function r(v,y){y.color.getRGB(v.fogColor.value,TV(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function i(v,y,_,b,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?o(v,y):y.isMeshToonMaterial?(o(v,y),f(v,y)):y.isMeshPhongMaterial?(o(v,y),u(v,y)):y.isMeshStandardMaterial?(o(v,y),d(v,y),y.isMeshPhysicalMaterial&&h(v,y,w)):y.isMeshMatcapMaterial?(o(v,y),g(v,y)):y.isMeshDepthMaterial?o(v,y):y.isMeshDistanceMaterial?(o(v,y),x(v,y)):y.isMeshNormalMaterial?o(v,y):y.isLineBasicMaterial?(a(v,y),y.isLineDashedMaterial&&s(v,y)):y.isPointsMaterial?l(v,y,_,b):y.isSpriteMaterial?c(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function o(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.bumpMap&&(v.bumpMap.value=y.bumpMap,n(y.bumpMap,v.bumpMapTransform),v.bumpScale.value=y.bumpScale,y.side===Fi&&(v.bumpScale.value*=-1)),y.normalMap&&(v.normalMap.value=y.normalMap,n(y.normalMap,v.normalMapTransform),v.normalScale.value.copy(y.normalScale),y.side===Fi&&v.normalScale.value.negate()),y.displacementMap&&(v.displacementMap.value=y.displacementMap,n(y.displacementMap,v.displacementMapTransform),v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,v.emissiveMapTransform)),y.specularMap&&(v.specularMap.value=y.specularMap,n(y.specularMap,v.specularMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const _=e.get(y).envMap;if(_&&(v.envMap.value=_,v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const b=t._useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*b,n(y.lightMap,v.lightMapTransform)}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,v.aoMapTransform))}function a(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform))}function s(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function l(v,y,_,b){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*_,v.scale.value=b*.5,y.map&&(v.map.value=y.map,n(y.map,v.uvTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function c(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function f(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.metalness.value=y.metalness,y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,v.metalnessMapTransform)),v.roughness.value=y.roughness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,v.roughnessMapTransform)),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function h(v,y,_){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,v.sheenColorMapTransform)),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,v.sheenRoughnessMapTransform))),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,v.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(v.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Fi&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,v.iridescenceMapTransform)),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=_.texture,v.transmissionSamplerSize.value.set(_.width,_.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,v.transmissionMapTransform)),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(v.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(v.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,v.specularColorMapTransform)),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,v.specularIntensityMapTransform))}function g(v,y){y.matcap&&(v.matcap.value=y.matcap)}function x(v,y){const _=e.get(y).light;v.referencePosition.value.setFromMatrixPosition(_.matrixWorld),v.nearDistance.value=_.shadow.camera.near,v.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Kle(t,e,n,r){let i={},o={},a=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(_,b){const w=b.program;r.uniformBlockBinding(_,w)}function c(_,b){let w=i[_.id];w===void 0&&(g(_),w=u(_),i[_.id]=w,_.addEventListener("dispose",v));const E=b.program;r.updateUBOMapping(_,E);const M=e.render.frame;o[_.id]!==M&&(d(_),o[_.id]=M)}function u(_){const b=f();_.__bindingPointIndex=b;const w=t.createBuffer(),E=_.__size,M=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,w),w}function f(){for(let _=0;_<s;_++)if(a.indexOf(_)===-1)return a.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const b=i[_.id],w=_.uniforms,E=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let M=0,T=w.length;M<T;M++){const O=Array.isArray(w[M])?w[M]:[w[M]];for(let P=0,R=O.length;P<R;P++){const k=O[P];if(h(k,M,P,E)===!0){const D=k.__offset,G=Array.isArray(k.value)?k.value:[k.value];let N=0;for(let $=0;$<G.length;$++){const H=G[$],K=x(H);typeof H=="number"||typeof H=="boolean"?(k.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,D+N,k.__data)):H.isMatrix3?(k.__data[0]=H.elements[0],k.__data[1]=H.elements[1],k.__data[2]=H.elements[2],k.__data[3]=0,k.__data[4]=H.elements[3],k.__data[5]=H.elements[4],k.__data[6]=H.elements[5],k.__data[7]=0,k.__data[8]=H.elements[6],k.__data[9]=H.elements[7],k.__data[10]=H.elements[8],k.__data[11]=0):(H.toArray(k.__data,N),N+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(_,b,w,E){const M=_.value,T=b+"_"+w;if(E[T]===void 0)return typeof M=="number"||typeof M=="boolean"?E[T]=M:E[T]=M.clone(),!0;{const O=E[T];if(typeof M=="number"||typeof M=="boolean"){if(O!==M)return E[T]=M,!0}else if(O.equals(M)===!1)return O.copy(M),!0}return!1}function g(_){const b=_.uniforms;let w=0;const E=16;for(let T=0,O=b.length;T<O;T++){const P=Array.isArray(b[T])?b[T]:[b[T]];for(let R=0,k=P.length;R<k;R++){const D=P[R],G=Array.isArray(D.value)?D.value:[D.value];for(let N=0,$=G.length;N<$;N++){const H=G[N],K=x(H),U=w%E;U!==0&&E-U<K.boundary&&(w+=E-U),D.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=w,w+=K.storage}}}const M=w%E;return M>0&&(w+=E-M),_.__size=w,_.__cache={},this}function x(_){const b={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(b.boundary=4,b.storage=4):_.isVector2?(b.boundary=8,b.storage=8):_.isVector3||_.isColor?(b.boundary=16,b.storage=12):_.isVector4?(b.boundary=16,b.storage=16):_.isMatrix3?(b.boundary=48,b.storage=48):_.isMatrix4?(b.boundary=64,b.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),b}function v(_){const b=_.target;b.removeEventListener("dispose",v);const w=a.indexOf(b.__bindingPointIndex);a.splice(w,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete o[b.id]}function y(){for(const _ in i)t.deleteBuffer(i[_]);a=[],i={},o={}}return{bind:l,update:c,dispose:y}}class QR{constructor(e={}){const{canvas:n=SV(),context:r=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=a;const h=new Uint32Array(4),g=new Int32Array(4);let x=null,v=null;const y=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Er,this._useLegacyLights=!1,this.toneMapping=ts,this.toneMappingExposure=1;const b=this;let w=!1,E=0,M=0,T=null,O=-1,P=null;const R=new nn,k=new nn;let D=null;const G=new st(0);let N=0,$=n.width,H=n.height,K=1,U=null,F=null;const j=new nn(0,0,$,H),z=new nn(0,0,$,H);let X=!1;const q=new dy;let Z=!1,ne=!1,se=null;const ae=new Ct,ge=new Ue,ce=new te,ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function he(){return T===null?K:1}let V=r;function ye(Q,_e){for(let Te=0;Te<Q.length;Te++){const Ce=Q[Te],Me=n.getContext(Ce,_e);if(Me!==null)return Me}return null}try{const Q={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${iw}`),n.addEventListener("webglcontextlost",Ee,!1),n.addEventListener("webglcontextrestored",oe,!1),n.addEventListener("webglcontextcreationerror",Xe,!1),V===null){const _e=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&_e.shift(),V=ye(_e,Q),V===null)throw ye(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),V.getShaderPrecisionFormat===void 0&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let le,we,ue,Fe,xe,Y,W,ee,be,fe,me,Ie,Be,Re,Ve,qe,Ae,lt,rt,Ye,He,Ne,ie,Pe;function Qe(){le=new use(V),we=new ise(V,le,e),le.init(we),Ne=new LV(V,le,we),ue=new $le(V,le,we),Fe=new hse(V),xe=new Nle,Y=new Wle(V,le,ue,xe,we,Ne,Fe),W=new ase(b),ee=new cse(b),be=new bie(V,we),ie=new nse(V,le,be,we),fe=new fse(V,be,Fe,ie),me=new vse(V,fe,be,Fe),rt=new gse(V,we,Y),qe=new ose(xe),Ie=new Ile(b,W,ee,le,we,ie,qe),Be=new Yle(b,xe),Re=new Lle,Ve=new jle(le,we),lt=new tse(b,W,ee,ue,me,d,l),Ae=new Gle(b,me,we),Pe=new Kle(V,Fe,we,ue),Ye=new rse(V,le,Fe,we),He=new dse(V,le,Fe,we),Fe.programs=Ie.programs,b.capabilities=we,b.extensions=le,b.properties=xe,b.renderLists=Re,b.shadowMap=Ae,b.state=ue,b.info=Fe}Qe();const $e=new qle(b,V);this.xr=$e,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const Q=le.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=le.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(Q){Q!==void 0&&(K=Q,this.setSize($,H,!1))},this.getSize=function(Q){return Q.set($,H)},this.setSize=function(Q,_e,Te=!0){if($e.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=Q,H=_e,n.width=Math.floor(Q*K),n.height=Math.floor(_e*K),Te===!0&&(n.style.width=Q+"px",n.style.height=_e+"px"),this.setViewport(0,0,Q,_e)},this.getDrawingBufferSize=function(Q){return Q.set($*K,H*K).floor()},this.setDrawingBufferSize=function(Q,_e,Te){$=Q,H=_e,K=Te,n.width=Math.floor(Q*Te),n.height=Math.floor(_e*Te),this.setViewport(0,0,Q,_e)},this.getCurrentViewport=function(Q){return Q.copy(R)},this.getViewport=function(Q){return Q.copy(j)},this.setViewport=function(Q,_e,Te,Ce){Q.isVector4?j.set(Q.x,Q.y,Q.z,Q.w):j.set(Q,_e,Te,Ce),ue.viewport(R.copy(j).multiplyScalar(K).floor())},this.getScissor=function(Q){return Q.copy(z)},this.setScissor=function(Q,_e,Te,Ce){Q.isVector4?z.set(Q.x,Q.y,Q.z,Q.w):z.set(Q,_e,Te,Ce),ue.scissor(k.copy(z).multiplyScalar(K).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(Q){ue.setScissorTest(X=Q)},this.setOpaqueSort=function(Q){U=Q},this.setTransparentSort=function(Q){F=Q},this.getClearColor=function(Q){return Q.copy(lt.getClearColor())},this.setClearColor=function(){lt.setClearColor.apply(lt,arguments)},this.getClearAlpha=function(){return lt.getClearAlpha()},this.setClearAlpha=function(){lt.setClearAlpha.apply(lt,arguments)},this.clear=function(Q=!0,_e=!0,Te=!0){let Ce=0;if(Q){let Me=!1;if(T!==null){const it=T.texture.format;Me=it===BR||it===FR||it===UR}if(Me){const it=T.texture.type,pt=it===ns||it===Xs||it===sw||it===xc||it===LR||it===kR,xt=lt.getClearColor(),Ge=lt.getClearAlpha(),Mt=xt.r,At=xt.g,wt=xt.b;pt?(h[0]=Mt,h[1]=At,h[2]=wt,h[3]=Ge,V.clearBufferuiv(V.COLOR,0,h)):(g[0]=Mt,g[1]=At,g[2]=wt,g[3]=Ge,V.clearBufferiv(V.COLOR,0,g))}else Ce|=V.COLOR_BUFFER_BIT}_e&&(Ce|=V.DEPTH_BUFFER_BIT),Te&&(Ce|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ee,!1),n.removeEventListener("webglcontextrestored",oe,!1),n.removeEventListener("webglcontextcreationerror",Xe,!1),Re.dispose(),Ve.dispose(),xe.dispose(),W.dispose(),ee.dispose(),me.dispose(),ie.dispose(),Pe.dispose(),Ie.dispose(),$e.dispose(),$e.removeEventListener("sessionstart",bt),$e.removeEventListener("sessionend",gt),se&&(se.dispose(),se=null),Ot.stop()};function Ee(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function oe(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const Q=Fe.autoReset,_e=Ae.enabled,Te=Ae.autoUpdate,Ce=Ae.needsUpdate,Me=Ae.type;Qe(),Fe.autoReset=Q,Ae.enabled=_e,Ae.autoUpdate=Te,Ae.needsUpdate=Ce,Ae.type=Me}function Xe(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function je(Q){const _e=Q.target;_e.removeEventListener("dispose",je),Je(_e)}function Je(Q){Le(Q),xe.remove(Q)}function Le(Q){const _e=xe.get(Q).programs;_e!==void 0&&(_e.forEach(function(Te){Ie.releaseProgram(Te)}),Q.isShaderMaterial&&Ie.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,_e,Te,Ce,Me,it){_e===null&&(_e=ve);const pt=Me.isMesh&&Me.matrixWorld.determinant()<0,xt=Ff(Q,_e,Te,Ce,Me);ue.setMaterial(Ce,pt);let Ge=Te.index,Mt=1;if(Ce.wireframe===!0){if(Ge=fe.getWireframeAttribute(Te),Ge===void 0)return;Mt=2}const At=Te.drawRange,wt=Te.attributes.position;let mn=At.start*Mt,dr=(At.start+At.count)*Mt;it!==null&&(mn=Math.max(mn,it.start*Mt),dr=Math.min(dr,(it.start+it.count)*Mt)),Ge!==null?(mn=Math.max(mn,0),dr=Math.min(dr,Ge.count)):wt!=null&&(mn=Math.max(mn,0),dr=Math.min(dr,wt.count));const sn=dr-mn;if(sn<0||sn===1/0)return;ie.setup(Me,Ce,xt,Te,Ge);let Bn,_t=Ye;if(Ge!==null&&(Bn=be.get(Ge),_t=He,_t.setIndex(Bn)),Me.isMesh)Ce.wireframe===!0?(ue.setLineWidth(Ce.wireframeLinewidth*he()),_t.setMode(V.LINES)):_t.setMode(V.TRIANGLES);else if(Me.isLine){let ct=Ce.linewidth;ct===void 0&&(ct=1),ue.setLineWidth(ct*he()),Me.isLineSegments?_t.setMode(V.LINES):Me.isLineLoop?_t.setMode(V.LINE_LOOP):_t.setMode(V.LINE_STRIP)}else Me.isPoints?_t.setMode(V.POINTS):Me.isSprite&&_t.setMode(V.TRIANGLES);if(Me.isBatchedMesh)_t.renderMultiDraw(Me._multiDrawStarts,Me._multiDrawCounts,Me._multiDrawCount);else if(Me.isInstancedMesh)_t.renderInstances(mn,sn,Me.count);else if(Te.isInstancedBufferGeometry){const ct=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,Hr=Math.min(Te.instanceCount,ct);_t.renderInstances(mn,sn,Hr)}else _t.render(mn,sn)};function Ze(Q,_e,Te){Q.transparent===!0&&Q.side===wa&&Q.forceSinglePass===!1?(Q.side=Fi,Q.needsUpdate=!0,Qr(Q,_e,Te),Q.side=ul,Q.needsUpdate=!0,Qr(Q,_e,Te),Q.side=wa):Qr(Q,_e,Te)}this.compile=function(Q,_e,Te=null){Te===null&&(Te=Q),v=Ve.get(Te),v.init(),_.push(v),Te.traverseVisible(function(Me){Me.isLight&&Me.layers.test(_e.layers)&&(v.pushLight(Me),Me.castShadow&&v.pushShadow(Me))}),Q!==Te&&Q.traverseVisible(function(Me){Me.isLight&&Me.layers.test(_e.layers)&&(v.pushLight(Me),Me.castShadow&&v.pushShadow(Me))}),v.setupLights(b._useLegacyLights);const Ce=new Set;return Q.traverse(function(Me){const it=Me.material;if(it)if(Array.isArray(it))for(let pt=0;pt<it.length;pt++){const xt=it[pt];Ze(xt,Te,Me),Ce.add(xt)}else Ze(it,Te,Me),Ce.add(it)}),_.pop(),v=null,Ce},this.compileAsync=function(Q,_e,Te=null){const Ce=this.compile(Q,_e,Te);return new Promise(Me=>{function it(){if(Ce.forEach(function(pt){xe.get(pt).currentProgram.isReady()&&Ce.delete(pt)}),Ce.size===0){Me(Q);return}setTimeout(it,10)}le.get("KHR_parallel_shader_compile")!==null?it():setTimeout(it,10)})};let We=null;function ht(Q){We&&We(Q)}function bt(){Ot.stop()}function gt(){Ot.start()}const Ot=new CV;Ot.setAnimationLoop(ht),typeof self<"u"&&Ot.setContext(self),this.setAnimationLoop=function(Q){We=Q,$e.setAnimationLoop(Q),Q===null?Ot.stop():Ot.start()},$e.addEventListener("sessionstart",bt),$e.addEventListener("sessionend",gt),this.render=function(Q,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),$e.enabled===!0&&$e.isPresenting===!0&&($e.cameraAutoUpdate===!0&&$e.updateCamera(_e),_e=$e.getCamera()),Q.isScene===!0&&Q.onBeforeRender(b,Q,_e,T),v=Ve.get(Q,_.length),v.init(),_.push(v),ae.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),q.setFromProjectionMatrix(ae),ne=this.localClippingEnabled,Z=qe.init(this.clippingPlanes,ne),x=Re.get(Q,y.length),x.init(),y.push(x),Xt(Q,_e,0,b.sortObjects),x.finish(),b.sortObjects===!0&&x.sort(U,F),this.info.render.frame++,Z===!0&&qe.beginShadows();const Te=v.state.shadowsArray;if(Ae.render(Te,Q,_e),Z===!0&&qe.endShadows(),this.info.autoReset===!0&&this.info.reset(),lt.render(x,Q),v.setupLights(b._useLegacyLights),_e.isArrayCamera){const Ce=_e.cameras;for(let Me=0,it=Ce.length;Me<it;Me++){const pt=Ce[Me];Fn(x,Q,pt,pt.viewport)}}else Fn(x,Q,_e);T!==null&&(Y.updateMultisampleRenderTarget(T),Y.updateRenderTargetMipmap(T)),Q.isScene===!0&&Q.onAfterRender(b,Q,_e),ie.resetDefaultState(),O=-1,P=null,_.pop(),_.length>0?v=_[_.length-1]:v=null,y.pop(),y.length>0?x=y[y.length-1]:x=null};function Xt(Q,_e,Te,Ce){if(Q.visible===!1)return;if(Q.layers.test(_e.layers)){if(Q.isGroup)Te=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(_e);else if(Q.isLight)v.pushLight(Q),Q.castShadow&&v.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||q.intersectsSprite(Q)){Ce&&ce.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(ae);const pt=me.update(Q),xt=Q.material;xt.visible&&x.push(Q,pt,xt,Te,ce.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||q.intersectsObject(Q))){const pt=me.update(Q),xt=Q.material;if(Ce&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),ce.copy(Q.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),ce.copy(pt.boundingSphere.center)),ce.applyMatrix4(Q.matrixWorld).applyMatrix4(ae)),Array.isArray(xt)){const Ge=pt.groups;for(let Mt=0,At=Ge.length;Mt<At;Mt++){const wt=Ge[Mt],mn=xt[wt.materialIndex];mn&&mn.visible&&x.push(Q,pt,mn,Te,ce.z,wt)}}else xt.visible&&x.push(Q,pt,xt,Te,ce.z,null)}}const it=Q.children;for(let pt=0,xt=it.length;pt<xt;pt++)Xt(it[pt],_e,Te,Ce)}function Fn(Q,_e,Te,Ce){const Me=Q.opaque,it=Q.transmissive,pt=Q.transparent;v.setupLightsView(Te),Z===!0&&qe.setGlobalState(b.clippingPlanes,Te),it.length>0&&xi(Me,it,_e,Te),Ce&&ue.viewport(R.copy(Ce)),Me.length>0&&_i(Me,_e,Te),it.length>0&&_i(it,_e,Te),pt.length>0&&_i(pt,_e,Te),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function xi(Q,_e,Te,Ce){if((Te.isScene===!0?Te.overrideMaterial:null)!==null)return;const it=we.isWebGL2;se===null&&(se=new Ia(1,1,{generateMipmaps:!0,type:le.has("EXT_color_buffer_half_float")?Dh:ns,minFilter:Oc,samples:it?4:0})),b.getDrawingBufferSize(ge),it?se.setSize(ge.x,ge.y):se.setSize(g_(ge.x),g_(ge.y));const pt=b.getRenderTarget();b.setRenderTarget(se),b.getClearColor(G),N=b.getClearAlpha(),N<1&&b.setClearColor(16777215,.5),b.clear();const xt=b.toneMapping;b.toneMapping=ts,_i(Q,Te,Ce),Y.updateMultisampleRenderTarget(se),Y.updateRenderTargetMipmap(se);let Ge=!1;for(let Mt=0,At=_e.length;Mt<At;Mt++){const wt=_e[Mt],mn=wt.object,dr=wt.geometry,sn=wt.material,Bn=wt.group;if(sn.side===wa&&mn.layers.test(Ce.layers)){const _t=sn.side;sn.side=Fi,sn.needsUpdate=!0,Jr(mn,Te,Ce,dr,sn,Bn),sn.side=_t,sn.needsUpdate=!0,Ge=!0}}Ge===!0&&(Y.updateMultisampleRenderTarget(se),Y.updateRenderTargetMipmap(se)),b.setRenderTarget(pt),b.setClearColor(G,N),b.toneMapping=xt}function _i(Q,_e,Te){const Ce=_e.isScene===!0?_e.overrideMaterial:null;for(let Me=0,it=Q.length;Me<it;Me++){const pt=Q[Me],xt=pt.object,Ge=pt.geometry,Mt=Ce===null?pt.material:Ce,At=pt.group;xt.layers.test(Te.layers)&&Jr(xt,_e,Te,Ge,Mt,At)}}function Jr(Q,_e,Te,Ce,Me,it){Q.onBeforeRender(b,_e,Te,Ce,Me,it),Q.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Me.onBeforeRender(b,_e,Te,Ce,Q,it),Me.transparent===!0&&Me.side===wa&&Me.forceSinglePass===!1?(Me.side=Fi,Me.needsUpdate=!0,b.renderBufferDirect(Te,_e,Ce,Me,Q,it),Me.side=ul,Me.needsUpdate=!0,b.renderBufferDirect(Te,_e,Ce,Me,Q,it),Me.side=wa):b.renderBufferDirect(Te,_e,Ce,Me,Q,it),Q.onAfterRender(b,_e,Te,Ce,Me,it)}function Qr(Q,_e,Te){_e.isScene!==!0&&(_e=ve);const Ce=xe.get(Q),Me=v.state.lights,it=v.state.shadowsArray,pt=Me.state.version,xt=Ie.getParameters(Q,Me.state,it,_e,Te),Ge=Ie.getProgramCacheKey(xt);let Mt=Ce.programs;Ce.environment=Q.isMeshStandardMaterial?_e.environment:null,Ce.fog=_e.fog,Ce.envMap=(Q.isMeshStandardMaterial?ee:W).get(Q.envMap||Ce.environment),Mt===void 0&&(Q.addEventListener("dispose",je),Mt=new Map,Ce.programs=Mt);let At=Mt.get(Ge);if(At!==void 0){if(Ce.currentProgram===At&&Ce.lightsStateVersion===pt)return Io(Q,xt),At}else xt.uniforms=Ie.getUniforms(Q),Q.onBuild(Te,xt,b),Q.onBeforeCompile(xt,b),At=Ie.acquireProgram(xt,Ge),Mt.set(Ge,At),Ce.uniforms=xt.uniforms;const wt=Ce.uniforms;return(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(wt.clippingPlanes=qe.uniform),Io(Q,xt),Ce.needsLights=Lp(Q),Ce.lightsStateVersion=pt,Ce.needsLights&&(wt.ambientLightColor.value=Me.state.ambient,wt.lightProbe.value=Me.state.probe,wt.directionalLights.value=Me.state.directional,wt.directionalLightShadows.value=Me.state.directionalShadow,wt.spotLights.value=Me.state.spot,wt.spotLightShadows.value=Me.state.spotShadow,wt.rectAreaLights.value=Me.state.rectArea,wt.ltc_1.value=Me.state.rectAreaLTC1,wt.ltc_2.value=Me.state.rectAreaLTC2,wt.pointLights.value=Me.state.point,wt.pointLightShadows.value=Me.state.pointShadow,wt.hemisphereLights.value=Me.state.hemi,wt.directionalShadowMap.value=Me.state.directionalShadowMap,wt.directionalShadowMatrix.value=Me.state.directionalShadowMatrix,wt.spotShadowMap.value=Me.state.spotShadowMap,wt.spotLightMatrix.value=Me.state.spotLightMatrix,wt.spotLightMap.value=Me.state.spotLightMap,wt.pointShadowMap.value=Me.state.pointShadowMap,wt.pointShadowMatrix.value=Me.state.pointShadowMatrix),Ce.currentProgram=At,Ce.uniformsList=null,At}function fr(Q){if(Q.uniformsList===null){const _e=Q.currentProgram.getUniforms();Q.uniformsList=P1.seqWithValue(_e.seq,Q.uniforms)}return Q.uniformsList}function Io(Q,_e){const Te=xe.get(Q);Te.outputColorSpace=_e.outputColorSpace,Te.batching=_e.batching,Te.instancing=_e.instancing,Te.instancingColor=_e.instancingColor,Te.skinning=_e.skinning,Te.morphTargets=_e.morphTargets,Te.morphNormals=_e.morphNormals,Te.morphColors=_e.morphColors,Te.morphTargetsCount=_e.morphTargetsCount,Te.numClippingPlanes=_e.numClippingPlanes,Te.numIntersection=_e.numClipIntersection,Te.vertexAlphas=_e.vertexAlphas,Te.vertexTangents=_e.vertexTangents,Te.toneMapping=_e.toneMapping}function Ff(Q,_e,Te,Ce,Me){_e.isScene!==!0&&(_e=ve),Y.resetTextureUnits();const it=_e.fog,pt=Ce.isMeshStandardMaterial?_e.environment:null,xt=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:ls,Ge=(Ce.isMeshStandardMaterial?ee:W).get(Ce.envMap||pt),Mt=Ce.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,At=!!Te.attributes.tangent&&(!!Ce.normalMap||Ce.anisotropy>0),wt=!!Te.morphAttributes.position,mn=!!Te.morphAttributes.normal,dr=!!Te.morphAttributes.color;let sn=ts;Ce.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(sn=b.toneMapping);const Bn=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,_t=Bn!==void 0?Bn.length:0,ct=xe.get(Ce),Hr=v.state.lights;if(Z===!0&&(ne===!0||Q!==P)){const rr=Q===P&&Ce.id===O;qe.setState(Ce,Q,rr)}let Lt=!1;Ce.version===ct.__version?(ct.needsLights&&ct.lightsStateVersion!==Hr.state.version||ct.outputColorSpace!==xt||Me.isBatchedMesh&&ct.batching===!1||!Me.isBatchedMesh&&ct.batching===!0||Me.isInstancedMesh&&ct.instancing===!1||!Me.isInstancedMesh&&ct.instancing===!0||Me.isSkinnedMesh&&ct.skinning===!1||!Me.isSkinnedMesh&&ct.skinning===!0||Me.isInstancedMesh&&ct.instancingColor===!0&&Me.instanceColor===null||Me.isInstancedMesh&&ct.instancingColor===!1&&Me.instanceColor!==null||ct.envMap!==Ge||Ce.fog===!0&&ct.fog!==it||ct.numClippingPlanes!==void 0&&(ct.numClippingPlanes!==qe.numPlanes||ct.numIntersection!==qe.numIntersection)||ct.vertexAlphas!==Mt||ct.vertexTangents!==At||ct.morphTargets!==wt||ct.morphNormals!==mn||ct.morphColors!==dr||ct.toneMapping!==sn||we.isWebGL2===!0&&ct.morphTargetsCount!==_t)&&(Lt=!0):(Lt=!0,ct.__version=Ce.version);let bn=ct.currentProgram;Lt===!0&&(bn=Qr(Ce,_e,Me));let ao=!1,Or=!1,Xn=!1;const gn=bn.getUniforms(),Hi=ct.uniforms;if(ue.useProgram(bn.program)&&(ao=!0,Or=!0,Xn=!0),Ce.id!==O&&(O=Ce.id,Or=!0),ao||P!==Q){gn.setValue(V,"projectionMatrix",Q.projectionMatrix),gn.setValue(V,"viewMatrix",Q.matrixWorldInverse);const rr=gn.map.cameraPosition;rr!==void 0&&rr.setValue(V,ce.setFromMatrixPosition(Q.matrixWorld)),we.logarithmicDepthBuffer&&gn.setValue(V,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&gn.setValue(V,"isOrthographic",Q.isOrthographicCamera===!0),P!==Q&&(P=Q,Or=!0,Xn=!0)}if(Me.isSkinnedMesh){gn.setOptional(V,Me,"bindMatrix"),gn.setOptional(V,Me,"bindMatrixInverse");const rr=Me.skeleton;rr&&(we.floatVertexTextures?(rr.boneTexture===null&&rr.computeBoneTexture(),gn.setValue(V,"boneTexture",rr.boneTexture,Y)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Me.isBatchedMesh&&(gn.setOptional(V,Me,"batchingTexture"),gn.setValue(V,"batchingTexture",Me._matricesTexture,Y));const Ua=Te.morphAttributes;if((Ua.position!==void 0||Ua.normal!==void 0||Ua.color!==void 0&&we.isWebGL2===!0)&&rt.update(Me,Te,bn),(Or||ct.receiveShadow!==Me.receiveShadow)&&(ct.receiveShadow=Me.receiveShadow,gn.setValue(V,"receiveShadow",Me.receiveShadow)),Ce.isMeshGouraudMaterial&&Ce.envMap!==null&&(Hi.envMap.value=Ge,Hi.flipEnvMap.value=Ge.isCubeTexture&&Ge.isRenderTargetTexture===!1?-1:1),Or&&(gn.setValue(V,"toneMappingExposure",b.toneMappingExposure),ct.needsLights&&Wc(Hi,Xn),it&&Ce.fog===!0&&Be.refreshFogUniforms(Hi,it),Be.refreshMaterialUniforms(Hi,Ce,K,H,se),P1.upload(V,fr(ct),Hi,Y)),Ce.isShaderMaterial&&Ce.uniformsNeedUpdate===!0&&(P1.upload(V,fr(ct),Hi,Y),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&gn.setValue(V,"center",Me.center),gn.setValue(V,"modelViewMatrix",Me.modelViewMatrix),gn.setValue(V,"normalMatrix",Me.normalMatrix),gn.setValue(V,"modelMatrix",Me.matrixWorld),Ce.isShaderMaterial||Ce.isRawShaderMaterial){const rr=Ce.uniformsGroups;for(let Vr=0,bi=rr.length;Vr<bi;Vr++)if(we.isWebGL2){const gs=rr[Vr];Pe.update(gs,bn),Pe.bind(gs,bn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return bn}function Wc(Q,_e){Q.ambientLightColor.needsUpdate=_e,Q.lightProbe.needsUpdate=_e,Q.directionalLights.needsUpdate=_e,Q.directionalLightShadows.needsUpdate=_e,Q.pointLights.needsUpdate=_e,Q.pointLightShadows.needsUpdate=_e,Q.spotLights.needsUpdate=_e,Q.spotLightShadows.needsUpdate=_e,Q.rectAreaLights.needsUpdate=_e,Q.hemisphereLights.needsUpdate=_e}function Lp(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(Q,_e,Te){xe.get(Q.texture).__webglTexture=_e,xe.get(Q.depthTexture).__webglTexture=Te;const Ce=xe.get(Q);Ce.__hasExternalTextures=!0,Ce.__hasExternalTextures&&(Ce.__autoAllocateDepthBuffer=Te===void 0,Ce.__autoAllocateDepthBuffer||le.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,_e){const Te=xe.get(Q);Te.__webglFramebuffer=_e,Te.__useDefaultFramebuffer=_e===void 0},this.setRenderTarget=function(Q,_e=0,Te=0){T=Q,E=_e,M=Te;let Ce=!0,Me=null,it=!1,pt=!1;if(Q){const Ge=xe.get(Q);Ge.__useDefaultFramebuffer!==void 0?(ue.bindFramebuffer(V.FRAMEBUFFER,null),Ce=!1):Ge.__webglFramebuffer===void 0?Y.setupRenderTarget(Q):Ge.__hasExternalTextures&&Y.rebindTextures(Q,xe.get(Q.texture).__webglTexture,xe.get(Q.depthTexture).__webglTexture);const Mt=Q.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(pt=!0);const At=xe.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(At[_e])?Me=At[_e][Te]:Me=At[_e],it=!0):we.isWebGL2&&Q.samples>0&&Y.useMultisampledRTT(Q)===!1?Me=xe.get(Q).__webglMultisampledFramebuffer:Array.isArray(At)?Me=At[Te]:Me=At,R.copy(Q.viewport),k.copy(Q.scissor),D=Q.scissorTest}else R.copy(j).multiplyScalar(K).floor(),k.copy(z).multiplyScalar(K).floor(),D=X;if(ue.bindFramebuffer(V.FRAMEBUFFER,Me)&&we.drawBuffers&&Ce&&ue.drawBuffers(Q,Me),ue.viewport(R),ue.scissor(k),ue.setScissorTest(D),it){const Ge=xe.get(Q.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+_e,Ge.__webglTexture,Te)}else if(pt){const Ge=xe.get(Q.texture),Mt=_e||0;V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,Ge.__webglTexture,Te||0,Mt)}O=-1},this.readRenderTargetPixels=function(Q,_e,Te,Ce,Me,it,pt){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=xe.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&pt!==void 0&&(xt=xt[pt]),xt){ue.bindFramebuffer(V.FRAMEBUFFER,xt);try{const Ge=Q.texture,Mt=Ge.format,At=Ge.type;if(Mt!==Ni&&Ne.convert(Mt)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const wt=At===Dh&&(le.has("EXT_color_buffer_half_float")||we.isWebGL2&&le.has("EXT_color_buffer_float"));if(At!==ns&&Ne.convert(At)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)&&!(At===Ea&&(we.isWebGL2||le.has("OES_texture_float")||le.has("WEBGL_color_buffer_float")))&&!wt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=Q.width-Ce&&Te>=0&&Te<=Q.height-Me&&V.readPixels(_e,Te,Ce,Me,Ne.convert(Mt),Ne.convert(At),it)}finally{const Ge=T!==null?xe.get(T).__webglFramebuffer:null;ue.bindFramebuffer(V.FRAMEBUFFER,Ge)}}},this.copyFramebufferToTexture=function(Q,_e,Te=0){const Ce=Math.pow(2,-Te),Me=Math.floor(_e.image.width*Ce),it=Math.floor(_e.image.height*Ce);Y.setTexture2D(_e,0),V.copyTexSubImage2D(V.TEXTURE_2D,Te,0,0,Q.x,Q.y,Me,it),ue.unbindTexture()},this.copyTextureToTexture=function(Q,_e,Te,Ce=0){const Me=_e.image.width,it=_e.image.height,pt=Ne.convert(Te.format),xt=Ne.convert(Te.type);Y.setTexture2D(Te,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,Te.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Te.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,Te.unpackAlignment),_e.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,Ce,Q.x,Q.y,Me,it,pt,xt,_e.image.data):_e.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,Ce,Q.x,Q.y,_e.mipmaps[0].width,_e.mipmaps[0].height,pt,_e.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,Ce,Q.x,Q.y,pt,xt,_e.image),Ce===0&&Te.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(Q,_e,Te,Ce,Me=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const it=Q.max.x-Q.min.x+1,pt=Q.max.y-Q.min.y+1,xt=Q.max.z-Q.min.z+1,Ge=Ne.convert(Ce.format),Mt=Ne.convert(Ce.type);let At;if(Ce.isData3DTexture)Y.setTexture3D(Ce,0),At=V.TEXTURE_3D;else if(Ce.isDataArrayTexture||Ce.isCompressedArrayTexture)Y.setTexture2DArray(Ce,0),At=V.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,Ce.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,Ce.unpackAlignment);const wt=V.getParameter(V.UNPACK_ROW_LENGTH),mn=V.getParameter(V.UNPACK_IMAGE_HEIGHT),dr=V.getParameter(V.UNPACK_SKIP_PIXELS),sn=V.getParameter(V.UNPACK_SKIP_ROWS),Bn=V.getParameter(V.UNPACK_SKIP_IMAGES),_t=Te.isCompressedTexture?Te.mipmaps[Me]:Te.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,_t.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,_t.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,Q.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,Q.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Q.min.z),Te.isDataTexture||Te.isData3DTexture?V.texSubImage3D(At,Me,_e.x,_e.y,_e.z,it,pt,xt,Ge,Mt,_t.data):Te.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(At,Me,_e.x,_e.y,_e.z,it,pt,xt,Ge,_t.data)):V.texSubImage3D(At,Me,_e.x,_e.y,_e.z,it,pt,xt,Ge,Mt,_t),V.pixelStorei(V.UNPACK_ROW_LENGTH,wt),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,mn),V.pixelStorei(V.UNPACK_SKIP_PIXELS,dr),V.pixelStorei(V.UNPACK_SKIP_ROWS,sn),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Bn),Me===0&&Ce.generateMipmaps&&V.generateMipmap(At),ue.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?Y.setTextureCube(Q,0):Q.isData3DTexture?Y.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?Y.setTexture2DArray(Q,0):Y.setTexture2D(Q,0),ue.unbindTexture()},this.resetState=function(){E=0,M=0,T=null,ue.reset(),ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ma}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===cw?"display-p3":"srgb",n.unpackColorSpace=ln.workingColorSpace===ly?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Er?bc:HR}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===bc?Er:ls}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class UV extends QR{}UV.prototype.isWebGL1Renderer=!0;class pw{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new st(e),this.density=n}clone(){return new pw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mw{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new st(e),this.near=n,this.far=r}clone(){return new mw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class eO extends en{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class gw{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=ev,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ao()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Pi=new te;class vf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Pi.fromBufferAttribute(this,n),Pi.applyMatrix4(e),this.setXYZ(n,Pi.x,Pi.y,Pi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Pi.fromBufferAttribute(this,n),Pi.applyNormalMatrix(e),this.setXYZ(n,Pi.x,Pi.y,Pi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Pi.fromBufferAttribute(this,n),Pi.transformDirection(e),this.setXYZ(n,Pi.x,Pi.y,Pi.z);return this}setX(e,n){return this.normalized&&(n=Bt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Bt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Zi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Zi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Zi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Zi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Bt(n,this.array),r=Bt(r,this.array),i=Bt(i,this.array),o=Bt(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new hn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class tO extends yi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new st(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let gd;const _m=new te,vd=new te,yd=new te,xd=new Ue,bm=new Ue,FV=new Ct,dx=new te,wm=new te,hx=new te,zL=new Ue,AM=new Ue,jL=new Ue;class BV extends en{constructor(e=new tO){if(super(),this.isSprite=!0,this.type="Sprite",gd===void 0){gd=new Ht;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new gw(n,5);gd.setIndex([0,1,2,0,2,3]),gd.setAttribute("position",new vf(r,3,0,!1)),gd.setAttribute("uv",new vf(r,2,3,!1))}this.geometry=gd,this.material=e,this.center=new Ue(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vd.setFromMatrixScale(this.matrixWorld),FV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vd.multiplyScalar(-yd.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;px(dx.set(-.5,-.5,0),yd,a,vd,i,o),px(wm.set(.5,-.5,0),yd,a,vd,i,o),px(hx.set(.5,.5,0),yd,a,vd,i,o),zL.set(0,0),AM.set(1,0),jL.set(1,1);let s=e.ray.intersectTriangle(dx,wm,hx,!1,_m);if(s===null&&(px(wm.set(-.5,.5,0),yd,a,vd,i,o),AM.set(0,1),s=e.ray.intersectTriangle(dx,hx,wm,!1,_m),s===null))return;const l=e.ray.origin.distanceTo(_m);l<e.near||l>e.far||n.push({distance:l,point:_m.clone(),uv:Ki.getInterpolation(_m,dx,wm,hx,zL,AM,jL,new Ue),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function px(t,e,n,r,i,o){xd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(bm.x=o*xd.x-i*xd.y,bm.y=i*xd.x+o*xd.y):bm.copy(xd),t.copy(e),t.x+=bm.x,t.y+=bm.y,t.applyMatrix4(FV)}const mx=new te,HL=new te;class zV extends en{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){mx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(mx);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){mx.setFromMatrixPosition(e.matrixWorld),HL.setFromMatrixPosition(this.matrixWorld);const r=mx.distanceTo(HL)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const VL=new te,GL=new nn,$L=new nn,Zle=new te,WL=new Ct,gx=new te,PM=new Kr,XL=new Ct,CM=new Cf;class jV extends er{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=qA,this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,gx),this.boundingBox.expandByPoint(gx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Kr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,gx),this.boundingSphere.expandByPoint(gx)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),PM.copy(this.boundingSphere),PM.applyMatrix4(i),e.ray.intersectsSphere(PM)!==!1&&(XL.copy(i).invert(),CM.copy(e.ray).applyMatrix4(XL),!(this.boundingBox!==null&&CM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,CM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new nn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===qA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===tV?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;GL.fromBufferAttribute(i.attributes.skinIndex,e),$L.fromBufferAttribute(i.attributes.skinWeight,e),VL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=$L.getComponent(o);if(a!==0){const s=GL.getComponent(o);WL.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Zle.copy(VL).applyMatrix4(WL),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class nO extends en{constructor(){super(),this.isBone=!0,this.type="Bone"}}class of extends tr{constructor(e=null,n=1,r=1,i,o,a,s,l,c=lr,u=lr,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qL=new Ct,Jle=new Ct;class vw{constructor(e=[],n=[]){this.uuid=Ao(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:Jle;qL.multiplyMatrices(s,n[o]),qL.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new vw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new of(n,e,e,Ni,Ea);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new nO),this.bones.push(a),this.boneInverses.push(new Ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class yf extends hn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _d=new Ct,YL=new Ct,vx=[],KL=new Yr,Qle=new Ct,Sm=new er,Em=new Kr;class HV extends er{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new yf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Qle)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Yr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_d),KL.copy(e.boundingBox).applyMatrix4(_d),this.boundingBox.union(KL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Kr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,_d),Em.copy(e.boundingSphere).applyMatrix4(_d),this.boundingSphere.union(Em)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Sm.geometry=this.geometry,Sm.material=this.material,Sm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Em.copy(this.boundingSphere),Em.applyMatrix4(r),e.ray.intersectsSphere(Em)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,_d),YL.multiplyMatrices(r,_d),Sm.matrixWorld=YL,Sm.raycast(e,vx);for(let a=0,s=vx.length;a<s;a++){const l=vx[a];l.instanceId=o,l.object=this,n.push(l)}vx.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new yf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function ece(t,e){return t.z-e.z}function tce(t,e){return e.z-t.z}class nce{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const bd="batchId",Vl=new Ct,ZL=new Ct,rce=new Ct,JL=new Ct,RM=new dy,yx=new Yr,hu=new Kr,Mm=new te,OM=new nce,ci=new er,xx=[];function ice(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class VV extends er{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Ht,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new of(n,e,e,Ni,Ea);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:c,itemSize:u,normalized:f}=l,d=new c.constructor(r*u),h=new l.constructor(d,u,f);h.setUsage(l.usage),n.setAttribute(s,h)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new hn(s,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(bd,new hn(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(bd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${bd}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===bd)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Vl),this.getBoundingBoxAt(i,yx).applyMatrix4(Vl),n.union(yx))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Kr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Vl),this.getBoundingSphereAt(i,hu).applyMatrix4(Vl),n.union(hu))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const a=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,d=this._active,h=this._matricesTexture,g=this._matricesTexture.image.data;f.push(!0),d.push(!0);const x=this._geometryCount;this._geometryCount++,rce.toArray(g,x*16),h.needsUpdate=!0,a.push(i),s.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Yr,sphereInitialized:!1,sphere:new Kr});const v=this.geometry.getAttribute(bd);for(let y=0;y<i.vertexCount;y++)v.setX(i.vertexStart+y,x);return v.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._reservedRanges[e];if(i&&a.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.vertexCount;for(const h in r.attributes){if(h===bd)continue;const g=n.getAttribute(h),x=r.getAttribute(h);ice(g,x,l);const v=g.itemSize;for(let y=g.count,_=c;y<_;y++){const b=l+y;for(let w=0;w<v;w++)x.setComponent(b,w,0)}x.needsUpdate=!0}if(i){const h=s.indexStart;for(let g=0;g<a.count;g++)o.setX(h+g,l+a.getX(g));for(let g=a.count,x=s.indexCount;g<x;g++)o.setX(h+g,l);o.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],d=n.getAttribute("position");return f.count=i?a.count:d.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.box,a=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const s=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let d=u;s&&(d=s.getX(d)),o.expandByPoint(Mm.fromBufferAttribute(l,d))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],o=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,yx),yx.getCenter(o.center);const s=a.index,l=a.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,d=c.start+c.count;f<d;f++){let h=f;s&&(h=s.getX(h)),Mm.fromBufferAttribute(l,h),u=Math.max(u,o.center.distanceToSquared(Mm))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,a=this._geometryCount,s=this.matrixWorld,l=this.geometry;ci.material=this.material,ci.geometry.index=l.index,ci.geometry.attributes=l.attributes,ci.geometry.boundingBox===null&&(ci.geometry.boundingBox=new Yr),ci.geometry.boundingSphere===null&&(ci.geometry.boundingSphere=new Kr);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const u=o[c];ci.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,ci.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ci.geometry.boundingBox),this.getBoundingSphereAt(c,ci.geometry.boundingSphere),ci.raycast(e,xx);for(let f=0,d=xx.length;f<d;f++){const h=xx[f];h.object=this,h.batchId=c,n.push(h)}xx.length=0}ci.material=null,ci.geometry.index=null,ci.geometry.attributes={},ci.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,d=this.perObjectFrustumCulled;d&&(JL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RM.setFromProjectionMatrix(JL,e.isWebGPURenderer?Lh:Ma));let h=0;if(this.sortObjects){ZL.copy(this.matrixWorld).invert(),Mm.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ZL);for(let v=0,y=l.length;v<y;v++)if(l[v]){this.getMatrixAt(v,Vl),this.getBoundingSphereAt(v,hu).applyMatrix4(Vl);let _=!1;if(d&&(_=!RM.intersectsSphere(hu)),!_){const b=Mm.distanceTo(hu.center);OM.push(f[v],b)}}const g=OM.list,x=this.customSort;x===null?g.sort(o.transparent?tce:ece):x.call(this,g,r);for(let v=0,y=g.length;v<y;v++){const _=g[v];c[h]=_.start*s,u[h]=_.count,h++}OM.reset()}else for(let g=0,x=l.length;g<x;g++)if(l[g]){let v=!1;if(d&&(this.getMatrixAt(g,Vl),this.getBoundingSphereAt(g,hu).applyMatrix4(Vl),v=!RM.intersectsSphere(hu)),!v){const y=f[g];c[h]=y.start*s,u[h]=y.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class ji extends yi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new st(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const QL=new te,ek=new te,tk=new Ct,IM=new Cf,_x=new Kr;class Ic extends en{constructor(e=new Ht,n=new ji){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)QL.fromBufferAttribute(n,i-1),ek.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=QL.distanceTo(ek);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_x.copy(r.boundingSphere),_x.applyMatrix4(i),_x.radius+=o,e.ray.intersectsSphere(_x)===!1)return;tk.copy(i).invert(),IM.copy(e.ray).applyMatrix4(tk);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=new te,u=new te,f=new te,d=new te,h=this.isLineSegments?2:1,g=r.index,v=r.attributes.position;if(g!==null){const y=Math.max(0,a.start),_=Math.min(g.count,a.start+a.count);for(let b=y,w=_-1;b<w;b+=h){const E=g.getX(b),M=g.getX(b+1);if(c.fromBufferAttribute(v,E),u.fromBufferAttribute(v,M),IM.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(d);O<e.near||O>e.far||n.push({distance:O,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,a.start),_=Math.min(v.count,a.start+a.count);for(let b=y,w=_-1;b<w;b+=h){if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,b+1),IM.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||n.push({distance:M,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}const nk=new te,rk=new te;class ds extends Ic{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)nk.fromBufferAttribute(n,i),rk.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+nk.distanceTo(rk);e.setAttribute("lineDistance",new mt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class GV extends Ic{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class rO extends yi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new st(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ik=new Ct,M2=new Cf,bx=new Kr,wx=new te;class $V extends en{constructor(e=new Ht,n=new rO){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),bx.copy(r.boundingSphere),bx.applyMatrix4(i),bx.radius+=o,e.ray.intersectsSphere(bx)===!1)return;ik.copy(i).invert(),M2.copy(e.ray).applyMatrix4(ik);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let g=d,x=h;g<x;g++){const v=c.getX(g);wx.fromBufferAttribute(f,v),ok(wx,v,l,i,e,n,this)}}else{const d=Math.max(0,a.start),h=Math.min(f.count,a.start+a.count);for(let g=d,x=h;g<x;g++)wx.fromBufferAttribute(f,g),ok(wx,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function ok(t,e,n,r,i,o,a){const s=M2.distanceSqToPoint(t);if(s<n){const l=new te;M2.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}class oce extends tr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Vn,this.magFilter=o!==void 0?o:Vn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class ace extends tr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=lr,this.minFilter=lr,this.generateMipmaps=!1,this.needsUpdate=!0}}class yw extends tr{constructor(e,n,r,i,o,a,s,l,c,u,f,d){super(null,a,s,l,c,u,i,o,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class sce extends yw{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=pi}}class lce extends yw{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,fl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cce extends tr{constructor(e,n,r,i,o,a,s,l,c){super(e,n,r,i,o,a,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Da=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-a,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const u=r[i],d=r[i+1]-u,h=(a-u)/d;return(i+h)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new Ue:new te);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new te,i=[],o=[],a=[],s=new te,l=new Ct;for(let h=0;h<=e;h++){const g=h/e;i[h]=this.getTangentAt(g,new te)}o[0]=new te,a[0]=new te;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let h=1;h<=e;h++){if(o[h]=o[h-1].clone(),a[h]=a[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(Qn(i[h-1].dot(i[h]),-1,1));o[h].applyMatrix4(l.makeRotationAxis(s,g))}a[h].crossVectors(i[h],o[h])}if(n===!0){let h=Math.acos(Qn(o[0].dot(o[e]),-1,1));h/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(h=-h);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],h*g)),a[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class xw extends Da{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n){const r=n||new Ue,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,h=c-this.aY;l=d*u-h*f+this.aX,c=d*f+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class WV extends xw{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function iO(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,c){i(a,s,c*(s-o),c*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,c,u,f){let d=(a-o)/c-(s-o)/(c+u)+(s-a)/u,h=(s-a)/u-(l-a)/(u+f)+(l-s)/f;d*=u,h*=u,i(a,s,d,h)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const Sx=new te,NM=new iO,DM=new iO,LM=new iO;class XV extends Da{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new te){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let c,u;this.closed||s>0?c=i[(s-1)%o]:(Sx.subVectors(i[0],i[1]).add(i[0]),c=Sx);const f=i[s%o],d=i[(s+1)%o];if(this.closed||s+2<o?u=i[(s+2)%o]:(Sx.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=Sx),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),h),x=Math.pow(f.distanceToSquared(d),h),v=Math.pow(d.distanceToSquared(u),h);x<1e-4&&(x=1),g<1e-4&&(g=x),v<1e-4&&(v=x),NM.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,x,v),DM.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,x,v),LM.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,x,v)}else this.curveType==="catmullrom"&&(NM.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),DM.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),LM.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(NM.calc(l),DM.calc(l),LM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new te().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ak(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function uce(t,e){const n=1-t;return n*n*e}function fce(t,e){return 2*(1-t)*t*e}function dce(t,e){return t*t*e}function ag(t,e,n,r){return uce(t,e)+fce(t,n)+dce(t,r)}function hce(t,e){const n=1-t;return n*n*n*e}function pce(t,e){const n=1-t;return 3*n*n*t*e}function mce(t,e){return 3*(1-t)*t*t*e}function gce(t,e){return t*t*t*e}function sg(t,e,n,r,i){return hce(t,e)+pce(t,n)+mce(t,r)+gce(t,i)}class oO extends Da{constructor(e=new Ue,n=new Ue,r=new Ue,i=new Ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ue){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(sg(e,i.x,o.x,a.x,s.x),sg(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class qV extends Da{constructor(e=new te,n=new te,r=new te,i=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new te){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(sg(e,i.x,o.x,a.x,s.x),sg(e,i.y,o.y,a.y,s.y),sg(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aO extends Da{constructor(e=new Ue,n=new Ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YV extends Da{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sO extends Da{constructor(e=new Ue,n=new Ue,r=new Ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ue){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(ag(e,i.x,o.x,a.x),ag(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lO extends Da{constructor(e=new te,n=new te,r=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new te){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(ag(e,i.x,o.x,a.x),ag(e,i.y,o.y,a.y),ag(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cO extends Da{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ue){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(ak(s,l.x,c.x,u.x,f.x),ak(s,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ue().fromArray(i))}return this}}var v_=Object.freeze({__proto__:null,ArcCurve:WV,CatmullRomCurve3:XV,CubicBezierCurve:oO,CubicBezierCurve3:qV,EllipseCurve:xw,LineCurve:aO,LineCurve3:YV,QuadraticBezierCurve:sO,QuadraticBezierCurve3:lO,SplineCurve:cO});class KV extends Da{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new v_[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),c=l===0?0:1-a/l;return s.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new v_[i.type]().fromJSON(i))}return this}}let nv=class extends KV{constructor(e){super(),this.type="Path",this.currentPoint=new Ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new aO(this.currentPoint.clone(),new Ue(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new sO(this.currentPoint.clone(),new Ue(e,n),new Ue(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new oO(this.currentPoint.clone(),new Ue(e,n),new Ue(r,i),new Ue(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new cO(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const c=new xw(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class hy extends Ht{constructor(e=[new Ue(0,-.5),new Ue(.5,0),new Ue(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Qn(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],c=[],u=1/n,f=new te,d=new Ue,h=new te,g=new te,x=new te;let v=0,y=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-v,h.z=y*0,x.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[_+1].x-e[_].x,y=e[_+1].y-e[_].y,h.x=y*1,h.y=-v,h.z=y*0,g.copy(h),h.x+=x.x,h.y+=x.y,h.z+=x.z,h.normalize(),l.push(h.x,h.y,h.z),x.copy(g)}for(let _=0;_<=n;_++){const b=r+_*u*i,w=Math.sin(b),E=Math.cos(b);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*w,f.y=e[M].y,f.z=e[M].x*E,a.push(f.x,f.y,f.z),d.x=_/n,d.y=M/(e.length-1),s.push(d.x,d.y);const T=l[3*M+0]*w,O=l[3*M+1],P=l[3*M+0]*E;c.push(T,O,P)}}for(let _=0;_<n;_++)for(let b=0;b<e.length-1;b++){const w=b+_*e.length,E=w,M=w+e.length,T=w+e.length+1,O=w+1;o.push(E,M,O),o.push(T,O,M)}this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("uv",new mt(s,2)),this.setAttribute("normal",new mt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hy(e.points,e.segments,e.phiStart,e.phiLength)}}class _w extends hy{constructor(e=1,n=1,r=4,i=8){const o=new nv;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new _w(e.radius,e.length,e.capSegments,e.radialSegments)}}class bw extends Ht{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],c=new te,u=new Ue;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const h=r+f/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),s.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new mt(a,3)),this.setAttribute("normal",new mt(s,3)),this.setAttribute("uv",new mt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _p extends Ht{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],f=[],d=[],h=[];let g=0;const x=[],v=r/2;let y=0;_(),a===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(h,2));function _(){const w=new te,E=new te;let M=0;const T=(n-e)/r;for(let O=0;O<=o;O++){const P=[],R=O/o,k=R*(n-e)+e;for(let D=0;D<=i;D++){const G=D/i,N=G*l+s,$=Math.sin(N),H=Math.cos(N);E.x=k*$,E.y=-R*r+v,E.z=k*H,f.push(E.x,E.y,E.z),w.set($,T,H).normalize(),d.push(w.x,w.y,w.z),h.push(G,1-R),P.push(g++)}x.push(P)}for(let O=0;O<i;O++)for(let P=0;P<o;P++){const R=x[P][O],k=x[P+1][O],D=x[P+1][O+1],G=x[P][O+1];u.push(R,k,G),u.push(k,D,G),M+=6}c.addGroup(y,M,0),y+=M}function b(w){const E=g,M=new Ue,T=new te;let O=0;const P=w===!0?e:n,R=w===!0?1:-1;for(let D=1;D<=i;D++)f.push(0,v*R,0),d.push(0,R,0),h.push(.5,.5),g++;const k=g;for(let D=0;D<=i;D++){const N=D/i*l+s,$=Math.cos(N),H=Math.sin(N);T.x=P*H,T.y=v*R,T.z=P*$,f.push(T.x,T.y,T.z),d.push(0,R,0),M.x=$*.5+.5,M.y=H*.5*R+.5,h.push(M.x,M.y),g++}for(let D=0;D<i;D++){const G=E+D,N=k+D;w===!0?u.push(N,N+1,G):u.push(N+1,N,G),O+=3}c.addGroup(y,O,w===!0?1:2),y+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _p(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ww extends _p{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new ww(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Bc extends Ht{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),c(r),u(),this.setAttribute("position",new mt(o,3)),this.setAttribute("normal",new mt(o.slice(),3)),this.setAttribute("uv",new mt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(_){const b=new te,w=new te,E=new te;for(let M=0;M<n.length;M+=3)h(n[M+0],b),h(n[M+1],w),h(n[M+2],E),l(b,w,E,_)}function l(_,b,w,E){const M=E+1,T=[];for(let O=0;O<=M;O++){T[O]=[];const P=_.clone().lerp(w,O/M),R=b.clone().lerp(w,O/M),k=M-O;for(let D=0;D<=k;D++)D===0&&O===M?T[O][D]=P:T[O][D]=P.clone().lerp(R,D/k)}for(let O=0;O<M;O++)for(let P=0;P<2*(M-O)-1;P++){const R=Math.floor(P/2);P%2===0?(d(T[O][R+1]),d(T[O+1][R]),d(T[O][R])):(d(T[O][R+1]),d(T[O+1][R+1]),d(T[O+1][R]))}}function c(_){const b=new te;for(let w=0;w<o.length;w+=3)b.x=o[w+0],b.y=o[w+1],b.z=o[w+2],b.normalize().multiplyScalar(_),o[w+0]=b.x,o[w+1]=b.y,o[w+2]=b.z}function u(){const _=new te;for(let b=0;b<o.length;b+=3){_.x=o[b+0],_.y=o[b+1],_.z=o[b+2];const w=v(_)/2/Math.PI+.5,E=y(_)/Math.PI+.5;a.push(w,1-E)}g(),f()}function f(){for(let _=0;_<a.length;_+=6){const b=a[_+0],w=a[_+2],E=a[_+4],M=Math.max(b,w,E),T=Math.min(b,w,E);M>.9&&T<.1&&(b<.2&&(a[_+0]+=1),w<.2&&(a[_+2]+=1),E<.2&&(a[_+4]+=1))}}function d(_){o.push(_.x,_.y,_.z)}function h(_,b){const w=_*3;b.x=e[w+0],b.y=e[w+1],b.z=e[w+2]}function g(){const _=new te,b=new te,w=new te,E=new te,M=new Ue,T=new Ue,O=new Ue;for(let P=0,R=0;P<o.length;P+=9,R+=6){_.set(o[P+0],o[P+1],o[P+2]),b.set(o[P+3],o[P+4],o[P+5]),w.set(o[P+6],o[P+7],o[P+8]),M.set(a[R+0],a[R+1]),T.set(a[R+2],a[R+3]),O.set(a[R+4],a[R+5]),E.copy(_).add(b).add(w).divideScalar(3);const k=v(E);x(M,R+0,_,k),x(T,R+2,b,k),x(O,R+4,w,k)}}function x(_,b,w,E){E<0&&_.x===1&&(a[b]=_.x-1),w.x===0&&w.z===0&&(a[b]=E/2/Math.PI+.5)}function v(_){return Math.atan2(_.z,-_.x)}function y(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bc(e.vertices,e.indices,e.radius,e.details)}}class Sw extends Bc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Sw(e.radius,e.detail)}}const Ex=new te,Mx=new te,kM=new te,Tx=new Ki;class ZV extends Ht{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(nf*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},h=[];for(let g=0;g<l;g+=3){a?(c[0]=a.getX(g),c[1]=a.getX(g+1),c[2]=a.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:x,b:v,c:y}=Tx;if(x.fromBufferAttribute(s,c[0]),v.fromBufferAttribute(s,c[1]),y.fromBufferAttribute(s,c[2]),Tx.getNormal(kM),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const b=(_+1)%3,w=f[_],E=f[b],M=Tx[u[_]],T=Tx[u[b]],O=`${w}_${E}`,P=`${E}_${w}`;P in d&&d[P]?(kM.dot(d[P].normal)<=o&&(h.push(M.x,M.y,M.z),h.push(T.x,T.y,T.z)),d[P]=null):O in d||(d[O]={index0:c[_],index1:c[b],normal:kM.clone()})}}for(const g in d)if(d[g]){const{index0:x,index1:v}=d[g];Ex.fromBufferAttribute(s,x),Mx.fromBufferAttribute(s,v),h.push(Ex.x,Ex.y,Ex.z),h.push(Mx.x,Mx.y,Mx.z)}this.setAttribute("position",new mt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let af=class extends nv{constructor(e){super(e),this.uuid=Ao(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new nv().fromJSON(i))}return this}};const vce={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=JV(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,f,d,h;if(r&&(o=wce(t,e,o,n)),t.length>80*n){s=c=t[0],l=u=t[1];for(let g=n;g<i;g+=n)f=t[g],d=t[g+1],f<s&&(s=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);h=Math.max(c-s,u-l),h=h!==0?32767/h:0}return rv(o,a,n,s,l,h,0),a}};function JV(t,e,n,r,i){let o,a;if(i===Nce(t,e,n,r)>0)for(o=e;o<n;o+=r)a=sk(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=sk(o,t[o],t[o+1],a);return a&&Ew(a,a.next)&&(ov(a),a=a.next),a}function xf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ew(n,n.next)||Gn(n.prev,n,n.next)===0)){if(ov(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function rv(t,e,n,r,i,o,a){if(!t)return;!a&&o&&Ace(t,r,i,o);let s=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?xce(t,r,i,o):yce(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),ov(t),t=c.next,s=c.next;continue}if(t=c,t===s){a?a===1?(t=_ce(xf(t),e,n),rv(t,e,n,r,i,o,2)):a===2&&bce(t,e,n,r,i,o):rv(xf(t),e,n,r,i,o,1);break}}}function yce(t){const e=t.prev,n=t,r=t.next;if(Gn(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,f=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=h&&Kd(i,s,o,l,a,c,g.x,g.y)&&Gn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function xce(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Gn(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,f=o.y,d=a.y,h=s<l?s<c?s:c:l<c?l:c,g=u<f?u<d?u:d:f<d?f:d,x=s>l?s>c?s:c:l>c?l:c,v=u>f?u>d?u:d:f>d?f:d,y=T2(h,g,e,n,r),_=T2(x,v,e,n,r);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=y&&w&&w.z<=_;){if(b.x>=h&&b.x<=x&&b.y>=g&&b.y<=v&&b!==i&&b!==a&&Kd(s,u,l,f,c,d,b.x,b.y)&&Gn(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=h&&w.x<=x&&w.y>=g&&w.y<=v&&w!==i&&w!==a&&Kd(s,u,l,f,c,d,w.x,w.y)&&Gn(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=y;){if(b.x>=h&&b.x<=x&&b.y>=g&&b.y<=v&&b!==i&&b!==a&&Kd(s,u,l,f,c,d,b.x,b.y)&&Gn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=_;){if(w.x>=h&&w.x<=x&&w.y>=g&&w.y<=v&&w!==i&&w!==a&&Kd(s,u,l,f,c,d,w.x,w.y)&&Gn(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function _ce(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!Ew(i,o)&&QV(i,r,r.next,o)&&iv(i,o)&&iv(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),ov(r),ov(r.next),r=t=o),r=r.next}while(r!==t);return xf(r)}function bce(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&Rce(a,s)){let l=eG(a,s);a=xf(a,a.next),l=xf(l,l.next),rv(a,e,n,r,i,o,0),rv(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function wce(t,e,n,r){const i=[];let o,a,s,l,c;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,c=JV(t,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Cce(c));for(i.sort(Sce),o=0;o<i.length;o++)n=Ece(i[o],n);return n}function Sce(t,e){return t.x-e.x}function Ece(t,e){const n=Mce(t,e);if(!n)return e;const r=eG(n,t);return xf(r,r.next),xf(n,n.next)}function Mce(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,c=i.y;let u=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Kd(a<c?o:r,a,l,c,a<c?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),iv(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&Tce(i,n)))&&(i=n,u=f)),n=n.next;while(n!==s);return i}function Tce(t,e){return Gn(t.prev,t,e.prev)<0&&Gn(e.next,t,t.next)<0}function Ace(t,e,n,r){let i=t;do i.z===0&&(i.z=T2(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Pce(i)}function Pce(t){let e,n,r,i,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ,!!r);e++);for(l=c;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1);return t}function T2(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Cce(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Kd(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Rce(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Oce(t,e)&&(iv(t,e)&&iv(e,t)&&Ice(t,e)&&(Gn(t.prev,t,e.prev)||Gn(t,e.prev,e))||Ew(t,e)&&Gn(t.prev,t,t.next)>0&&Gn(e.prev,e,e.next)>0)}function Gn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ew(t,e){return t.x===e.x&&t.y===e.y}function QV(t,e,n,r){const i=Px(Gn(t,e,n)),o=Px(Gn(t,e,r)),a=Px(Gn(n,r,t)),s=Px(Gn(n,r,e));return!!(i!==o&&a!==s||i===0&&Ax(t,n,e)||o===0&&Ax(t,r,e)||a===0&&Ax(n,t,r)||s===0&&Ax(n,e,r))}function Ax(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Px(t){return t>0?1:t<0?-1:0}function Oce(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&QV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function iv(t,e){return Gn(t.prev,t,t.next)<0?Gn(t,e,t.next)>=0&&Gn(t,t.prev,e)>=0:Gn(t,e,t.prev)<0||Gn(t,t.next,e)<0}function Ice(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function eG(t,e){const n=new A2(t.i,t.x,t.y),r=new A2(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function sk(t,e,n,r){const i=new A2(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ov(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A2(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Nce(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class rs{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return rs.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];lk(e),ck(r,e);let a=e.length;n.forEach(lk);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,ck(r,n[l]);const s=vce.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function lk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ck(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Mw extends Ht{constructor(e=new af([new Ue(.5,.5),new Ue(-.5,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];a(c)}this.setAttribute("position",new mt(i,3)),this.setAttribute("uv",new mt(o,2)),this.computeVertexNormals();function a(s){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:h-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,_=n.UVGenerator!==void 0?n.UVGenerator:Dce;let b,w=!1,E,M,T,O;y&&(b=y.getSpacedPoints(u),w=!0,d=!1,E=y.computeFrenetFrames(u,!1),M=new te,T=new te,O=new te),d||(v=0,h=0,g=0,x=0);const P=s.extractPoints(c);let R=P.shape;const k=P.holes;if(!rs.isClockWise(R)){R=R.reverse();for(let V=0,ye=k.length;V<ye;V++){const le=k[V];rs.isClockWise(le)&&(k[V]=le.reverse())}}const G=rs.triangulateShape(R,k),N=R;for(let V=0,ye=k.length;V<ye;V++){const le=k[V];R=R.concat(le)}function $(V,ye,le){return ye||console.error("THREE.ExtrudeGeometry: vec does not exist"),V.clone().addScaledVector(ye,le)}const H=R.length,K=G.length;function U(V,ye,le){let we,ue,Fe;const xe=V.x-ye.x,Y=V.y-ye.y,W=le.x-V.x,ee=le.y-V.y,be=xe*xe+Y*Y,fe=xe*ee-Y*W;if(Math.abs(fe)>Number.EPSILON){const me=Math.sqrt(be),Ie=Math.sqrt(W*W+ee*ee),Be=ye.x-Y/me,Re=ye.y+xe/me,Ve=le.x-ee/Ie,qe=le.y+W/Ie,Ae=((Ve-Be)*ee-(qe-Re)*W)/(xe*ee-Y*W);we=Be+xe*Ae-V.x,ue=Re+Y*Ae-V.y;const lt=we*we+ue*ue;if(lt<=2)return new Ue(we,ue);Fe=Math.sqrt(lt/2)}else{let me=!1;xe>Number.EPSILON?W>Number.EPSILON&&(me=!0):xe<-Number.EPSILON?W<-Number.EPSILON&&(me=!0):Math.sign(Y)===Math.sign(ee)&&(me=!0),me?(we=-Y,ue=xe,Fe=Math.sqrt(be)):(we=xe,ue=Y,Fe=Math.sqrt(be/2))}return new Ue(we/Fe,ue/Fe)}const F=[];for(let V=0,ye=N.length,le=ye-1,we=V+1;V<ye;V++,le++,we++)le===ye&&(le=0),we===ye&&(we=0),F[V]=U(N[V],N[le],N[we]);const j=[];let z,X=F.concat();for(let V=0,ye=k.length;V<ye;V++){const le=k[V];z=[];for(let we=0,ue=le.length,Fe=ue-1,xe=we+1;we<ue;we++,Fe++,xe++)Fe===ue&&(Fe=0),xe===ue&&(xe=0),z[we]=U(le[we],le[Fe],le[xe]);j.push(z),X=X.concat(z)}for(let V=0;V<v;V++){const ye=V/v,le=h*Math.cos(ye*Math.PI/2),we=g*Math.sin(ye*Math.PI/2)+x;for(let ue=0,Fe=N.length;ue<Fe;ue++){const xe=$(N[ue],F[ue],we);ae(xe.x,xe.y,-le)}for(let ue=0,Fe=k.length;ue<Fe;ue++){const xe=k[ue];z=j[ue];for(let Y=0,W=xe.length;Y<W;Y++){const ee=$(xe[Y],z[Y],we);ae(ee.x,ee.y,-le)}}}const q=g+x;for(let V=0;V<H;V++){const ye=d?$(R[V],X[V],q):R[V];w?(T.copy(E.normals[0]).multiplyScalar(ye.x),M.copy(E.binormals[0]).multiplyScalar(ye.y),O.copy(b[0]).add(T).add(M),ae(O.x,O.y,O.z)):ae(ye.x,ye.y,0)}for(let V=1;V<=u;V++)for(let ye=0;ye<H;ye++){const le=d?$(R[ye],X[ye],q):R[ye];w?(T.copy(E.normals[V]).multiplyScalar(le.x),M.copy(E.binormals[V]).multiplyScalar(le.y),O.copy(b[V]).add(T).add(M),ae(O.x,O.y,O.z)):ae(le.x,le.y,f/u*V)}for(let V=v-1;V>=0;V--){const ye=V/v,le=h*Math.cos(ye*Math.PI/2),we=g*Math.sin(ye*Math.PI/2)+x;for(let ue=0,Fe=N.length;ue<Fe;ue++){const xe=$(N[ue],F[ue],we);ae(xe.x,xe.y,f+le)}for(let ue=0,Fe=k.length;ue<Fe;ue++){const xe=k[ue];z=j[ue];for(let Y=0,W=xe.length;Y<W;Y++){const ee=$(xe[Y],z[Y],we);w?ae(ee.x,ee.y+b[u-1].y,b[u-1].x+le):ae(ee.x,ee.y,f+le)}}}Z(),ne();function Z(){const V=i.length/3;if(d){let ye=0,le=H*ye;for(let we=0;we<K;we++){const ue=G[we];ge(ue[2]+le,ue[1]+le,ue[0]+le)}ye=u+v*2,le=H*ye;for(let we=0;we<K;we++){const ue=G[we];ge(ue[0]+le,ue[1]+le,ue[2]+le)}}else{for(let ye=0;ye<K;ye++){const le=G[ye];ge(le[2],le[1],le[0])}for(let ye=0;ye<K;ye++){const le=G[ye];ge(le[0]+H*u,le[1]+H*u,le[2]+H*u)}}r.addGroup(V,i.length/3-V,0)}function ne(){const V=i.length/3;let ye=0;se(N,ye),ye+=N.length;for(let le=0,we=k.length;le<we;le++){const ue=k[le];se(ue,ye),ye+=ue.length}r.addGroup(V,i.length/3-V,1)}function se(V,ye){let le=V.length;for(;--le>=0;){const we=le;let ue=le-1;ue<0&&(ue=V.length-1);for(let Fe=0,xe=u+v*2;Fe<xe;Fe++){const Y=H*Fe,W=H*(Fe+1),ee=ye+we+Y,be=ye+ue+Y,fe=ye+ue+W,me=ye+we+W;ce(ee,be,fe,me)}}}function ae(V,ye,le){l.push(V),l.push(ye),l.push(le)}function ge(V,ye,le){ve(V),ve(ye),ve(le);const we=i.length/3,ue=_.generateTopUV(r,i,we-3,we-2,we-1);he(ue[0]),he(ue[1]),he(ue[2])}function ce(V,ye,le,we){ve(V),ve(ye),ve(we),ve(ye),ve(le),ve(we);const ue=i.length/3,Fe=_.generateSideWallUV(r,i,ue-6,ue-3,ue-2,ue-1);he(Fe[0]),he(Fe[1]),he(Fe[3]),he(Fe[1]),he(Fe[2]),he(Fe[3])}function ve(V){i.push(l[V*3+0]),i.push(l[V*3+1]),i.push(l[V*3+2])}function he(V){o.push(V.x),o.push(V.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Lce(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new v_[i.type]().fromJSON(i)),new Mw(r,e.options)}}const Dce={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ue(o,a),new Ue(s,l),new Ue(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],h=e[i*3+1],g=e[i*3+2],x=e[o*3],v=e[o*3+1],y=e[o*3+2];return Math.abs(s-u)<Math.abs(a-c)?[new Ue(a,1-l),new Ue(c,1-f),new Ue(d,1-g),new Ue(x,1-y)]:[new Ue(s,1-l),new Ue(u,1-f),new Ue(h,1-g),new Ue(v,1-y)]}};function Lce(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Tw extends Bc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Tw(e.radius,e.detail)}}class py extends Bc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new py(e.radius,e.detail)}}class Aw extends Ht{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,h=new te,g=new Ue;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const y=o+v/r*a;h.x=f*Math.cos(y),h.y=f*Math.sin(y),l.push(h.x,h.y,h.z),c.push(0,0,1),g.x=(h.x/n+1)/2,g.y=(h.y/n+1)/2,u.push(g.x,g.y)}f+=d}for(let x=0;x<i;x++){const v=x*(r+1);for(let y=0;y<r;y++){const _=y+v,b=_,w=_+r+1,E=_+r+2,M=_+1;s.push(b,w,M),s.push(w,E,M)}}this.setIndex(s),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Aw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Pw extends Ht{constructor(e=new af([new Ue(0,.5),new Ue(-.5,-.5),new Ue(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new mt(i,3)),this.setAttribute("normal",new mt(o,3)),this.setAttribute("uv",new mt(a,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let h=d.shape;const g=d.holes;rs.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,y=g.length;v<y;v++){const _=g[v];rs.isClockWise(_)===!0&&(g[v]=_.reverse())}const x=rs.triangulateShape(h,g);for(let v=0,y=g.length;v<y;v++){const _=g[v];h=h.concat(_)}for(let v=0,y=h.length;v<y;v++){const _=h[v];i.push(_.x,_.y,0),o.push(0,0,1),a.push(_.x,_.y)}for(let v=0,y=x.length;v<y;v++){const _=x[v],b=_[0]+f,w=_[1]+f,E=_[2]+f;r.push(b,w,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return kce(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new Pw(r,e.curveSegments)}}function kce(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class my extends Ht{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let c=0;const u=[],f=new te,d=new te,h=[],g=[],x=[],v=[];for(let y=0;y<=r;y++){const _=[],b=y/r;let w=0;y===0&&a===0?w=.5/n:y===r&&l===Math.PI&&(w=-.5/n);for(let E=0;E<=n;E++){const M=E/n;f.x=-e*Math.cos(i+M*o)*Math.sin(a+b*s),f.y=e*Math.cos(a+b*s),f.z=e*Math.sin(i+M*o)*Math.sin(a+b*s),g.push(f.x,f.y,f.z),d.copy(f).normalize(),x.push(d.x,d.y,d.z),v.push(M+w,1-b),_.push(c++)}u.push(_)}for(let y=0;y<r;y++)for(let _=0;_<n;_++){const b=u[y][_+1],w=u[y][_],E=u[y+1][_],M=u[y+1][_+1];(y!==0||a>0)&&h.push(b,w,M),(y!==r-1||l<Math.PI)&&h.push(w,E,M)}this.setIndex(h),this.setAttribute("position",new mt(g,3)),this.setAttribute("normal",new mt(x,3)),this.setAttribute("uv",new mt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new my(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Cw extends Bc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Cw(e.radius,e.detail)}}class Rw extends Ht{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],c=[],u=new te,f=new te,d=new te;for(let h=0;h<=r;h++)for(let g=0;g<=i;g++){const x=g/i*o,v=h/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(x),f.y=(e+n*Math.cos(v))*Math.sin(x),f.z=n*Math.sin(v),s.push(f.x,f.y,f.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let g=1;g<=i;g++){const x=(i+1)*h+g-1,v=(i+1)*(h-1)+g-1,y=(i+1)*(h-1)+g,_=(i+1)*h+g;a.push(x,v,_),a.push(v,y,_)}this.setIndex(a),this.setAttribute("position",new mt(s,3)),this.setAttribute("normal",new mt(l,3)),this.setAttribute("uv",new mt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ow extends Ht{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],u=[],f=new te,d=new te,h=new te,g=new te,x=new te,v=new te,y=new te;for(let b=0;b<=r;++b){const w=b/r*o*Math.PI*2;_(w,o,a,e,h),_(w+.01,o,a,e,g),v.subVectors(g,h),y.addVectors(g,h),x.crossVectors(v,y),y.crossVectors(x,v),x.normalize(),y.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,T=-n*Math.cos(M),O=n*Math.sin(M);f.x=h.x+(T*y.x+O*x.x),f.y=h.y+(T*y.y+O*x.y),f.z=h.z+(T*y.z+O*x.z),l.push(f.x,f.y,f.z),d.subVectors(f,h).normalize(),c.push(d.x,d.y,d.z),u.push(b/r),u.push(E/i)}}for(let b=1;b<=r;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),M=(i+1)*b+(w-1),T=(i+1)*b+w,O=(i+1)*(b-1)+w;s.push(E,M,O),s.push(M,T,O)}this.setIndex(s),this.setAttribute("position",new mt(l,3)),this.setAttribute("normal",new mt(c,3)),this.setAttribute("uv",new mt(u,2));function _(b,w,E,M,T){const O=Math.cos(b),P=Math.sin(b),R=E/w*b,k=Math.cos(R);T.x=M*(2+k)*.5*O,T.y=M*(2+k)*P*.5,T.z=M*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ow(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Iw extends Ht{constructor(e=new lO(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new te,l=new te,c=new Ue;let u=new te;const f=[],d=[],h=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new mt(f,3)),this.setAttribute("normal",new mt(d,3)),this.setAttribute("uv",new mt(h,2));function x(){for(let b=0;b<n;b++)v(b);v(o===!1?n:0),_(),y()}function v(b){u=e.getPointAt(b/n,u);const w=a.normals[b],E=a.binormals[b];for(let M=0;M<=i;M++){const T=M/i*Math.PI*2,O=Math.sin(T),P=-Math.cos(T);l.x=P*w.x+O*E.x,l.y=P*w.y+O*E.y,l.z=P*w.z+O*E.z,l.normalize(),d.push(l.x,l.y,l.z),s.x=u.x+r*l.x,s.y=u.y+r*l.y,s.z=u.z+r*l.z,f.push(s.x,s.y,s.z)}}function y(){for(let b=1;b<=n;b++)for(let w=1;w<=i;w++){const E=(i+1)*(b-1)+(w-1),M=(i+1)*b+(w-1),T=(i+1)*b+w,O=(i+1)*(b-1)+w;g.push(E,M,O),g.push(M,T,O)}}function _(){for(let b=0;b<=n;b++)for(let w=0;w<=i;w++)c.x=b/n,c.y=w/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Iw(new v_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class tG extends Ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new te,o=new te;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,h=f.count;for(let g=d,x=d+h;g<x;g+=3)for(let v=0;v<3;v++){const y=s.getX(g+v),_=s.getX(g+(v+1)%3);i.fromBufferAttribute(a,y),o.fromBufferAttribute(a,_),uk(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let c=0;c<3;c++){const u=3*s+c,f=3*s+(c+1)%3;i.fromBufferAttribute(a,u),o.fromBufferAttribute(a,f),uk(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new mt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function uk(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var fk=Object.freeze({__proto__:null,BoxGeometry:Rf,CapsuleGeometry:_w,CircleGeometry:bw,ConeGeometry:ww,CylinderGeometry:_p,DodecahedronGeometry:Sw,EdgesGeometry:ZV,ExtrudeGeometry:Mw,IcosahedronGeometry:Tw,LatheGeometry:hy,OctahedronGeometry:py,PlaneGeometry:Fc,PolyhedronGeometry:Bc,RingGeometry:Aw,ShapeGeometry:Pw,SphereGeometry:my,TetrahedronGeometry:Cw,TorusGeometry:Rw,TorusKnotGeometry:Ow,TubeGeometry:Iw,WireframeGeometry:tG});class nG extends yi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new st(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rG extends cs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class uO extends yi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new st(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iG extends uO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new st(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new st(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new st(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class oG extends yi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new st(16777215),this.specular=new st(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aG extends yi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new st(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class sG extends yi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lG extends yi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new st(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new st(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cG extends yi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new st(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uc,this.normalScale=new Ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uG extends ji{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ju(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function fG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dG(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function P2(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function fO(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function Uce(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],d=[];for(let h=0;h<c.times.length;++h){const g=c.times[h]*i;if(!(g<n||g>=r)){f.push(c.times[h]);for(let x=0;x<u;++x)d.push(c.values[h*u+x])}}f.length!==0&&(c.times=ju(f,c.times.constructor),c.values=ju(d,c.values.constructor),a.push(c))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function Fce(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===s.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);const g=s.times.length-1;let x;if(o<=s.times[0]){const y=u,_=f-u;x=s.values.slice(y,_)}else if(o>=s.times[g]){const y=g*f+u,_=y+f-u;x=s.values.slice(y,_)}else{const y=s.createInterpolant(),_=u,b=f-u;y.evaluate(o),x=y.resultBuffer.slice(_,b)}l==="quaternion"&&new gi().fromArray(x).normalize().conjugate().toArray(x);const v=c.times.length;for(let y=0;y<v;++y){const _=y*h+d;if(l==="quaternion")gi.multiplyQuaternionsFlat(c.values,_,x,0,c.values,_);else{const b=h-d*2;for(let w=0;w<b;++w)c.values[_+w]-=x[w]}}}return t.blendMode=jR,t}const Bce={convertArray:ju,isTypedArray:fG,getKeyframeOrder:dG,sortedArray:P2,flattenJSON:fO,subclip:Uce,makeClipAdditive:Fce};class gy{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hG extends gy{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fu,endingEnd:Fu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case Bu:o=e,s=2*n-r;break;case Kg:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Bu:a=e,l=2*r-n;break;case Kg:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,h=this._weightNext,g=(r-n)/(i-n),x=g*g,v=x*g,y=-d*v+2*d*x-d*g,_=(1+d)*v+(-1.5-2*d)*x+(-.5+d)*g+1,b=(-1-h)*v+(1.5+h)*x+.5*g,w=h*v-h*x;for(let E=0;E!==s;++E)o[E]=y*a[u+E]+_*a[c+E]+b*a[l+E]+w*a[f+E];return o}}class dO extends gy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==s;++d)o[d]=a[c+d]*f+a[l+d]*u;return o}}class pG extends gy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class La{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ju(n,this.TimeBufferType),this.values=ju(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ju(e.times,Array),values:ju(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new pG(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new dO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hG(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case qg:n=this.InterpolantFactoryMethodDiscrete;break;case Yg:n=this.InterpolantFactoryMethodLinear;break;case A1:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return qg;case this.InterpolantFactoryMethodLinear:return Yg;case this.InterpolantFactoryMethodSmooth:return A1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&fG(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===A1,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const c=e[s],u=e[s+1];if(c!==u&&(s!==1||c!==e[0]))if(i)l=!0;else{const f=s*r,d=f-r,h=f+r;for(let g=0;g!==r;++g){const x=n[f+g];if(x!==n[d+g]||x!==n[h+g]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,d=a*r;for(let h=0;h!==r;++h)n[d+h]=n[f+h]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[s+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}La.prototype.TimeBufferType=Float32Array;La.prototype.ValueBufferType=Float32Array;La.prototype.DefaultInterpolation=Yg;class Of extends La{}Of.prototype.ValueTypeName="bool";Of.prototype.ValueBufferType=Array;Of.prototype.DefaultInterpolation=qg;Of.prototype.InterpolantFactoryMethodLinear=void 0;Of.prototype.InterpolantFactoryMethodSmooth=void 0;class hO extends La{}hO.prototype.ValueTypeName="color";class av extends La{}av.prototype.ValueTypeName="number";class mG extends gy{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let c=e*s;for(let u=c+s;c!==u;c+=4)gi.slerpFlat(o,0,a,c-s,a,c,l);return o}}class bp extends La{InterpolantFactoryMethodLinear(e){return new mG(this.times,this.values,this.getValueSize(),e)}}bp.prototype.ValueTypeName="quaternion";bp.prototype.DefaultInterpolation=Yg;bp.prototype.InterpolantFactoryMethodSmooth=void 0;class If extends La{}If.prototype.ValueTypeName="string";If.prototype.ValueBufferType=Array;If.prototype.DefaultInterpolation=qg;If.prototype.InterpolantFactoryMethodLinear=void 0;If.prototype.InterpolantFactoryMethodSmooth=void 0;class sv extends La{}sv.prototype.ValueTypeName="vector";class lv{constructor(e,n=-1,r,i=lw){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ao(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(jce(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(La.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],c=[];l.push((s+o-1)%o,s,(s+1)%o),c.push(0,1,0);const u=dG(l);l=P2(l,1,u),c=P2(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),a.push(new av(".morphTargetInfluences["+n[s].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],u=c.name.match(o);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,h,g,x){if(h.length!==0){const v=[],y=[];fO(h,v,y,g),v.length!==0&&x.push(new f(d,v,y))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let x=0;x<d[g].morphTargets.length;x++)h[d[g].morphTargets[x]]=-1;for(const x in h){const v=[],y=[];for(let _=0;_!==d[g].morphTargets.length;++_){const b=d[g];v.push(b.time),y.push(b.morphTarget===x?1:0)}i.push(new av(".morphTargetInfluence["+x+"]",v,y))}l=h.length*a}else{const h=".bones["+n[f].name+"]";r(sv,h+".position",d,"pos",i),r(bp,h+".quaternion",d,"rot",i),r(sv,h+".scale",d,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zce(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return av;case"vector":case"vector2":case"vector3":case"vector4":return sv;case"color":return hO;case"quaternion":return bp;case"bool":case"boolean":return Of;case"string":return If}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function jce(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zce(t.type);if(t.times===void 0){const n=[],r=[];fO(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const qs={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class pO{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){s++,o===!1&&i.onStart!==void 0&&i.onStart(u,a,s),o=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const h=c[f],g=c[f+1];if(h.global&&(h.lastIndex=0),h.test(u))return g}return null}}}const gG=new pO;class io{constructor(e){this.manager=e!==void 0?e:gG,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}io.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ns={};class Hce extends Error{constructor(e,n){super(e),this.response=n}}class dl extends io{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=qs.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Ns[e]!==void 0){Ns[e].push({onLoad:n,onProgress:r,onError:i});return}Ns[e]=[],Ns[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ns[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=d?parseInt(d):0,g=h!==0;let x=0;const v=new ReadableStream({start(y){_();function _(){f.read().then(({done:b,value:w})=>{if(b)y.close();else{x+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:h});for(let M=0,T=u.length;M<T;M++){const O=u[M];O.onProgress&&O.onProgress(E)}y.enqueue(w),_()}})}}});return new Response(v)}else throw new Hce(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,s));case"json":return c.json();default:if(s===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),d=f&&f[1]?f[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(g=>h.decode(g))}}}).then(c=>{qs.add(e,c);const u=Ns[e];delete Ns[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Ns[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ns[e];for(let f=0,d=u.length;f<d;f++){const h=u[f];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Vce extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new dl(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=lv.parse(e[r]);n.push(i)}return n}}class Gce extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new yw,l=new dl(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const h=o.parse(d,!0);a[f]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(s.minFilter=Vn),s.image=a,s.format=h.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=o.parse(f,!0);if(d.isCubemap){const h=d.mipmaps.length/d.mipmapCount;for(let g=0;g<h;g++){a[g]={mipmaps:[]};for(let x=0;x<d.mipmapCount;x++)a[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+x]),a[g].format=d.format,a[g].width=d.width,a[g].height=d.height}s.image=a}else s.image.width=d.width,s.image.height=d.height,s.mipmaps=d.mipmaps;d.mipmapCount===1&&(s.minFilter=Vn),s.format=d.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class cv extends io{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=qs.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=tv("img");function l(){u(),qs.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(f){u(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class $ce extends io{constructor(e){super(e)}load(e,n,r,i){const o=new fy;o.colorSpace=Er;const a=new cv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(c){a.load(e[c],function(u){o.images[c]=u,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class Wce extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new of,s=new dl(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:pi,a.wrapT=c.wrapT!==void 0?c.wrapT:pi,a.magFilter=c.magFilter!==void 0?c.magFilter:Vn,a.minFilter=c.minFilter!==void 0?c.minFilter:Vn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Oc),c.mipmapCount===1&&(a.minFilter=Vn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class Xce extends io{constructor(e){super(e)}load(e,n,r,i){const o=new tr,a=new cv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class zc extends en{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new st(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class vG extends zc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.groundColor=new st(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const UM=new Ct,dk=new te,hk=new te;class mO{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ue(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dy,this._frameExtents=new Ue(1,1),this._viewportCount=1,this._viewports=[new nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;dk.setFromMatrixPosition(e.matrixWorld),n.position.copy(dk),hk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hk),n.updateMatrixWorld(),UM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(UM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qce extends mO{constructor(){super(new ur(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=kh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class yG extends zc{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new qce}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const pk=new Ct,Tm=new te,FM=new te;class Yce extends mO{constructor(){super(new ur(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ue(4,2),this._viewportCount=6,this._viewports=[new nn(2,1,1,1),new nn(0,1,1,1),new nn(3,1,1,1),new nn(1,1,1,1),new nn(3,0,1,1),new nn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Tm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Tm),FM.copy(r.position),FM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(FM),r.updateMatrixWorld(),i.makeTranslation(-Tm.x,-Tm.y,-Tm.z),pk.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pk)}}class xG extends zc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Yce}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Kce extends mO{constructor(){super(new wc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _G extends zc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(en.DEFAULT_UP),this.updateMatrix(),this.target=new en,this.shadow=new Kce}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class bG extends zc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class wG extends zc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class SG{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class EG extends zc{constructor(e=new SG,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Nw extends io{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new dl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=Nw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new st().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new st().setHex(a.value);break;case"v2":i.uniforms[o].value=new Ue().fromArray(a.value);break;case"v3":i.uniforms[o].value=new te().fromArray(a.value);break;case"v4":i.uniforms[o].value=new nn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new Ft().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Ct().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Ue().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ue().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:nG,SpriteMaterial:tO,RawShaderMaterial:rG,ShaderMaterial:cs,PointsMaterial:rO,MeshPhysicalMaterial:iG,MeshStandardMaterial:uO,MeshPhongMaterial:oG,MeshToonMaterial:aG,MeshNormalMaterial:sG,MeshLambertMaterial:lG,MeshDepthMaterial:dw,MeshDistanceMaterial:hw,MeshBasicMaterial:_l,MeshMatcapMaterial:cG,LineDashedMaterial:uG,LineBasicMaterial:ji,Material:yi};return new n[e]}}class C2{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class gO extends Ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class MG extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new dl(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,g){if(n[g]!==void 0)return n[g];const v=h.interleavedBuffers[g],y=o(h,v.buffer),_=Wd(v.type,y),b=new gw(_,v.stride);return b.uuid=v.uuid,n[g]=b,b}function o(h,g){if(r[g]!==void 0)return r[g];const v=h.arrayBuffers[g],y=new Uint32Array(v).buffer;return r[g]=y,y}const a=e.isInstancedBufferGeometry?new gO:new Ht,s=e.data.index;if(s!==void 0){const h=Wd(s.type,s.array);a.setIndex(new hn(h,1))}const l=e.data.attributes;for(const h in l){const g=l[h];let x;if(g.isInterleavedBufferAttribute){const v=i(e.data,g.data);x=new vf(v,g.itemSize,g.offset,g.normalized)}else{const v=Wd(g.type,g.array),y=g.isInstancedBufferAttribute?yf:hn;x=new y(v,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),a.setAttribute(h,x)}const c=e.data.morphAttributes;if(c)for(const h in c){const g=c[h],x=[];for(let v=0,y=g.length;v<y;v++){const _=g[v];let b;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);b=new vf(w,_.itemSize,_.offset,_.normalized)}else{const w=Wd(_.type,_.array);b=new hn(w,_.itemSize,_.normalized)}_.name!==void 0&&(b.name=_.name),x.push(b)}a.morphAttributes[h]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let h=0,g=f.length;h!==g;++h){const x=f[h];a.addGroup(x.start,x.count,x.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const h=new te;d.center!==void 0&&h.fromArray(d.center),a.boundingSphere=new Kr(h,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Zce extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?C2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new dl(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?C2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new dl(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,o,l,s,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new af().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new vw().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new MG;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in fk?s=fk[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new Nw;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=lv.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:Wd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new pO(n);o=new cv(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const h=[];for(let g=0,x=d.length;g<x;g++){const v=d[g],y=s(v);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new of(y.data,y.width,y.height)))}i[f.uuid]=new zu(h)}else{const h=s(f.url);i[f.uuid]=new zu(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:Wd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new cv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f],g=await o(h);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new of(g.data,g.width,g.height)))}r[l.uuid]=new zu(u)}else{const u=await o(l.url);r[l.uuid]=new zu(u)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],c=l.data;let u;Array.isArray(c)?(u=new fy,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new of:u=new tr,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=s.uuid,s.name!==void 0&&(u.name=s.name),s.mapping!==void 0&&(u.mapping=r(s.mapping,Jce)),s.channel!==void 0&&(u.channel=s.channel),s.offset!==void 0&&u.offset.fromArray(s.offset),s.repeat!==void 0&&u.repeat.fromArray(s.repeat),s.center!==void 0&&u.center.fromArray(s.center),s.rotation!==void 0&&(u.rotation=s.rotation),s.wrap!==void 0&&(u.wrapS=r(s.wrap[0],mk),u.wrapT=r(s.wrap[1],mk)),s.format!==void 0&&(u.format=s.format),s.internalFormat!==void 0&&(u.internalFormat=s.internalFormat),s.type!==void 0&&(u.type=s.type),s.colorSpace!==void 0&&(u.colorSpace=s.colorSpace),s.encoding!==void 0&&(u.encoding=s.encoding),s.minFilter!==void 0&&(u.minFilter=r(s.minFilter,gk)),s.magFilter!==void 0&&(u.magFilter=r(s.magFilter,gk)),s.anisotropy!==void 0&&(u.anisotropy=s.anisotropy),s.flipY!==void 0&&(u.flipY=s.flipY),s.generateMipmaps!==void 0&&(u.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(u.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(u.compareFunction=s.compareFunction),s.userData!==void 0&&(u.userData=s.userData),i[s.uuid]=u}return i}parseObject(e,n,r,i,o){let a;function s(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const h=[];for(let g=0,x=d.length;g<x;g++){const v=d[g];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":a=new eO,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new st(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new mw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new pw(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new ur(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new wc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new bG(e.color,e.intensity);break;case"DirectionalLight":a=new _G(e.color,e.intensity);break;case"PointLight":a=new xG(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new wG(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new yG(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new vG(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new EG().fromJSON(e);break;case"SkinnedMesh":u=s(e.geometry),f=l(e.material),a=new jV(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=s(e.geometry),f=l(e.material),a=new er(u,f);break;case"InstancedMesh":u=s(e.geometry),f=l(e.material);const d=e.count,h=e.instanceMatrix,g=e.instanceColor;a=new HV(u,f,d),a.instanceMatrix=new yf(new Float32Array(h.array),16),g!==void 0&&(a.instanceColor=new yf(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=s(e.geometry),f=l(e.material),a=new VV(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(x=>{const v=new Yr;v.min.fromArray(x.boxMin),v.max.fromArray(x.boxMax);const y=new Kr;return y.radius=x.sphereRadius,y.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:v,sphereInitialized:x.sphereInitialized,sphere:y}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new zV;break;case"Line":a=new Ic(s(e.geometry),l(e.material));break;case"LineLoop":a=new GV(s(e.geometry),l(e.material));break;case"LineSegments":a=new ds(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new $V(s(e.geometry),l(e.material));break;case"Sprite":a=new BV(l(e.material));break;case"Group":a=new Yd;break;case"Bone":a=new nO;break;default:a=new en}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let h=0;h<d.length;h++)a.add(this.parseObject(d[h],n,r,i,o))}if(e.animations!==void 0){const d=e.animations;for(let h=0;h<d.length;h++){const g=d[h];a.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let h=0;h<d.length;h++){const g=d[h],x=a.getObjectByProperty("uuid",g.object);x!==void 0&&a.addLevel(x,g.distance,g.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Jce={UVMapping:aw,CubeReflectionMapping:fl,CubeRefractionMapping:Rc,EquirectangularReflectionMapping:Gg,EquirectangularRefractionMapping:$g,CubeUVReflectionMapping:yp},mk={RepeatWrapping:Wg,ClampToEdgeWrapping:pi,MirroredRepeatWrapping:Xg},gk={NearestFilter:lr,NearestMipmapNearestFilter:p_,NearestMipmapLinearFilter:rg,LinearFilter:Vn,LinearMipmapNearestFilter:NR,LinearMipmapLinearFilter:Oc};class Qce extends io{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=qs.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return qs.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),qs.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});qs.add(e,l),o.manager.itemStart(e)}}let Cx;class vO{static getContext(){return Cx===void 0&&(Cx=new(window.AudioContext||window.webkitAudioContext)),Cx}static setContext(e){Cx=e}}class eue extends io{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new dl(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);vO.getContext().decodeAudioData(c,function(f){n(f)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const vk=new Ct,yk=new Ct,pu=new Ct;class tue{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,pu.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(nf*n.fov*.5)/n.zoom;let s,l;yk.elements[12]=-i,vk.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(pu),s=-a*n.aspect-o,l=a*n.aspect-o,pu.elements[0]=2*n.near/(l-s),pu.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(pu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vk)}}class yO{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=xk();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function xk(){return(typeof performance>"u"?Date:performance).now()}const mu=new te,_k=new gi,nue=new te,gu=new te;class rue extends en{constructor(){super(),this.type="AudioListener",this.context=vO.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yO}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mu,_k,nue),gu.set(0,0,-1).applyQuaternion(_k),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(mu.x,i),n.positionY.linearRampToValueAtTime(mu.y,i),n.positionZ.linearRampToValueAtTime(mu.z,i),n.forwardX.linearRampToValueAtTime(gu.x,i),n.forwardY.linearRampToValueAtTime(gu.y,i),n.forwardZ.linearRampToValueAtTime(gu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(mu.x,mu.y,mu.z),n.setOrientation(gu.x,gu.y,gu.z,r.x,r.y,r.z)}}class TG extends en{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vu=new te,bk=new gi,iue=new te,yu=new te;class oue extends TG{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vu,bk,iue),yu.set(0,0,1).applyQuaternion(bk);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vu.x,r),n.positionY.linearRampToValueAtTime(vu.y,r),n.positionZ.linearRampToValueAtTime(vu.z,r),n.orientationX.linearRampToValueAtTime(yu.x,r),n.orientationY.linearRampToValueAtTime(yu.y,r),n.orientationZ.linearRampToValueAtTime(yu.z,r)}else n.setPosition(vu.x,vu.y,vu.z),n.setOrientation(yu.x,yu.y,yu.z)}}class aue{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class AG{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){gi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;gi.multiplyQuaternionsFlat(e,a,e,n,e,r),gi.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const xO="\\[\\]\\.:\\/",sue=new RegExp("["+xO+"]","g"),_O="[^"+xO+"]",lue="[^"+xO.replace("\\.","")+"]",cue=/((?:WC+[\/:])*)/.source.replace("WC",_O),uue=/(WCOD+)?/.source.replace("WCOD",lue),fue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_O),due=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_O),hue=new RegExp("^"+cue+uue+fue+due+"$"),pue=["material","materials","bones","map"];class mue{constructor(e,n,r){const i=r||Yt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Yt{constructor(e,n,r){this.path=n,this.parsedPath=r||Yt.parseTrackName(n),this.node=Yt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Yt.Composite(e,n,r):new Yt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sue,"")}static parseTrackName(e){const n=hue.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);pue.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Yt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yt.Composite=mue;Yt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yt.prototype.GetterByBindingType=[Yt.prototype._getValue_direct,Yt.prototype._getValue_array,Yt.prototype._getValue_arrayElement,Yt.prototype._getValue_toArray];Yt.prototype.SetterByBindingTypeAndVersioning=[[Yt.prototype._setValue_direct,Yt.prototype._setValue_direct_setNeedsUpdate,Yt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_array,Yt.prototype._setValue_array_setNeedsUpdate,Yt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_arrayElement,Yt.prototype._setValue_arrayElement_setNeedsUpdate,Yt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_fromArray,Yt.prototype._setValue_fromArray_setNeedsUpdate,Yt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gue{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ao(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],h=d.uuid;let g=n[h];if(g===void 0){g=l++,n[h]=g,e.push(d);for(let x=0,v=a;x!==v;++x)o[x].push(new Yt(d,r[x],i[x]))}else if(g<c){s=e[g];const x=--c,v=e[x];n[v.uuid]=g,e[g]=v,n[h]=x,e[x]=d;for(let y=0,_=a;y!==_;++y){const b=o[y],w=b[x];let E=b[g];b[g]=w,E===void 0&&(E=new Yt(d,r[y],i[y])),b[x]=E}}else e[g]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const f=o++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let h=0,g=i;h!==g;++h){const x=r[h],v=x[f],y=x[u];x[u]=v,x[f]=y}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<o){const d=--o,h=e[d],g=--a,x=e[g];n[h.uuid]=f,e[f]=h,n[x.uuid]=d,e[d]=x,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v],b=_[d],w=_[g];_[f]=b,_[d]=w,_.pop()}}else{const d=--a,h=e[d];d>0&&(n[h.uuid]=f),e[f]=h,e.pop();for(let g=0,x=i;g!==x;++g){const v=r[g];v[f]=v[d],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let d=u,h=l.length;d!==h;++d){const g=l[d];f[d]=new Yt(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],c=e[s];n[c]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class PG{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:Fu,endingEnd:Fu};for(let c=0;c!==a;++c){const u=o[c].createInterpolant(null);s[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case jR:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(s);break;case lw:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===dV;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===uV){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Bu,i.endingEnd=Bu):(e?i.endingStart=this.zeroSlopeAtStart?Bu:Fu:i.endingStart=Kg,n?i.endingEnd=this.zeroSlopeAtEnd?Bu:Fu:i.endingEnd=Kg)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const vue=new Float32Array(1);class yue extends xl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==o;++f){const d=i[f],h=d.name;let g=u[h];if(g!==void 0)++g.referenceCount,a[f]=g;else{if(g=a[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,h));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;g=new AG(Yt.create(r,h,x),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,h),a[f]=g}s[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new dO(new Float32Array(2),new Float32Array(2),1,vue),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?lv.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=lw),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new PG(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,s,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?lv.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const c=a[s];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bO{constructor(e){this.value=e}clone(){return new bO(this.value.clone===void 0?this.value:this.value.clone())}}let xue=0;class _ue extends xl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xue++}),this.name="",this.usage=ev,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class bue extends gw{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class wue{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class CG{constructor(e,n,r=0,i=1/0){this.ray=new Cf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new rf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return R2(e,this,r,n),r.sort(wk),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)R2(e[i],this,r,n);return r.sort(wk),r}}function wk(t,e){return t.distance-e.distance}function R2(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,a=i.length;o<a;o++)R2(i[o],e,n,!0)}}class O2{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Qn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Sue{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Sk=new Ue;class Eue{constructor(e=new Ue(1/0,1/0),n=new Ue(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Sk.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Sk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ek=new te,Rx=new te;class Mue{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Ek.subVectors(e,this.start),Rx.subVectors(this.end,this.start);const r=Rx.dot(Rx);let o=Rx.dot(Ek)/r;return n&&(o=Qn(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Mk=new te;class Tue extends en{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const c=a/l*Math.PI*2,u=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new mt(i,3));const o=new ji({fog:!1,toneMapped:!1});this.cone=new ds(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Mk.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Mk),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Gl=new te,Ox=new Ct,BM=new Ct;class Aue extends ds{constructor(e){const n=RG(e),r=new Ht,i=[],o=[],a=new st(0,0,1),s=new st(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new mt(i,3)),r.setAttribute("color",new mt(o,3));const l=new ji({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");BM.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(Ox.multiplyMatrices(BM,s.matrixWorld),Gl.setFromMatrixPosition(Ox),i.setXYZ(a,Gl.x,Gl.y,Gl.z),Ox.multiplyMatrices(BM,s.parent.matrixWorld),Gl.setFromMatrixPosition(Ox),i.setXYZ(a+1,Gl.x,Gl.y,Gl.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function RG(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,RG(t.children[n]));return e}class Pue extends er{constructor(e,n,r){const i=new my(n,4,2),o=new _l({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Cue=new te,Tk=new st,Ak=new st;class Rue extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new py(n);i.rotateY(Math.PI*.5),this.material=new _l({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new hn(a,3)),this.add(new er(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Tk.copy(this.light.color),Ak.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?Tk:Ak;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Cue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Oue extends ds{constructor(e=10,n=10,r=4473924,i=8947848){r=new st(r),i=new st(i);const o=n/2,a=e/n,s=e/2,l=[],c=[];for(let d=0,h=0,g=-s;d<=n;d++,g+=a){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const x=d===o?r:i;x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3,x.toArray(c,h),h+=3}const u=new Ht;u.setAttribute("position",new mt(l,3)),u.setAttribute("color",new mt(c,3));const f=new ji({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Iue extends ds{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new st(o),a=new st(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),h=Math.sin(d)*e,g=Math.cos(d)*e;s.push(0,0,0),s.push(h,0,g);const x=f&1?o:a;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const d=f&1?o:a,h=e-e/r*f;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),v=Math.sin(x)*h,y=Math.cos(x)*h;s.push(v,0,y),l.push(d.r,d.g,d.b),x=(g+1)/i*(Math.PI*2),v=Math.sin(x)*h,y=Math.cos(x)*h,s.push(v,0,y),l.push(d.r,d.g,d.b)}}const c=new Ht;c.setAttribute("position",new mt(s,3)),c.setAttribute("color",new mt(l,3));const u=new ji({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Pk=new te,Ix=new te,Ck=new te;class Nue extends en{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ht;i.setAttribute("position",new mt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ji({fog:!1,toneMapped:!1});this.lightPlane=new Ic(i,o),this.add(this.lightPlane),i=new Ht,i.setAttribute("position",new mt([0,0,0,0,0,1],3)),this.targetLine=new Ic(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Pk.setFromMatrixPosition(this.light.matrixWorld),Ix.setFromMatrixPosition(this.light.target.matrixWorld),Ck.subVectors(Ix,Pk),this.lightPlane.lookAt(Ix),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ix),this.targetLine.scale.z=Ck.length()}}const Nx=new te,Yn=new uy;class Due extends ds{constructor(e){const n=new Ht,r=new ji({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,x){l(g),l(x)}function l(g){i.push(0,0,0),o.push(0,0,0),a[g]===void 0&&(a[g]=[]),a[g].push(i.length/3-1)}n.setAttribute("position",new mt(i,3)),n.setAttribute("color",new mt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new st(16755200),u=new st(16711680),f=new st(43775),d=new st(16777215),h=new st(3355443);this.setColors(c,u,f,d,h)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Yn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sr("c",n,e,Yn,0,0,-1),sr("t",n,e,Yn,0,0,1),sr("n1",n,e,Yn,-r,-i,-1),sr("n2",n,e,Yn,r,-i,-1),sr("n3",n,e,Yn,-r,i,-1),sr("n4",n,e,Yn,r,i,-1),sr("f1",n,e,Yn,-r,-i,1),sr("f2",n,e,Yn,r,-i,1),sr("f3",n,e,Yn,-r,i,1),sr("f4",n,e,Yn,r,i,1),sr("u1",n,e,Yn,r*.7,i*1.1,-1),sr("u2",n,e,Yn,-r*.7,i*1.1,-1),sr("u3",n,e,Yn,0,i*2,-1),sr("cf1",n,e,Yn,-r,0,1),sr("cf2",n,e,Yn,r,0,1),sr("cf3",n,e,Yn,0,-i,1),sr("cf4",n,e,Yn,0,i,1),sr("cn1",n,e,Yn,-r,0,-1),sr("cn2",n,e,Yn,r,0,-1),sr("cn3",n,e,Yn,0,-i,-1),sr("cn4",n,e,Yn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function sr(t,e,n,r,i,o,a){Nx.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let c=0,u=s.length;c<u;c++)l.setXYZ(s[c],Nx.x,Nx.y,Nx.z)}}const Dx=new Yr;class Lue extends ds{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Ht;o.setIndex(new hn(r,1)),o.setAttribute("position",new hn(i,3)),super(o,new ji({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Dx.setFromObject(this.object),Dx.isEmpty())return;const n=Dx.min,r=Dx.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class kue extends ds{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Ht;o.setIndex(new hn(r,1)),o.setAttribute("position",new mt(i,3)),super(o,new ji({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Uue extends Ic{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ht;a.setAttribute("position",new mt(o,3)),a.computeBoundingSphere(),super(a,new ji({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ht;l.setAttribute("position",new mt(s,3)),l.computeBoundingSphere(),this.add(new er(l,new _l({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Rk=new te;let Lx,zM;class Fue extends en{constructor(e=new te(0,0,1),n=new te(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",Lx===void 0&&(Lx=new Ht,Lx.setAttribute("position",new mt([0,0,0,0,1,0],3)),zM=new _p(0,.5,1,5,1),zM.translate(0,-.5,0)),this.position.copy(n),this.line=new Ic(Lx,new ji({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new er(zM,new _l({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Rk.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Rk,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Bue extends ds{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new mt(n,3)),i.setAttribute("color",new mt(r,3));const o=new ji({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new st,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zue{constructor(){this.type="ShapePath",this.color=new st,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new nv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const _=[];for(let b=0,w=y.length;b<w;b++){const E=y[b],M=new af;M.curves=E.curves,_.push(M)}return _}function r(y,_){const b=_.length;let w=!1;for(let E=b-1,M=0;M<b;E=M++){let T=_[E],O=_[M],P=O.x-T.x,R=O.y-T.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(T=_[M],P=-P,O=_[E],R=-R),y.y<T.y||y.y>O.y)continue;if(y.y===T.y){if(y.x===T.x)return!0}else{const k=R*(y.x-T.x)-P*(y.y-T.y);if(k===0)return!0;if(k<0)continue;w=!w}}else{if(y.y!==T.y)continue;if(O.x<=y.x&&y.x<=T.x||T.x<=y.x&&y.x<=O.x)return!0}}return w}const i=rs.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const c=[];if(o.length===1)return s=o[0],l=new af,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const f=[],d=[];let h=[],g=0,x;d[g]=void 0,h[g]=[];for(let y=0,_=o.length;y<_;y++)s=o[y],x=s.getPoints(),a=i(x),a=e?!a:a,a?(!u&&d[g]&&g++,d[g]={s:new af,p:x},d[g].s.curves=s.curves,u&&g++,h[g]=[]):h[g].push({h:s,p:x[0]});if(!d[0])return n(o);if(d.length>1){let y=!1,_=0;for(let b=0,w=d.length;b<w;b++)f[b]=[];for(let b=0,w=d.length;b<w;b++){const E=h[b];for(let M=0;M<E.length;M++){const T=E[M];let O=!0;for(let P=0;P<d.length;P++)r(T.p,d[P].p)&&(b!==P&&_++,O?(O=!1,f[P].push(T)):y=!0);O&&f[b].push(T)}}_>0&&y===!1&&(h=f)}let v;for(let y=0,_=d.length;y<_;y++){l=d[y].s,c.push(l),v=h[y];for(let b=0,w=v.length;b<w;b++)l.holes.push(v[b].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iw);const jue=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:IR,AddEquation:Ql,AddOperation:YH,AdditiveAnimationBlendMode:jR,AdditiveBlending:VA,AgXToneMapping:eV,AlphaFormat:iV,AlwaysCompare:bV,AlwaysDepth:HH,AlwaysStencilFunc:_2,AmbientLight:bG,AnimationAction:PG,AnimationClip:lv,AnimationLoader:Vce,AnimationMixer:yue,AnimationObjectGroup:gue,AnimationUtils:Bce,ArcCurve:WV,ArrayCamera:kV,ArrowHelper:Fue,AttachedBindMode:qA,Audio:TG,AudioAnalyser:aue,AudioContext:vO,AudioListener:rue,AudioLoader:eue,AxesHelper:Bue,BackSide:Fi,BasicDepthPacking:hV,BasicShadowMap:EH,BatchedMesh:VV,Bone:nO,BooleanKeyframeTrack:Of,Box2:Eue,Box3:Yr,Box3Helper:kue,BoxGeometry:Rf,BoxHelper:Lue,BufferAttribute:hn,BufferGeometry:Ht,BufferGeometryLoader:MG,ByteType:nV,Cache:qs,Camera:uy,CameraHelper:Due,CanvasTexture:cce,CapsuleGeometry:_w,CatmullRomCurve3:XV,CineonToneMapping:JH,CircleGeometry:bw,ClampToEdgeWrapping:pi,Clock:yO,Color:st,ColorKeyframeTrack:hO,ColorManagement:ln,CompressedArrayTexture:sce,CompressedCubeTexture:lce,CompressedTexture:yw,CompressedTextureLoader:Gce,ConeGeometry:ww,ConstantAlphaFactor:BH,ConstantColorFactor:UH,CubeCamera:AV,CubeReflectionMapping:fl,CubeRefractionMapping:Rc,CubeTexture:fy,CubeTextureLoader:$ce,CubeUVReflectionMapping:yp,CubicBezierCurve:oO,CubicBezierCurve3:qV,CubicInterpolant:hG,CullFaceBack:HA,CullFaceFront:SH,CullFaceFrontBack:Kne,CullFaceNone:wH,Curve:Da,CurvePath:KV,CustomBlending:MH,CustomToneMapping:QH,CylinderGeometry:_p,Cylindrical:Sue,Data3DTexture:XR,DataArrayTexture:uw,DataTexture:of,DataTextureLoader:Wce,DataUtils:aie,DecrementStencilOp:lre,DecrementWrapStencilOp:ure,DefaultLoadingManager:gG,DepthFormat:_c,DepthStencilFormat:gf,DepthTexture:JR,DetachedBindMode:tV,DirectionalLight:_G,DirectionalLightHelper:Nue,DiscreteInterpolant:pG,DisplayP3ColorSpace:cw,DodecahedronGeometry:Sw,DoubleSide:wa,DstAlphaFactor:IH,DstColorFactor:DH,DynamicCopyUsage:Mre,DynamicDrawUsage:xre,DynamicReadUsage:wre,EdgesGeometry:ZV,EllipseCurve:xw,EqualCompare:vV,EqualDepth:GH,EqualStencilFunc:pre,EquirectangularReflectionMapping:Gg,EquirectangularRefractionMapping:$g,Euler:cy,EventDispatcher:xl,ExtrudeGeometry:Mw,FileLoader:dl,Float16BufferAttribute:die,Float32BufferAttribute:mt,Float64BufferAttribute:hie,FloatType:Ea,Fog:mw,FogExp2:pw,FramebufferTexture:ace,FrontSide:ul,Frustum:dy,GLBufferAttribute:wue,GLSL1:Are,GLSL3:b2,GreaterCompare:yV,GreaterDepth:WH,GreaterEqualCompare:_V,GreaterEqualDepth:$H,GreaterEqualStencilFunc:yre,GreaterStencilFunc:gre,GridHelper:Oue,Group:Yd,HalfFloatType:Dh,HemisphereLight:vG,HemisphereLightHelper:Rue,IcosahedronGeometry:Tw,ImageBitmapLoader:Qce,ImageLoader:cv,ImageUtils:WR,IncrementStencilOp:sre,IncrementWrapStencilOp:cre,InstancedBufferAttribute:yf,InstancedBufferGeometry:gO,InstancedInterleavedBuffer:bue,InstancedMesh:HV,Int16BufferAttribute:uie,Int32BufferAttribute:fie,Int8BufferAttribute:sie,IntType:DR,InterleavedBuffer:gw,InterleavedBufferAttribute:vf,Interpolant:gy,InterpolateDiscrete:qg,InterpolateLinear:Yg,InterpolateSmooth:A1,InvertStencilOp:fre,KeepStencilOp:Pu,KeyframeTrack:La,LOD:zV,LatheGeometry:hy,Layers:rf,LessCompare:gV,LessDepth:VH,LessEqualCompare:GR,LessEqualDepth:Vg,LessEqualStencilFunc:mre,LessStencilFunc:hre,Light:zc,LightProbe:EG,Line:Ic,Line3:Mue,LineBasicMaterial:ji,LineCurve:aO,LineCurve3:YV,LineDashedMaterial:uG,LineLoop:GV,LineSegments:ds,LinearDisplayP3ColorSpace:ly,LinearEncoding:HR,LinearFilter:Vn,LinearInterpolant:dO,LinearMipMapLinearFilter:tre,LinearMipMapNearestFilter:ere,LinearMipmapLinearFilter:Oc,LinearMipmapNearestFilter:NR,LinearSRGBColorSpace:ls,LinearToneMapping:KH,LinearTransfer:Zg,Loader:io,LoaderUtils:C2,LoadingManager:pO,LoopOnce:uV,LoopPingPong:dV,LoopRepeat:fV,LuminanceAlphaFormat:aV,LuminanceFormat:oV,MOUSE:Tu,Material:yi,MaterialLoader:Nw,MathUtils:Hre,Matrix3:Ft,Matrix4:Ct,MaxEquation:XA,Mesh:er,MeshBasicMaterial:_l,MeshDepthMaterial:dw,MeshDistanceMaterial:hw,MeshLambertMaterial:lG,MeshMatcapMaterial:cG,MeshNormalMaterial:sG,MeshPhongMaterial:oG,MeshPhysicalMaterial:iG,MeshStandardMaterial:uO,MeshToonMaterial:aG,MinEquation:WA,MirroredRepeatWrapping:Xg,MixOperation:qH,MultiplyBlending:$A,MultiplyOperation:sy,NearestFilter:lr,NearestMipMapLinearFilter:Qne,NearestMipMapNearestFilter:Jne,NearestMipmapLinearFilter:rg,NearestMipmapNearestFilter:p_,NeverCompare:mV,NeverDepth:jH,NeverStencilFunc:dre,NoBlending:Qs,NoColorSpace:wo,NoToneMapping:ts,NormalAnimationBlendMode:lw,NormalBlending:tf,NotEqualCompare:xV,NotEqualDepth:XH,NotEqualStencilFunc:vre,NumberKeyframeTrack:av,Object3D:en,ObjectLoader:Zce,ObjectSpaceNormalMap:pV,OctahedronGeometry:py,OneFactor:CH,OneMinusConstantAlphaFactor:zH,OneMinusConstantColorFactor:FH,OneMinusDstAlphaFactor:NH,OneMinusDstColorFactor:LH,OneMinusSrcAlphaFactor:h_,OneMinusSrcColorFactor:OH,OrthographicCamera:wc,P3Primaries:Qg,PCFShadowMap:ow,PCFSoftShadowMap:ng,PMREMGenerator:S2,Path:nv,PerspectiveCamera:ur,Plane:js,PlaneGeometry:Fc,PlaneHelper:Uue,PointLight:xG,PointLightHelper:Pue,Points:$V,PointsMaterial:rO,PolarGridHelper:Iue,PolyhedronGeometry:Bc,PositionalAudio:oue,PropertyBinding:Yt,PropertyMixer:AG,QuadraticBezierCurve:sO,QuadraticBezierCurve3:lO,Quaternion:gi,QuaternionKeyframeTrack:bp,QuaternionLinearInterpolant:mG,RED_GREEN_RGTC2_Format:y2,RED_RGTC1_Format:cV,REVISION:iw,RGBADepthPacking:VR,RGBAFormat:Ni,RGBAIntegerFormat:BR,RGBA_ASTC_10x10_Format:d2,RGBA_ASTC_10x5_Format:c2,RGBA_ASTC_10x6_Format:u2,RGBA_ASTC_10x8_Format:f2,RGBA_ASTC_12x10_Format:h2,RGBA_ASTC_12x12_Format:p2,RGBA_ASTC_4x4_Format:t2,RGBA_ASTC_5x4_Format:n2,RGBA_ASTC_5x5_Format:r2,RGBA_ASTC_6x5_Format:i2,RGBA_ASTC_6x6_Format:o2,RGBA_ASTC_8x5_Format:a2,RGBA_ASTC_8x6_Format:s2,RGBA_ASTC_8x8_Format:l2,RGBA_BPTC_Format:T1,RGBA_ETC2_EAC_Format:e2,RGBA_PVRTC_2BPPV1_Format:JA,RGBA_PVRTC_4BPPV1_Format:ZA,RGBA_S3TC_DXT1_Format:S1,RGBA_S3TC_DXT3_Format:E1,RGBA_S3TC_DXT5_Format:M1,RGB_BPTC_SIGNED_Format:m2,RGB_BPTC_UNSIGNED_Format:g2,RGB_ETC1_Format:zR,RGB_ETC2_Format:QA,RGB_PVRTC_2BPPV1_Format:KA,RGB_PVRTC_4BPPV1_Format:YA,RGB_S3TC_DXT1_Format:w1,RGFormat:lV,RGIntegerFormat:FR,RawShaderMaterial:rG,Ray:Cf,Raycaster:CG,Rec709Primaries:Jg,RectAreaLight:wG,RedFormat:sV,RedIntegerFormat:UR,ReinhardToneMapping:ZH,RenderTarget:EV,RepeatWrapping:Wg,ReplaceStencilOp:are,ReverseSubtractEquation:AH,RingGeometry:Aw,SIGNED_RED_GREEN_RGTC2_Format:x2,SIGNED_RED_RGTC1_Format:v2,SRGBColorSpace:Er,SRGBTransfer:wn,Scene:eO,ShaderChunk:kt,ShaderLib:ba,ShaderMaterial:cs,ShadowMaterial:nG,Shape:af,ShapeGeometry:Pw,ShapePath:zue,ShapeUtils:rs,ShortType:rV,Skeleton:vw,SkeletonHelper:Aue,SkinnedMesh:jV,Source:zu,Sphere:Kr,SphereGeometry:my,Spherical:O2,SphericalHarmonics3:SG,SplineCurve:cO,SpotLight:yG,SpotLightHelper:Tue,Sprite:BV,SpriteMaterial:tO,SrcAlphaFactor:d_,SrcAlphaSaturateFactor:kH,SrcColorFactor:RH,StaticCopyUsage:Ere,StaticDrawUsage:ev,StaticReadUsage:bre,StereoCamera:tue,StreamCopyUsage:Tre,StreamDrawUsage:_re,StreamReadUsage:Sre,StringKeyframeTrack:If,SubtractEquation:TH,SubtractiveBlending:GA,TOUCH:Au,TangentSpaceNormalMap:Uc,TetrahedronGeometry:Cw,Texture:tr,TextureLoader:Xce,TorusGeometry:Rw,TorusKnotGeometry:Ow,Triangle:Ki,TriangleFanDrawMode:ire,TriangleStripDrawMode:rre,TrianglesDrawMode:nre,TubeGeometry:Iw,TwoPassDoubleSide:Zne,UVMapping:aw,Uint16BufferAttribute:qR,Uint32BufferAttribute:YR,Uint8BufferAttribute:lie,Uint8ClampedBufferAttribute:cie,Uniform:bO,UniformsGroup:_ue,UniformsLib:nt,UniformsUtils:KR,UnsignedByteType:ns,UnsignedInt248Type:xc,UnsignedIntType:Xs,UnsignedShort4444Type:LR,UnsignedShort5551Type:kR,UnsignedShortType:sw,VSMShadowMap:ma,Vector2:Ue,Vector3:te,Vector4:nn,VectorKeyframeTrack:sv,VideoTexture:oce,WebGL1Renderer:UV,WebGL3DRenderTarget:qre,WebGLArrayRenderTarget:Xre,WebGLCoordinateSystem:Ma,WebGLCubeRenderTarget:PV,WebGLMultipleRenderTargets:Yre,WebGLRenderTarget:Ia,WebGLRenderer:QR,WebGLUtils:LV,WebGPUCoordinateSystem:Lh,WireframeGeometry:tG,WrapAroundEnding:Kg,ZeroCurvatureEnding:Fu,ZeroFactor:PH,ZeroSlopeEnding:Bu,ZeroStencilOp:ore,_SRGBAFormat:m_,createCanvasElement:SV,sRGBEncoding:bc},Symbol.toStringTag,{value:"Module"}));var OG={exports:{}},Nf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Nf.ConcurrentRoot=1;Nf.ContinuousEventPriority=4;Nf.DefaultEventPriority=16;Nf.DiscreteEventPriority=1;Nf.IdleEventPriority=536870912;Nf.LegacyRoot=0;OG.exports=Nf;var Zd=OG.exports;function Hue(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(h=>h(e,d))}},i=()=>e,o=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function h(){const g=u(e);if(!f(d,g)){const x=d;c(d=g,x)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?o(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Vue=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ok=Vue?L.useEffect:L.useLayoutEffect;function Gue(t){const e=typeof t=="function"?Hue(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=L.useReducer(v=>v+1,0),a=e.getState(),s=L.useRef(a),l=L.useRef(r),c=L.useRef(i),u=L.useRef(!1),f=L.useRef();f.current===void 0&&(f.current=r(a));let d,h=!1;(s.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),h=!i(f.current,d)),Ok(()=>{h&&(f.current=d),s.current=a,l.current=r,c.current=i,u.current=!1});const g=L.useRef(a);Ok(()=>{const v=()=>{try{const _=e.getState(),b=l.current(_);c.current(f.current,b)||(s.current=_,f.current=b,o())}catch{u.current=!0,o()}},y=e.subscribe(v);return e.getState()!==g.current&&v(),y},[]);const x=h?d:f.current;return L.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const $ue=t=>typeof t=="object"&&typeof t.then=="function",kx=[];function Wue(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Xue(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of kx)if(Wue(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=kx.indexOf(i);o!==-1&&kx.splice(o,1)},promise:($ue(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(kx.push(i),!n)throw i.promise}const que=(t,e,n)=>Xue(t,e,!1,n);var IG={exports:{}},jM={exports:{}},HM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik;function Yue(){return Ik||(Ik=1,function(t){function e(U,F){var j=U.length;U.push(F);e:for(;0<j;){var z=j-1>>>1,X=U[z];if(0<i(X,F))U[z]=F,U[j]=X,j=z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],j=U.pop();if(j!==F){U[0]=j;e:for(var z=0,X=U.length,q=X>>>1;z<q;){var Z=2*(z+1)-1,ne=U[Z],se=Z+1,ae=U[se];if(0>i(ne,j))se<X&&0>i(ae,ne)?(U[z]=ae,U[se]=j,z=se):(U[z]=ne,U[Z]=j,z=Z);else if(se<X&&0>i(ae,j))U[z]=ae,U[se]=j,z=se;else break e}}return F}function i(U,F){var j=U.sortIndex-F.sortIndex;return j!==0?j:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=U)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(U){if(x=!1,b(U),!g)if(n(l)!==null)g=!0,H(E);else{var F=n(c);F!==null&&K(w,F.startTime-U)}}function E(U,F){g=!1,x&&(x=!1,y(O),O=-1),h=!0;var j=d;try{for(b(F),f=n(l);f!==null&&(!(f.expirationTime>F)||U&&!k());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var X=z(f.expirationTime<=F);F=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),b(F)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var Z=n(c);Z!==null&&K(w,Z.startTime-F),q=!1}return q}finally{f=null,d=j,h=!1}}var M=!1,T=null,O=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function D(){if(T!==null){var U=t.unstable_now();R=U;var F=!0;try{F=T(!0,U)}finally{F?G():(M=!1,T=null)}}else M=!1}var G;if(typeof _=="function")G=function(){_(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=D,G=function(){$.postMessage(null)}}else G=function(){v(D,0)};function H(U){T=U,M||(M=!0,G())}function K(U,F){O=v(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,H(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var j=d;d=F;try{return U()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=d;d=U;try{return F()}finally{d=j}},t.unstable_scheduleCallback=function(U,F,j){var z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,U={id:u++,callback:F,priorityLevel:U,startTime:j,expirationTime:X,sortIndex:-1},j>z?(U.sortIndex=j,e(c,U),n(l)===null&&U===n(c)&&(x?(y(O),O=-1):x=!0,K(w,j-z))):(U.sortIndex=X,e(l,U),g||h||(g=!0,H(E))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var F=d;return function(){var j=d;d=F;try{return U.apply(this,arguments)}finally{d=j}}}}(HM)),HM}var Nk;function Kue(){return Nk||(Nk=1,jM.exports=Yue()),jM.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zue=function(e){var n={},r=L,i=Kue(),o=Object.assign;function a(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}function T(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Consumer";case h:return(p._context.displayName||"Context")+".Provider";case x:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case _:return m=p.displayName||null,m!==null?m:T(p.type)||"Memo";case b:m=p._payload,p=p._init;try{return T(p(m))}catch{}}return null}function O(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function P(p){var m=p,S=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(S=m.return),p=m.return;while(p)}return m.tag===3?S:null}function R(p){if(P(p)!==p)throw Error(a(188))}function k(p){var m=p.alternate;if(!m){if(m=P(p),m===null)throw Error(a(188));return m!==p?null:p}for(var S=p,A=m;;){var I=S.return;if(I===null)break;var B=I.alternate;if(B===null){if(A=I.return,A!==null){S=A;continue}break}if(I.child===B.child){for(B=I.child;B;){if(B===S)return R(I),p;if(B===A)return R(I),m;B=B.sibling}throw Error(a(188))}if(S.return!==A.return)S=I,A=B;else{for(var re=!1,de=I.child;de;){if(de===S){re=!0,S=I,A=B;break}if(de===A){re=!0,A=I,S=B;break}de=de.sibling}if(!re){for(de=B.child;de;){if(de===S){re=!0,S=B,A=I;break}if(de===A){re=!0,A=B,S=I;break}de=de.sibling}if(!re)throw Error(a(189))}}if(S.alternate!==A)throw Error(a(190))}if(S.tag!==3)throw Error(a(188));return S.stateNode.current===S?p:m}function D(p){return p=k(p),p!==null?G(p):null}function G(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=G(p);if(m!==null)return m;p=p.sibling}return null}function N(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=N(p);if(m!==null)return m}p=p.sibling}return null}var $=Array.isArray,H=e.getPublicInstance,K=e.getRootHostContext,U=e.getChildHostContext,F=e.prepareForCommit,j=e.resetAfterCommit,z=e.createInstance,X=e.appendInitialChild,q=e.finalizeInitialChildren,Z=e.prepareUpdate,ne=e.shouldSetTextContent,se=e.createTextInstance,ae=e.scheduleTimeout,ge=e.cancelTimeout,ce=e.noTimeout,ve=e.isPrimaryRenderer,he=e.supportsMutation,V=e.supportsPersistence,ye=e.supportsHydration,le=e.getInstanceFromNode,we=e.preparePortalMount,ue=e.getCurrentEventPriority,Fe=e.detachDeletedInstance,xe=e.supportsMicrotasks,Y=e.scheduleMicrotask,W=e.supportsTestSelectors,ee=e.findFiberRoot,be=e.getBoundingRect,fe=e.getTextContent,me=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,Be=e.setFocusIfFocusable,Re=e.setupIntersectionObserver,Ve=e.appendChild,qe=e.appendChildToContainer,Ae=e.commitTextUpdate,lt=e.commitMount,rt=e.commitUpdate,Ye=e.insertBefore,He=e.insertInContainerBefore,Ne=e.removeChild,ie=e.removeChildFromContainer,Pe=e.resetTextContent,Qe=e.hideInstance,$e=e.hideTextInstance,Ee=e.unhideInstance,oe=e.unhideTextInstance,Xe=e.clearContainer,je=e.cloneInstance,Je=e.createContainerChildSet,Le=e.appendChildToContainerChildSet,Ze=e.finalizeContainerChildren,We=e.replaceContainerChildren,ht=e.cloneHiddenInstance,bt=e.cloneHiddenTextInstance,gt=e.canHydrateInstance,Ot=e.canHydrateTextInstance,Xt=e.canHydrateSuspenseInstance,Fn=e.isSuspenseInstancePending,xi=e.isSuspenseInstanceFallback,_i=e.registerSuspenseInstanceRetry,Jr=e.getNextHydratableSibling,Qr=e.getFirstHydratableChild,fr=e.getFirstHydratableChildWithinContainer,Io=e.getFirstHydratableChildWithinSuspenseInstance,Ff=e.hydrateInstance,Wc=e.hydrateTextInstance,Lp=e.hydrateSuspenseInstance,Q=e.getNextHydratableInstanceAfterSuspenseInstance,_e=e.commitHydratedContainer,Te=e.commitHydratedSuspenseInstance,Ce=e.clearSuspenseBoundary,Me=e.clearSuspenseBoundaryFromContainer,it=e.shouldDeleteUnhydratedTailInstances,pt=e.didNotMatchHydratedContainerTextInstance,xt=e.didNotMatchHydratedTextInstance,Ge;function Mt(p){if(Ge===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);Ge=m&&m[1]||""}return`
`+Ge+p}var At=!1;function wt(p,m){if(!p||At)return"";At=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(et){var A=et}Reflect.construct(p,[],m)}else{try{m.call()}catch(et){A=et}p.call(m.prototype)}else{try{throw Error()}catch(et){A=et}p()}}catch(et){if(et&&A&&typeof et.stack=="string"){for(var I=et.stack.split(`
`),B=A.stack.split(`
`),re=I.length-1,de=B.length-1;1<=re&&0<=de&&I[re]!==B[de];)de--;for(;1<=re&&0<=de;re--,de--)if(I[re]!==B[de]){if(re!==1||de!==1)do if(re--,de--,0>de||I[re]!==B[de]){var De=`
`+I[re].replace(" at new "," at ");return p.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",p.displayName)),De}while(1<=re&&0<=de);break}}}finally{At=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?Mt(p):""}var mn=Object.prototype.hasOwnProperty,dr=[],sn=-1;function Bn(p){return{current:p}}function _t(p){0>sn||(p.current=dr[sn],dr[sn]=null,sn--)}function ct(p,m){sn++,dr[sn]=p.current,p.current=m}var Hr={},Lt=Bn(Hr),bn=Bn(!1),ao=Hr;function Or(p,m){var S=p.type.contextTypes;if(!S)return Hr;var A=p.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===m)return A.__reactInternalMemoizedMaskedChildContext;var I={},B;for(B in S)I[B]=m[B];return A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=I),I}function Xn(p){return p=p.childContextTypes,p!=null}function gn(){_t(bn),_t(Lt)}function Hi(p,m,S){if(Lt.current!==Hr)throw Error(a(168));ct(Lt,m),ct(bn,S)}function Ua(p,m,S){var A=p.stateNode;if(m=m.childContextTypes,typeof A.getChildContext!="function")return S;A=A.getChildContext();for(var I in A)if(!(I in m))throw Error(a(108,O(p)||"Unknown",I));return o({},S,A)}function rr(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Hr,ao=Lt.current,ct(Lt,p),ct(bn,bn.current),!0}function Vr(p,m,S){var A=p.stateNode;if(!A)throw Error(a(169));S?(p=Ua(p,m,ao),A.__reactInternalMemoizedMergedChildContext=p,_t(bn),_t(Lt),ct(Lt,p)):_t(bn),ct(bn,S)}var bi=Math.clz32?Math.clz32:Py,gs=Math.log,Xc=Math.LN2;function Py(p){return p>>>=0,p===0?32:31-(gs(p)/Xc|0)|0}var vs=64,ys=4194304;function xs(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function qc(p,m){var S=p.pendingLanes;if(S===0)return 0;var A=0,I=p.suspendedLanes,B=p.pingedLanes,re=S&268435455;if(re!==0){var de=re&~I;de!==0?A=xs(de):(B&=re,B!==0&&(A=xs(B)))}else re=S&~I,re!==0?A=xs(re):B!==0&&(A=xs(B));if(A===0)return 0;if(m!==0&&m!==A&&!(m&I)&&(I=A&-A,B=m&-m,I>=B||I===16&&(B&4194240)!==0))return m;if(A&4&&(A|=S&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=A;0<m;)S=31-bi(m),I=1<<S,A|=p[S],m&=~I;return A}function Cy(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kp(p,m){for(var S=p.suspendedLanes,A=p.pingedLanes,I=p.expirationTimes,B=p.pendingLanes;0<B;){var re=31-bi(B),de=1<<re,De=I[re];De===-1?(!(de&S)||de&A)&&(I[re]=Cy(de,m)):De<=m&&(p.expiredLanes|=de),B&=~de}}function _s(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Bf(p){for(var m=[],S=0;31>S;S++)m.push(p);return m}function Fa(p,m,S){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-bi(m),p[m]=S}function El(p,m){var S=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var A=p.eventTimes;for(p=p.expirationTimes;0<S;){var I=31-bi(S),B=1<<I;m[I]=0,A[I]=-1,p[I]=-1,S&=~B}}function Ba(p,m){var S=p.entangledLanes|=m;for(p=p.entanglements;S;){var A=31-bi(S),I=1<<A;I&m|p[A]&m&&(p[A]|=m),S&=~I}}var Gt=0;function Up(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var bs=i.unstable_scheduleCallback,zf=i.unstable_cancelCallback,Fp=i.unstable_shouldYield,Ry=i.unstable_requestPaint,zn=i.unstable_now,Yc=i.unstable_ImmediatePriority,Oy=i.unstable_UserBlockingPriority,wi=i.unstable_NormalPriority,Bp=i.unstable_IdlePriority,Kc=null,so=null;function zp(p){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(Kc,p,void 0,(p.current.flags&128)===128)}catch{}}function Iy(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var lo=typeof Object.is=="function"?Object.is:Iy,Si=null,za=!1,No=!1;function jp(p){Si===null?Si=[p]:Si.push(p)}function Hp(p){za=!0,jp(p)}function Vi(){if(!No&&Si!==null){No=!0;var p=0,m=Gt;try{var S=Si;for(Gt=1;p<S.length;p++){var A=S[p];do A=A(!0);while(A!==null)}Si=null,za=!1}catch(I){throw Si!==null&&(Si=Si.slice(p+1)),bs(Yc,Vi),I}finally{Gt=m,No=!1}}return null}var Zc=s.ReactCurrentBatchConfig;function Jc(p,m){if(lo(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var S=Object.keys(p),A=Object.keys(m);if(S.length!==A.length)return!1;for(A=0;A<S.length;A++){var I=S[A];if(!mn.call(m,I)||!lo(p[I],m[I]))return!1}return!0}function Qc(p){switch(p.tag){case 5:return Mt(p.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return p=wt(p.type,!1),p;case 11:return p=wt(p.type.render,!1),p;case 1:return p=wt(p.type,!0),p;default:return""}}function Ei(p,m){if(p&&p.defaultProps){m=o({},m),p=p.defaultProps;for(var S in p)m[S]===void 0&&(m[S]=p[S]);return m}return m}var Ir=Bn(null),jf=null,oa=null,Ml=null;function Hf(){Ml=oa=jf=null}function Ny(p,m,S){ve?(ct(Ir,m._currentValue),m._currentValue=S):(ct(Ir,m._currentValue2),m._currentValue2=S)}function Nr(p){var m=Ir.current;_t(Ir),ve?p._currentValue=m:p._currentValue2=m}function Mi(p,m,S){for(;p!==null;){var A=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,A!==null&&(A.childLanes|=m)):A!==null&&(A.childLanes&m)!==m&&(A.childLanes|=m),p===S)break;p=p.return}}function ir(p,m){jf=p,Ml=oa=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(ho=!0),p.firstContext=null)}function or(p){var m=ve?p._currentValue:p._currentValue2;if(Ml!==p)if(p={context:p,memoizedValue:m,next:null},oa===null){if(jf===null)throw Error(a(308));oa=p,jf.dependencies={lanes:0,firstContext:p}}else oa=oa.next=p;return m}var co=null,Tl=!1;function CS(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NI(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function ws(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Al(p,m){var S=p.updateQueue;S!==null&&(S=S.shared,hr!==null&&p.mode&1&&!(Vt&2)?(p=S.interleaved,p===null?(m.next=m,co===null?co=[S]:co.push(S)):(m.next=p.next,p.next=m),S.interleaved=m):(p=S.pending,p===null?m.next=m:(m.next=p.next,p.next=m),S.pending=m))}function Dy(p,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var A=m.lanes;A&=p.pendingLanes,S|=A,m.lanes=S,Ba(p,S)}}function DI(p,m){var S=p.updateQueue,A=p.alternate;if(A!==null&&(A=A.updateQueue,S===A)){var I=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var re={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};B===null?I=B=re:B=B.next=re,S=S.next}while(S!==null);B===null?I=B=m:B=B.next=m}else I=B=m;S={baseState:A.baseState,firstBaseUpdate:I,lastBaseUpdate:B,shared:A.shared,effects:A.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=m:p.next=m,S.lastBaseUpdate=m}function Ly(p,m,S,A){var I=p.updateQueue;Tl=!1;var B=I.firstBaseUpdate,re=I.lastBaseUpdate,de=I.shared.pending;if(de!==null){I.shared.pending=null;var De=de,et=De.next;De.next=null,re===null?B=et:re.next=et,re=De;var dt=p.alternate;dt!==null&&(dt=dt.updateQueue,de=dt.lastBaseUpdate,de!==re&&(de===null?dt.firstBaseUpdate=et:de.next=et,dt.lastBaseUpdate=De))}if(B!==null){var It=I.baseState;re=0,dt=et=De=null,de=B;do{var St=de.lane,xn=de.eventTime;if((A&St)===St){dt!==null&&(dt=dt.next={eventTime:xn,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var yt=p,ri=de;switch(St=m,xn=S,ri.tag){case 1:if(yt=ri.payload,typeof yt=="function"){It=yt.call(xn,It,St);break e}It=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ri.payload,St=typeof yt=="function"?yt.call(xn,It,St):yt,St==null)break e;It=o({},It,St);break e;case 2:Tl=!0}}de.callback!==null&&de.lane!==0&&(p.flags|=64,St=I.effects,St===null?I.effects=[de]:St.push(de))}else xn={eventTime:xn,lane:St,tag:de.tag,payload:de.payload,callback:de.callback,next:null},dt===null?(et=dt=xn,De=It):dt=dt.next=xn,re|=St;if(de=de.next,de===null){if(de=I.shared.pending,de===null)break;St=de,de=St.next,St.next=null,I.lastBaseUpdate=St,I.shared.pending=null}}while(!0);if(dt===null&&(De=It),I.baseState=De,I.firstBaseUpdate=et,I.lastBaseUpdate=dt,m=I.shared.interleaved,m!==null){I=m;do re|=I.lane,I=I.next;while(I!==m)}else B===null&&(I.shared.lanes=0);Zf|=re,p.lanes=re,p.memoizedState=It}}function LI(p,m,S){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var A=p[m],I=A.callback;if(I!==null){if(A.callback=null,A=S,typeof I!="function")throw Error(a(191,I));I.call(A)}}}var kI=new r.Component().refs;function RS(p,m,S,A){m=p.memoizedState,S=S(A,m),S=S==null?m:o({},m,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var ky={isMounted:function(p){return(p=p._reactInternals)?P(p)===p:!1},enqueueSetState:function(p,m,S){p=p._reactInternals;var A=Ai(),I=Rl(p),B=ws(A,I);B.payload=m,S!=null&&(B.callback=S),Al(p,B),m=Fo(p,I,A),m!==null&&Dy(m,p,I)},enqueueReplaceState:function(p,m,S){p=p._reactInternals;var A=Ai(),I=Rl(p),B=ws(A,I);B.tag=1,B.payload=m,S!=null&&(B.callback=S),Al(p,B),m=Fo(p,I,A),m!==null&&Dy(m,p,I)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var S=Ai(),A=Rl(p),I=ws(S,A);I.tag=2,m!=null&&(I.callback=m),Al(p,I),m=Fo(p,A,S),m!==null&&Dy(m,p,A)}};function UI(p,m,S,A,I,B,re){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(A,B,re):m.prototype&&m.prototype.isPureReactComponent?!Jc(S,A)||!Jc(I,B):!0}function FI(p,m,S){var A=!1,I=Hr,B=m.contextType;return typeof B=="object"&&B!==null?B=or(B):(I=Xn(m)?ao:Lt.current,A=m.contextTypes,B=(A=A!=null)?Or(p,I):Hr),m=new m(S,B),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ky,p.stateNode=m,m._reactInternals=p,A&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=I,p.__reactInternalMemoizedMaskedChildContext=B),m}function BI(p,m,S,A){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,A),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,A),m.state!==p&&ky.enqueueReplaceState(m,m.state,null)}function OS(p,m,S,A){var I=p.stateNode;I.props=S,I.state=p.memoizedState,I.refs=kI,CS(p);var B=m.contextType;typeof B=="object"&&B!==null?I.context=or(B):(B=Xn(m)?ao:Lt.current,I.context=Or(p,B)),I.state=p.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(RS(p,m,B,S),I.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(m=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),m!==I.state&&ky.enqueueReplaceState(I,I.state,null),Ly(p,S,I,A),I.state=p.memoizedState),typeof I.componentDidMount=="function"&&(p.flags|=4194308)}var Vf=[],Gf=0,Uy=null,Fy=0,Do=[],Lo=0,eu=null,Ss=1,Es="";function tu(p,m){Vf[Gf++]=Fy,Vf[Gf++]=Uy,Uy=p,Fy=m}function zI(p,m,S){Do[Lo++]=Ss,Do[Lo++]=Es,Do[Lo++]=eu,eu=p;var A=Ss;p=Es;var I=32-bi(A)-1;A&=~(1<<I),S+=1;var B=32-bi(m)+I;if(30<B){var re=I-I%5;B=(A&(1<<re)-1).toString(32),A>>=re,I-=re,Ss=1<<32-bi(m)+I|S<<I|A,Es=B+p}else Ss=1<<B|S<<I|A,Es=p}function IS(p){p.return!==null&&(tu(p,1),zI(p,1,0))}function NS(p){for(;p===Uy;)Uy=Vf[--Gf],Vf[Gf]=null,Fy=Vf[--Gf],Vf[Gf]=null;for(;p===eu;)eu=Do[--Lo],Do[Lo]=null,Es=Do[--Lo],Do[Lo]=null,Ss=Do[--Lo],Do[Lo]=null}var uo=null,fo=null,Ln=!1,Vp=!1,aa=null;function jI(p,m){var S=Bo(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=p,m=p.deletions,m===null?(p.deletions=[S],p.flags|=16):m.push(S)}function HI(p,m){switch(p.tag){case 5:return m=gt(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,uo=p,fo=Qr(m),!0):!1;case 6:return m=Ot(m,p.pendingProps),m!==null?(p.stateNode=m,uo=p,fo=null,!0):!1;case 13:if(m=Xt(m),m!==null){var S=eu!==null?{id:Ss,overflow:Es}:null;return p.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=Bo(18,null,null,0),S.stateNode=m,S.return=p,p.child=S,uo=p,fo=null,!0}return!1;default:return!1}}function DS(p){return(p.mode&1)!==0&&(p.flags&128)===0}function LS(p){if(Ln){var m=fo;if(m){var S=m;if(!HI(p,m)){if(DS(p))throw Error(a(418));m=Jr(S);var A=uo;m&&HI(p,m)?jI(A,S):(p.flags=p.flags&-4097|2,Ln=!1,uo=p)}}else{if(DS(p))throw Error(a(418));p.flags=p.flags&-4097|2,Ln=!1,uo=p}}}function VI(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;uo=p}function Gp(p){if(!ye||p!==uo)return!1;if(!Ln)return VI(p),Ln=!0,!1;if(p.tag!==3&&(p.tag!==5||it(p.type)&&!ne(p.type,p.memoizedProps))){var m=fo;if(m){if(DS(p)){for(p=fo;p;)p=Jr(p);throw Error(a(418))}for(;m;)jI(p,m),m=Jr(m)}}if(VI(p),p.tag===13){if(!ye)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));fo=Q(p)}else fo=uo?Jr(p.stateNode):null;return!0}function $f(){ye&&(fo=uo=null,Vp=Ln=!1)}function kS(p){aa===null?aa=[p]:aa.push(p)}function $p(p,m,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(a(309));var A=S.stateNode}if(!A)throw Error(a(147,p));var I=A,B=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===B?m.ref:(m=function(re){var de=I.refs;de===kI&&(de=I.refs={}),re===null?delete de[B]:de[B]=re},m._stringRef=B,m)}if(typeof p!="string")throw Error(a(284));if(!S._owner)throw Error(a(290,p))}return p}function By(p,m){throw p=Object.prototype.toString.call(m),Error(a(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function GI(p){var m=p._init;return m(p._payload)}function $I(p){function m(Se,pe){if(p){var Oe=Se.deletions;Oe===null?(Se.deletions=[pe],Se.flags|=16):Oe.push(pe)}}function S(Se,pe){if(!p)return null;for(;pe!==null;)m(Se,pe),pe=pe.sibling;return null}function A(Se,pe){for(Se=new Map;pe!==null;)pe.key!==null?Se.set(pe.key,pe):Se.set(pe.index,pe),pe=pe.sibling;return Se}function I(Se,pe){return Se=Il(Se,pe),Se.index=0,Se.sibling=null,Se}function B(Se,pe,Oe){return Se.index=Oe,p?(Oe=Se.alternate,Oe!==null?(Oe=Oe.index,Oe<pe?(Se.flags|=2,pe):Oe):(Se.flags|=2,pe)):(Se.flags|=1048576,pe)}function re(Se){return p&&Se.alternate===null&&(Se.flags|=2),Se}function de(Se,pe,Oe,at){return pe===null||pe.tag!==6?(pe=xE(Oe,Se.mode,at),pe.return=Se,pe):(pe=I(pe,Oe),pe.return=Se,pe)}function De(Se,pe,Oe,at){var vt=Oe.type;return vt===u?dt(Se,pe,Oe.props.children,at,Oe.key):pe!==null&&(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&GI(vt)===pe.type)?(at=I(pe,Oe.props),at.ref=$p(Se,pe,Oe),at.return=Se,at):(at=g0(Oe.type,Oe.key,Oe.props,null,Se.mode,at),at.ref=$p(Se,pe,Oe),at.return=Se,at)}function et(Se,pe,Oe,at){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Oe.containerInfo||pe.stateNode.implementation!==Oe.implementation?(pe=_E(Oe,Se.mode,at),pe.return=Se,pe):(pe=I(pe,Oe.children||[]),pe.return=Se,pe)}function dt(Se,pe,Oe,at,vt){return pe===null||pe.tag!==7?(pe=lu(Oe,Se.mode,at,vt),pe.return=Se,pe):(pe=I(pe,Oe),pe.return=Se,pe)}function It(Se,pe,Oe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=xE(""+pe,Se.mode,Oe),pe.return=Se,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Oe=g0(pe.type,pe.key,pe.props,null,Se.mode,Oe),Oe.ref=$p(Se,null,pe),Oe.return=Se,Oe;case c:return pe=_E(pe,Se.mode,Oe),pe.return=Se,pe;case b:var at=pe._init;return It(Se,at(pe._payload),Oe)}if($(pe)||M(pe))return pe=lu(pe,Se.mode,Oe,null),pe.return=Se,pe;By(Se,pe)}return null}function St(Se,pe,Oe,at){var vt=pe!==null?pe.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return vt!==null?null:de(Se,pe,""+Oe,at);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return Oe.key===vt?De(Se,pe,Oe,at):null;case c:return Oe.key===vt?et(Se,pe,Oe,at):null;case b:return vt=Oe._init,St(Se,pe,vt(Oe._payload),at)}if($(Oe)||M(Oe))return vt!==null?null:dt(Se,pe,Oe,at,null);By(Se,Oe)}return null}function xn(Se,pe,Oe,at,vt){if(typeof at=="string"&&at!==""||typeof at=="number")return Se=Se.get(Oe)||null,de(pe,Se,""+at,vt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case l:return Se=Se.get(at.key===null?Oe:at.key)||null,De(pe,Se,at,vt);case c:return Se=Se.get(at.key===null?Oe:at.key)||null,et(pe,Se,at,vt);case b:var jt=at._init;return xn(Se,pe,Oe,jt(at._payload),vt)}if($(at)||M(at))return Se=Se.get(Oe)||null,dt(pe,Se,at,vt,null);By(pe,at)}return null}function yt(Se,pe,Oe,at){for(var vt=null,jt=null,Nt=pe,Zt=pe=0,Lr=null;Nt!==null&&Zt<Oe.length;Zt++){Nt.index>Zt?(Lr=Nt,Nt=null):Lr=Nt.sibling;var Jt=St(Se,Nt,Oe[Zt],at);if(Jt===null){Nt===null&&(Nt=Lr);break}p&&Nt&&Jt.alternate===null&&m(Se,Nt),pe=B(Jt,pe,Zt),jt===null?vt=Jt:jt.sibling=Jt,jt=Jt,Nt=Lr}if(Zt===Oe.length)return S(Se,Nt),Ln&&tu(Se,Zt),vt;if(Nt===null){for(;Zt<Oe.length;Zt++)Nt=It(Se,Oe[Zt],at),Nt!==null&&(pe=B(Nt,pe,Zt),jt===null?vt=Nt:jt.sibling=Nt,jt=Nt);return Ln&&tu(Se,Zt),vt}for(Nt=A(Se,Nt);Zt<Oe.length;Zt++)Lr=xn(Nt,Se,Zt,Oe[Zt],at),Lr!==null&&(p&&Lr.alternate!==null&&Nt.delete(Lr.key===null?Zt:Lr.key),pe=B(Lr,pe,Zt),jt===null?vt=Lr:jt.sibling=Lr,jt=Lr);return p&&Nt.forEach(function(Nl){return m(Se,Nl)}),Ln&&tu(Se,Zt),vt}function ri(Se,pe,Oe,at){var vt=M(Oe);if(typeof vt!="function")throw Error(a(150));if(Oe=vt.call(Oe),Oe==null)throw Error(a(151));for(var jt=vt=null,Nt=pe,Zt=pe=0,Lr=null,Jt=Oe.next();Nt!==null&&!Jt.done;Zt++,Jt=Oe.next()){Nt.index>Zt?(Lr=Nt,Nt=null):Lr=Nt.sibling;var Nl=St(Se,Nt,Jt.value,at);if(Nl===null){Nt===null&&(Nt=Lr);break}p&&Nt&&Nl.alternate===null&&m(Se,Nt),pe=B(Nl,pe,Zt),jt===null?vt=Nl:jt.sibling=Nl,jt=Nl,Nt=Lr}if(Jt.done)return S(Se,Nt),Ln&&tu(Se,Zt),vt;if(Nt===null){for(;!Jt.done;Zt++,Jt=Oe.next())Jt=It(Se,Jt.value,at),Jt!==null&&(pe=B(Jt,pe,Zt),jt===null?vt=Jt:jt.sibling=Jt,jt=Jt);return Ln&&tu(Se,Zt),vt}for(Nt=A(Se,Nt);!Jt.done;Zt++,Jt=Oe.next())Jt=xn(Nt,Se,Zt,Jt.value,at),Jt!==null&&(p&&Jt.alternate!==null&&Nt.delete(Jt.key===null?Zt:Jt.key),pe=B(Jt,pe,Zt),jt===null?vt=Jt:jt.sibling=Jt,jt=Jt);return p&&Nt.forEach(function(MX){return m(Se,MX)}),Ln&&tu(Se,Zt),vt}function zo(Se,pe,Oe,at){if(typeof Oe=="object"&&Oe!==null&&Oe.type===u&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:e:{for(var vt=Oe.key,jt=pe;jt!==null;){if(jt.key===vt){if(vt=Oe.type,vt===u){if(jt.tag===7){S(Se,jt.sibling),pe=I(jt,Oe.props.children),pe.return=Se,Se=pe;break e}}else if(jt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===b&&GI(vt)===jt.type){S(Se,jt.sibling),pe=I(jt,Oe.props),pe.ref=$p(Se,jt,Oe),pe.return=Se,Se=pe;break e}S(Se,jt);break}else m(Se,jt);jt=jt.sibling}Oe.type===u?(pe=lu(Oe.props.children,Se.mode,at,Oe.key),pe.return=Se,Se=pe):(at=g0(Oe.type,Oe.key,Oe.props,null,Se.mode,at),at.ref=$p(Se,pe,Oe),at.return=Se,Se=at)}return re(Se);case c:e:{for(jt=Oe.key;pe!==null;){if(pe.key===jt)if(pe.tag===4&&pe.stateNode.containerInfo===Oe.containerInfo&&pe.stateNode.implementation===Oe.implementation){S(Se,pe.sibling),pe=I(pe,Oe.children||[]),pe.return=Se,Se=pe;break e}else{S(Se,pe);break}else m(Se,pe);pe=pe.sibling}pe=_E(Oe,Se.mode,at),pe.return=Se,Se=pe}return re(Se);case b:return jt=Oe._init,zo(Se,pe,jt(Oe._payload),at)}if($(Oe))return yt(Se,pe,Oe,at);if(M(Oe))return ri(Se,pe,Oe,at);By(Se,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,pe!==null&&pe.tag===6?(S(Se,pe.sibling),pe=I(pe,Oe),pe.return=Se,Se=pe):(S(Se,pe),pe=xE(Oe,Se.mode,at),pe.return=Se,Se=pe),re(Se)):S(Se,pe)}return zo}var Wf=$I(!0),WI=$I(!1),Wp={},ko=Bn(Wp),Xp=Bn(Wp),Xf=Bn(Wp);function ja(p){if(p===Wp)throw Error(a(174));return p}function US(p,m){ct(Xf,m),ct(Xp,p),ct(ko,Wp),p=K(m),_t(ko),ct(ko,p)}function qf(){_t(ko),_t(Xp),_t(Xf)}function XI(p){var m=ja(Xf.current),S=ja(ko.current);m=U(S,p.type,m),S!==m&&(ct(Xp,p),ct(ko,m))}function FS(p){Xp.current===p&&(_t(ko),_t(Xp))}var jn=Bn(0);function zy(p){for(var m=p;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Fn(S)||xi(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var BS=[];function zS(){for(var p=0;p<BS.length;p++){var m=BS[p];ve?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}BS.length=0}var jy=s.ReactCurrentDispatcher,Uo=s.ReactCurrentBatchConfig,Yf=0,qn=null,ei=null,Dr=null,Hy=!1,qp=!1,Yp=0,K9=0;function ti(){throw Error(a(321))}function jS(p,m){if(m===null)return!1;for(var S=0;S<m.length&&S<p.length;S++)if(!lo(p[S],m[S]))return!1;return!0}function HS(p,m,S,A,I,B){if(Yf=B,qn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,jy.current=p===null||p.memoizedState===null?eX:tX,p=S(A,I),qp){B=0;do{if(qp=!1,Yp=0,25<=B)throw Error(a(301));B+=1,Dr=ei=null,m.updateQueue=null,jy.current=nX,p=S(A,I)}while(qp)}if(jy.current=Xy,m=ei!==null&&ei.next!==null,Yf=0,Dr=ei=qn=null,Hy=!1,m)throw Error(a(300));return p}function VS(){var p=Yp!==0;return Yp=0,p}function Ms(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?qn.memoizedState=Dr=p:Dr=Dr.next=p,Dr}function Ha(){if(ei===null){var p=qn.alternate;p=p!==null?p.memoizedState:null}else p=ei.next;var m=Dr===null?qn.memoizedState:Dr.next;if(m!==null)Dr=m,ei=p;else{if(p===null)throw Error(a(310));ei=p,p={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},Dr===null?qn.memoizedState=Dr=p:Dr=Dr.next=p}return Dr}function nu(p,m){return typeof m=="function"?m(p):m}function Vy(p){var m=Ha(),S=m.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var A=ei,I=A.baseQueue,B=S.pending;if(B!==null){if(I!==null){var re=I.next;I.next=B.next,B.next=re}A.baseQueue=I=B,S.pending=null}if(I!==null){B=I.next,A=A.baseState;var de=re=null,De=null,et=B;do{var dt=et.lane;if((Yf&dt)===dt)De!==null&&(De=De.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),A=et.hasEagerState?et.eagerState:p(A,et.action);else{var It={lane:dt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};De===null?(de=De=It,re=A):De=De.next=It,qn.lanes|=dt,Zf|=dt}et=et.next}while(et!==null&&et!==B);De===null?re=A:De.next=de,lo(A,m.memoizedState)||(ho=!0),m.memoizedState=A,m.baseState=re,m.baseQueue=De,S.lastRenderedState=A}if(p=S.interleaved,p!==null){I=p;do B=I.lane,qn.lanes|=B,Zf|=B,I=I.next;while(I!==p)}else I===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function Gy(p){var m=Ha(),S=m.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=p;var A=S.dispatch,I=S.pending,B=m.memoizedState;if(I!==null){S.pending=null;var re=I=I.next;do B=p(B,re.action),re=re.next;while(re!==I);lo(B,m.memoizedState)||(ho=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),S.lastRenderedState=B}return[B,A]}function qI(){}function YI(p,m){var S=qn,A=Ha(),I=m(),B=!lo(A.memoizedState,I);if(B&&(A.memoizedState=I,ho=!0),A=A.queue,Zp(JI.bind(null,S,A,p),[p]),A.getSnapshot!==m||B||Dr!==null&&Dr.memoizedState.tag&1){if(S.flags|=2048,Kp(9,ZI.bind(null,S,A,I,m),void 0,null),hr===null)throw Error(a(349));Yf&30||KI(S,m,I)}return I}function KI(p,m,S){p.flags|=16384,p={getSnapshot:m,value:S},m=qn.updateQueue,m===null?(m={lastEffect:null,stores:null},qn.updateQueue=m,m.stores=[p]):(S=m.stores,S===null?m.stores=[p]:S.push(p))}function ZI(p,m,S,A){m.value=S,m.getSnapshot=A,QI(m)&&Fo(p,1,-1)}function JI(p,m,S){return S(function(){QI(m)&&Fo(p,1,-1)})}function QI(p){var m=p.getSnapshot;p=p.value;try{var S=m();return!lo(p,S)}catch{return!0}}function GS(p){var m=Ms();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:p},m.queue=p,p=p.dispatch=Q9.bind(null,qn,p),[m.memoizedState,p]}function Kp(p,m,S,A){return p={tag:p,create:m,destroy:S,deps:A,next:null},m=qn.updateQueue,m===null?(m={lastEffect:null,stores:null},qn.updateQueue=m,m.lastEffect=p.next=p):(S=m.lastEffect,S===null?m.lastEffect=p.next=p:(A=S.next,S.next=p,p.next=A,m.lastEffect=p)),p}function eN(){return Ha().memoizedState}function $y(p,m,S,A){var I=Ms();qn.flags|=p,I.memoizedState=Kp(1|m,S,void 0,A===void 0?null:A)}function Wy(p,m,S,A){var I=Ha();A=A===void 0?null:A;var B=void 0;if(ei!==null){var re=ei.memoizedState;if(B=re.destroy,A!==null&&jS(A,re.deps)){I.memoizedState=Kp(m,S,B,A);return}}qn.flags|=p,I.memoizedState=Kp(1|m,S,B,A)}function $S(p,m){return $y(8390656,8,p,m)}function Zp(p,m){return Wy(2048,8,p,m)}function tN(p,m){return Wy(4,2,p,m)}function nN(p,m){return Wy(4,4,p,m)}function rN(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function iN(p,m,S){return S=S!=null?S.concat([p]):null,Wy(4,4,rN.bind(null,m,p),S)}function WS(){}function oN(p,m){var S=Ha();m=m===void 0?null:m;var A=S.memoizedState;return A!==null&&m!==null&&jS(m,A[1])?A[0]:(S.memoizedState=[p,m],p)}function aN(p,m){var S=Ha();m=m===void 0?null:m;var A=S.memoizedState;return A!==null&&m!==null&&jS(m,A[1])?A[0]:(p=p(),S.memoizedState=[p,m],p)}function Z9(p,m){var S=Gt;Gt=S!==0&&4>S?S:4,p(!0);var A=Uo.transition;Uo.transition={};try{p(!1),m()}finally{Gt=S,Uo.transition=A}}function sN(){return Ha().memoizedState}function J9(p,m,S){var A=Rl(p);S={lane:A,action:S,hasEagerState:!1,eagerState:null,next:null},lN(p)?cN(m,S):(uN(p,m,S),S=Ai(),p=Fo(p,A,S),p!==null&&fN(p,m,A))}function Q9(p,m,S){var A=Rl(p),I={lane:A,action:S,hasEagerState:!1,eagerState:null,next:null};if(lN(p))cN(m,I);else{uN(p,m,I);var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var re=m.lastRenderedState,de=B(re,S);if(I.hasEagerState=!0,I.eagerState=de,lo(de,re))return}catch{}finally{}S=Ai(),p=Fo(p,A,S),p!==null&&fN(p,m,A)}}function lN(p){var m=p.alternate;return p===qn||m!==null&&m===qn}function cN(p,m){qp=Hy=!0;var S=p.pending;S===null?m.next=m:(m.next=S.next,S.next=m),p.pending=m}function uN(p,m,S){hr!==null&&p.mode&1&&!(Vt&2)?(p=m.interleaved,p===null?(S.next=S,co===null?co=[m]:co.push(m)):(S.next=p.next,p.next=S),m.interleaved=S):(p=m.pending,p===null?S.next=S:(S.next=p.next,p.next=S),m.pending=S)}function fN(p,m,S){if(S&4194240){var A=m.lanes;A&=p.pendingLanes,S|=A,m.lanes=S,Ba(p,S)}}var Xy={readContext:or,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},eX={readContext:or,useCallback:function(p,m){return Ms().memoizedState=[p,m===void 0?null:m],p},useContext:or,useEffect:$S,useImperativeHandle:function(p,m,S){return S=S!=null?S.concat([p]):null,$y(4194308,4,rN.bind(null,m,p),S)},useLayoutEffect:function(p,m){return $y(4194308,4,p,m)},useInsertionEffect:function(p,m){return $y(4,2,p,m)},useMemo:function(p,m){var S=Ms();return m=m===void 0?null:m,p=p(),S.memoizedState=[p,m],p},useReducer:function(p,m,S){var A=Ms();return m=S!==void 0?S(m):m,A.memoizedState=A.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},A.queue=p,p=p.dispatch=J9.bind(null,qn,p),[A.memoizedState,p]},useRef:function(p){var m=Ms();return p={current:p},m.memoizedState=p},useState:GS,useDebugValue:WS,useDeferredValue:function(p){var m=GS(p),S=m[0],A=m[1];return $S(function(){var I=Uo.transition;Uo.transition={};try{A(p)}finally{Uo.transition=I}},[p]),S},useTransition:function(){var p=GS(!1),m=p[0];return p=Z9.bind(null,p[1]),Ms().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,S){var A=qn,I=Ms();if(Ln){if(S===void 0)throw Error(a(407));S=S()}else{if(S=m(),hr===null)throw Error(a(349));Yf&30||KI(A,m,S)}I.memoizedState=S;var B={value:S,getSnapshot:m};return I.queue=B,$S(JI.bind(null,A,B,p),[p]),A.flags|=2048,Kp(9,ZI.bind(null,A,B,S,m),void 0,null),S},useId:function(){var p=Ms(),m=hr.identifierPrefix;if(Ln){var S=Es,A=Ss;S=(A&~(1<<32-bi(A)-1)).toString(32)+S,m=":"+m+"R"+S,S=Yp++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=K9++,m=":"+m+"r"+S.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},tX={readContext:or,useCallback:oN,useContext:or,useEffect:Zp,useImperativeHandle:iN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:aN,useReducer:Vy,useRef:eN,useState:function(){return Vy(nu)},useDebugValue:WS,useDeferredValue:function(p){var m=Vy(nu),S=m[0],A=m[1];return Zp(function(){var I=Uo.transition;Uo.transition={};try{A(p)}finally{Uo.transition=I}},[p]),S},useTransition:function(){var p=Vy(nu)[0],m=Ha().memoizedState;return[p,m]},useMutableSource:qI,useSyncExternalStore:YI,useId:sN,unstable_isNewReconciler:!1},nX={readContext:or,useCallback:oN,useContext:or,useEffect:Zp,useImperativeHandle:iN,useInsertionEffect:tN,useLayoutEffect:nN,useMemo:aN,useReducer:Gy,useRef:eN,useState:function(){return Gy(nu)},useDebugValue:WS,useDeferredValue:function(p){var m=Gy(nu),S=m[0],A=m[1];return Zp(function(){var I=Uo.transition;Uo.transition={};try{A(p)}finally{Uo.transition=I}},[p]),S},useTransition:function(){var p=Gy(nu)[0],m=Ha().memoizedState;return[p,m]},useMutableSource:qI,useSyncExternalStore:YI,useId:sN,unstable_isNewReconciler:!1};function XS(p,m){try{var S="",A=m;do S+=Qc(A),A=A.return;while(A);var I=S}catch(B){I=`
Error generating stack: `+B.message+`
`+B.stack}return{value:p,source:m,stack:I}}function qS(p,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var rX=typeof WeakMap=="function"?WeakMap:Map;function dN(p,m,S){S=ws(-1,S),S.tag=3,S.payload={element:null};var A=m.value;return S.callback=function(){c0||(c0=!0,dE=A),qS(p,m)},S}function hN(p,m,S){S=ws(-1,S),S.tag=3;var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var I=m.value;S.payload=function(){return A(I)},S.callback=function(){qS(p,m)}}var B=p.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(S.callback=function(){qS(p,m),typeof A!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var re=m.stack;this.componentDidCatch(m.value,{componentStack:re!==null?re:""})}),S}function pN(p,m,S){var A=p.pingCache;if(A===null){A=p.pingCache=new rX;var I=new Set;A.set(m,I)}else I=A.get(m),I===void 0&&(I=new Set,A.set(m,I));I.has(S)||(I.add(S),p=vX.bind(null,p,m,S),m.then(p,p))}function mN(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function gN(p,m,S,A,I){return p.mode&1?(p.flags|=65536,p.lanes=I,p):(p===m?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=ws(-1,1),m.tag=2,Al(S,m))),S.lanes|=1),p)}function Va(p){p.flags|=4}function vN(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var Jp,Qp,qy,Yy;if(he)Jp=function(p,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)X(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Qp=function(){},qy=function(p,m,S,A,I){if(p=p.memoizedProps,p!==A){var B=m.stateNode,re=ja(ko.current);S=Z(B,S,p,A,I,re),(m.updateQueue=S)&&Va(m)}},Yy=function(p,m,S,A){S!==A&&Va(m)};else if(V){Jp=function(p,m,S,A){for(var I=m.child;I!==null;){if(I.tag===5){var B=I.stateNode;S&&A&&(B=ht(B,I.type,I.memoizedProps,I)),X(p,B)}else if(I.tag===6)B=I.stateNode,S&&A&&(B=bt(B,I.memoizedProps,I)),X(p,B);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)B=I.child,B!==null&&(B.return=I),Jp(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var yN=function(p,m,S,A){for(var I=m.child;I!==null;){if(I.tag===5){var B=I.stateNode;S&&A&&(B=ht(B,I.type,I.memoizedProps,I)),Le(p,B)}else if(I.tag===6)B=I.stateNode,S&&A&&(B=bt(B,I.memoizedProps,I)),Le(p,B);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)B=I.child,B!==null&&(B.return=I),yN(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};Qp=function(p,m){var S=m.stateNode;if(!vN(p,m)){p=S.containerInfo;var A=Je(p);yN(A,m,!1,!1),S.pendingChildren=A,Va(m),Ze(p,A)}},qy=function(p,m,S,A,I){var B=p.stateNode,re=p.memoizedProps;if((p=vN(p,m))&&re===A)m.stateNode=B;else{var de=m.stateNode,De=ja(ko.current),et=null;re!==A&&(et=Z(de,S,re,A,I,De)),p&&et===null?m.stateNode=B:(B=je(B,et,S,re,A,m,p,de),q(B,S,A,I,De)&&Va(m),m.stateNode=B,p?Va(m):Jp(B,m,!1,!1))}},Yy=function(p,m,S,A){S!==A?(p=ja(Xf.current),S=ja(ko.current),m.stateNode=se(A,p,S,m),Va(m)):m.stateNode=p.stateNode}}else Qp=function(){},qy=function(){},Yy=function(){};function em(p,m){if(!Ln)switch(p.tailMode){case"hidden":m=p.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var A=null;S!==null;)S.alternate!==null&&(A=S),S=S.sibling;A===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:A.sibling=null}}function ni(p){var m=p.alternate!==null&&p.alternate.child===p.child,S=0,A=0;if(m)for(var I=p.child;I!==null;)S|=I.lanes|I.childLanes,A|=I.subtreeFlags&14680064,A|=I.flags&14680064,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)S|=I.lanes|I.childLanes,A|=I.subtreeFlags,A|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=A,p.childLanes=S,m}function iX(p,m,S){var A=m.pendingProps;switch(NS(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(m),null;case 1:return Xn(m.type)&&gn(),ni(m),null;case 3:return A=m.stateNode,qf(),_t(bn),_t(Lt),zS(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(p===null||p.child===null)&&(Gp(m)?Va(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,aa!==null&&(mE(aa),aa=null))),Qp(p,m),ni(m),null;case 5:FS(m),S=ja(Xf.current);var I=m.type;if(p!==null&&m.stateNode!=null)qy(p,m,I,A,S),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!A){if(m.stateNode===null)throw Error(a(166));return ni(m),null}if(p=ja(ko.current),Gp(m)){if(!ye)throw Error(a(175));p=Ff(m.stateNode,m.type,m.memoizedProps,S,p,m,!Vp),m.updateQueue=p,p!==null&&Va(m)}else{var B=z(I,A,S,p,m);Jp(B,m,!1,!1),m.stateNode=B,q(B,I,A,S,p)&&Va(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ni(m),null;case 6:if(p&&m.stateNode!=null)Yy(p,m,p.memoizedProps,A);else{if(typeof A!="string"&&m.stateNode===null)throw Error(a(166));if(p=ja(Xf.current),S=ja(ko.current),Gp(m)){if(!ye)throw Error(a(176));if(p=m.stateNode,A=m.memoizedProps,(S=Wc(p,A,m,!Vp))&&(I=uo,I!==null))switch(B=(I.mode&1)!==0,I.tag){case 3:pt(I.stateNode.containerInfo,p,A,B);break;case 5:xt(I.type,I.memoizedProps,I.stateNode,p,A,B)}S&&Va(m)}else m.stateNode=se(A,p,S,m)}return ni(m),null;case 13:if(_t(jn),A=m.memoizedState,Ln&&fo!==null&&m.mode&1&&!(m.flags&128)){for(p=fo;p;)p=Jr(p);return $f(),m.flags|=98560,m}if(A!==null&&A.dehydrated!==null){if(A=Gp(m),p===null){if(!A)throw Error(a(318));if(!ye)throw Error(a(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));Lp(p,m)}else $f(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return ni(m),null}return aa!==null&&(mE(aa),aa=null),m.flags&128?(m.lanes=S,m):(A=A!==null,S=!1,p===null?Gp(m):S=p.memoizedState!==null,A&&!S&&(m.child.flags|=8192,m.mode&1&&(p===null||jn.current&1?_r===0&&(_r=3):vE())),m.updateQueue!==null&&(m.flags|=4),ni(m),null);case 4:return qf(),Qp(p,m),p===null&&we(m.stateNode.containerInfo),ni(m),null;case 10:return Nr(m.type._context),ni(m),null;case 17:return Xn(m.type)&&gn(),ni(m),null;case 19:if(_t(jn),I=m.memoizedState,I===null)return ni(m),null;if(A=(m.flags&128)!==0,B=I.rendering,B===null)if(A)em(I,!1);else{if(_r!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(B=zy(p),B!==null){for(m.flags|=128,em(I,!1),p=B.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=S,A=m.child;A!==null;)S=A,I=p,S.flags&=14680066,B=S.alternate,B===null?(S.childLanes=0,S.lanes=I,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=B.childLanes,S.lanes=B.lanes,S.child=B.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=B.memoizedProps,S.memoizedState=B.memoizedState,S.updateQueue=B.updateQueue,S.type=B.type,I=B.dependencies,S.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),A=A.sibling;return ct(jn,jn.current&1|2),m.child}p=p.sibling}I.tail!==null&&zn()>fE&&(m.flags|=128,A=!0,em(I,!1),m.lanes=4194304)}else{if(!A)if(p=zy(B),p!==null){if(m.flags|=128,A=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),em(I,!0),I.tail===null&&I.tailMode==="hidden"&&!B.alternate&&!Ln)return ni(m),null}else 2*zn()-I.renderingStartTime>fE&&S!==1073741824&&(m.flags|=128,A=!0,em(I,!1),m.lanes=4194304);I.isBackwards?(B.sibling=m.child,m.child=B):(p=I.last,p!==null?p.sibling=B:m.child=B,I.last=B)}return I.tail!==null?(m=I.tail,I.rendering=m,I.tail=m.sibling,I.renderingStartTime=zn(),m.sibling=null,p=jn.current,ct(jn,A?p&1|2:p&1),m):(ni(m),null);case 22:case 23:return gE(),A=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==A&&(m.flags|=8192),A&&m.mode&1?po&1073741824&&(ni(m),he&&m.subtreeFlags&6&&(m.flags|=8192)):ni(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var oX=s.ReactCurrentOwner,ho=!1;function Ti(p,m,S,A){m.child=p===null?WI(m,null,S,A):Wf(m,p.child,S,A)}function xN(p,m,S,A,I){S=S.render;var B=m.ref;return ir(m,I),A=HS(p,m,S,A,B,I),S=VS(),p!==null&&!ho?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Ts(p,m,I)):(Ln&&S&&IS(m),m.flags|=1,Ti(p,m,A,I),m.child)}function _N(p,m,S,A,I){if(p===null){var B=S.type;return typeof B=="function"&&!yE(B)&&B.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=B,bN(p,m,B,A,I)):(p=g0(S.type,null,A,m,m.mode,I),p.ref=m.ref,p.return=m,m.child=p)}if(B=p.child,!(p.lanes&I)){var re=B.memoizedProps;if(S=S.compare,S=S!==null?S:Jc,S(re,A)&&p.ref===m.ref)return Ts(p,m,I)}return m.flags|=1,p=Il(B,A),p.ref=m.ref,p.return=m,m.child=p}function bN(p,m,S,A,I){if(p!==null&&Jc(p.memoizedProps,A)&&p.ref===m.ref)if(ho=!1,(p.lanes&I)!==0)p.flags&131072&&(ho=!0);else return m.lanes=p.lanes,Ts(p,m,I);return YS(p,m,S,A,I)}function wN(p,m,S){var A=m.pendingProps,I=A.children,B=p!==null?p.memoizedState:null;if(A.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},ct(Kf,po),po|=S;else if(S&1073741824)m.memoizedState={baseLanes:0,cachePool:null},A=B!==null?B.baseLanes:S,ct(Kf,po),po|=A;else return p=B!==null?B.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,ct(Kf,po),po|=p,null;else B!==null?(A=B.baseLanes|S,m.memoizedState=null):A=S,ct(Kf,po),po|=A;return Ti(p,m,I,S),m.child}function SN(p,m){var S=m.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function YS(p,m,S,A,I){var B=Xn(S)?ao:Lt.current;return B=Or(m,B),ir(m,I),S=HS(p,m,S,A,B,I),A=VS(),p!==null&&!ho?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~I,Ts(p,m,I)):(Ln&&A&&IS(m),m.flags|=1,Ti(p,m,S,I),m.child)}function EN(p,m,S,A,I){if(Xn(S)){var B=!0;rr(m)}else B=!1;if(ir(m,I),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),FI(m,S,A),OS(m,S,A,I),A=!0;else if(p===null){var re=m.stateNode,de=m.memoizedProps;re.props=de;var De=re.context,et=S.contextType;typeof et=="object"&&et!==null?et=or(et):(et=Xn(S)?ao:Lt.current,et=Or(m,et));var dt=S.getDerivedStateFromProps,It=typeof dt=="function"||typeof re.getSnapshotBeforeUpdate=="function";It||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==A||De!==et)&&BI(m,re,A,et),Tl=!1;var St=m.memoizedState;re.state=St,Ly(m,A,re,I),De=m.memoizedState,de!==A||St!==De||bn.current||Tl?(typeof dt=="function"&&(RS(m,S,dt,A),De=m.memoizedState),(de=Tl||UI(m,S,de,A,St,De,et))?(It||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(m.flags|=4194308)):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=A,m.memoizedState=De),re.props=A,re.state=De,re.context=et,A=de):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),A=!1)}else{re=m.stateNode,NI(p,m),de=m.memoizedProps,et=m.type===m.elementType?de:Ei(m.type,de),re.props=et,It=m.pendingProps,St=re.context,De=S.contextType,typeof De=="object"&&De!==null?De=or(De):(De=Xn(S)?ao:Lt.current,De=Or(m,De));var xn=S.getDerivedStateFromProps;(dt=typeof xn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==It||St!==De)&&BI(m,re,A,De),Tl=!1,St=m.memoizedState,re.state=St,Ly(m,A,re,I);var yt=m.memoizedState;de!==It||St!==yt||bn.current||Tl?(typeof xn=="function"&&(RS(m,S,xn,A),yt=m.memoizedState),(et=Tl||UI(m,S,et,A,St,yt,De)||!1)?(dt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(A,yt,De),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(A,yt,De)),typeof re.componentDidUpdate=="function"&&(m.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof re.componentDidUpdate!="function"||de===p.memoizedProps&&St===p.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&St===p.memoizedState||(m.flags|=1024),m.memoizedProps=A,m.memoizedState=yt),re.props=A,re.state=yt,re.context=De,A=et):(typeof re.componentDidUpdate!="function"||de===p.memoizedProps&&St===p.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===p.memoizedProps&&St===p.memoizedState||(m.flags|=1024),A=!1)}return KS(p,m,S,A,B,I)}function KS(p,m,S,A,I,B){SN(p,m);var re=(m.flags&128)!==0;if(!A&&!re)return I&&Vr(m,S,!1),Ts(p,m,B);A=m.stateNode,oX.current=m;var de=re&&typeof S.getDerivedStateFromError!="function"?null:A.render();return m.flags|=1,p!==null&&re?(m.child=Wf(m,p.child,null,B),m.child=Wf(m,null,de,B)):Ti(p,m,de,B),m.memoizedState=A.state,I&&Vr(m,S,!0),m.child}function MN(p){var m=p.stateNode;m.pendingContext?Hi(p,m.pendingContext,m.pendingContext!==m.context):m.context&&Hi(p,m.context,!1),US(p,m.containerInfo)}function TN(p,m,S,A,I){return $f(),kS(I),m.flags|=256,Ti(p,m,S,A),m.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Zy(p){return{baseLanes:p,cachePool:null}}function AN(p,m,S){var A=m.pendingProps,I=jn.current,B=!1,re=(m.flags&128)!==0,de;if((de=re)||(de=p!==null&&p.memoizedState===null?!1:(I&2)!==0),de?(B=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(I|=1),ct(jn,I&1),p===null)return LS(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?xi(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(I=A.children,p=A.fallback,B?(A=m.mode,B=m.child,I={mode:"hidden",children:I},!(A&1)&&B!==null?(B.childLanes=0,B.pendingProps=I):B=v0(I,A,0,null),p=lu(p,A,S,null),B.return=m,p.return=m,B.sibling=p,m.child=B,m.child.memoizedState=Zy(S),m.memoizedState=Ky,p):ZS(m,I));if(I=p.memoizedState,I!==null){if(de=I.dehydrated,de!==null){if(re)return m.flags&256?(m.flags&=-257,Jy(p,m,S,Error(a(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(B=A.fallback,I=m.mode,A=v0({mode:"visible",children:A.children},I,0,null),B=lu(B,I,S,null),B.flags|=2,A.return=m,B.return=m,A.sibling=B,m.child=A,m.mode&1&&Wf(m,p.child,null,S),m.child.memoizedState=Zy(S),m.memoizedState=Ky,B);if(!(m.mode&1))m=Jy(p,m,S,null);else if(xi(de))m=Jy(p,m,S,Error(a(419)));else if(A=(S&p.childLanes)!==0,ho||A){if(A=hr,A!==null){switch(S&-S){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}A=B&(A.suspendedLanes|S)?0:B,A!==0&&A!==I.retryLane&&(I.retryLane=A,Fo(p,A,-1))}vE(),m=Jy(p,m,S,Error(a(421)))}else Fn(de)?(m.flags|=128,m.child=p.child,m=yX.bind(null,p),_i(de,m),m=null):(S=I.treeContext,ye&&(fo=Io(de),uo=m,Ln=!0,aa=null,Vp=!1,S!==null&&(Do[Lo++]=Ss,Do[Lo++]=Es,Do[Lo++]=eu,Ss=S.id,Es=S.overflow,eu=m)),m=ZS(m,m.pendingProps.children),m.flags|=4096);return m}return B?(A=CN(p,m,A.children,A.fallback,S),B=m.child,I=p.child.memoizedState,B.memoizedState=I===null?Zy(S):{baseLanes:I.baseLanes|S,cachePool:null},B.childLanes=p.childLanes&~S,m.memoizedState=Ky,A):(S=PN(p,m,A.children,S),m.memoizedState=null,S)}return B?(A=CN(p,m,A.children,A.fallback,S),B=m.child,I=p.child.memoizedState,B.memoizedState=I===null?Zy(S):{baseLanes:I.baseLanes|S,cachePool:null},B.childLanes=p.childLanes&~S,m.memoizedState=Ky,A):(S=PN(p,m,A.children,S),m.memoizedState=null,S)}function ZS(p,m){return m=v0({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function PN(p,m,S,A){var I=p.child;return p=I.sibling,S=Il(I,{mode:"visible",children:S}),!(m.mode&1)&&(S.lanes=A),S.return=m,S.sibling=null,p!==null&&(A=m.deletions,A===null?(m.deletions=[p],m.flags|=16):A.push(p)),m.child=S}function CN(p,m,S,A,I){var B=m.mode;p=p.child;var re=p.sibling,de={mode:"hidden",children:S};return!(B&1)&&m.child!==p?(S=m.child,S.childLanes=0,S.pendingProps=de,m.deletions=null):(S=Il(p,de),S.subtreeFlags=p.subtreeFlags&14680064),re!==null?A=Il(re,A):(A=lu(A,B,I,null),A.flags|=2),A.return=m,S.return=m,S.sibling=A,m.child=S,A}function Jy(p,m,S,A){return A!==null&&kS(A),Wf(m,p.child,null,S),p=ZS(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function RN(p,m,S){p.lanes|=m;var A=p.alternate;A!==null&&(A.lanes|=m),Mi(p.return,m,S)}function JS(p,m,S,A,I){var B=p.memoizedState;B===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:A,tail:S,tailMode:I}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=A,B.tail=S,B.tailMode=I)}function ON(p,m,S){var A=m.pendingProps,I=A.revealOrder,B=A.tail;if(Ti(p,m,A.children,S),A=jn.current,A&2)A=A&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&RN(p,S,m);else if(p.tag===19)RN(p,S,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}A&=1}if(ct(jn,A),!(m.mode&1))m.memoizedState=null;else switch(I){case"forwards":for(S=m.child,I=null;S!==null;)p=S.alternate,p!==null&&zy(p)===null&&(I=S),S=S.sibling;S=I,S===null?(I=m.child,m.child=null):(I=S.sibling,S.sibling=null),JS(m,!1,I,S,B);break;case"backwards":for(S=null,I=m.child,m.child=null;I!==null;){if(p=I.alternate,p!==null&&zy(p)===null){m.child=I;break}p=I.sibling,I.sibling=S,S=I,I=p}JS(m,!0,S,null,B);break;case"together":JS(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ts(p,m,S){if(p!==null&&(m.dependencies=p.dependencies),Zf|=m.lanes,!(S&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(a(153));if(m.child!==null){for(p=m.child,S=Il(p,p.pendingProps),m.child=S,S.return=m;p.sibling!==null;)p=p.sibling,S=S.sibling=Il(p,p.pendingProps),S.return=m;S.sibling=null}return m.child}function aX(p,m,S){switch(m.tag){case 3:MN(m),$f();break;case 5:XI(m);break;case 1:Xn(m.type)&&rr(m);break;case 4:US(m,m.stateNode.containerInfo);break;case 10:Ny(m,m.type._context,m.memoizedProps.value);break;case 13:var A=m.memoizedState;if(A!==null)return A.dehydrated!==null?(ct(jn,jn.current&1),m.flags|=128,null):S&m.child.childLanes?AN(p,m,S):(ct(jn,jn.current&1),p=Ts(p,m,S),p!==null?p.sibling:null);ct(jn,jn.current&1);break;case 19:if(A=(S&m.childLanes)!==0,p.flags&128){if(A)return ON(p,m,S);m.flags|=128}var I=m.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),ct(jn,jn.current),A)break;return null;case 22:case 23:return m.lanes=0,wN(p,m,S)}return Ts(p,m,S)}function sX(p,m){switch(NS(m),m.tag){case 1:return Xn(m.type)&&gn(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return qf(),_t(bn),_t(Lt),zS(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return FS(m),null;case 13:if(_t(jn),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(a(340));$f()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return _t(jn),null;case 4:return qf(),null;case 10:return Nr(m.type._context),null;case 22:case 23:return gE(),null;case 24:return null;default:return null}}var Qy=!1,ru=!1,lX=typeof WeakSet=="function"?WeakSet:Set,ot=null;function e0(p,m){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(A){Wi(p,m,A)}else S.current=null}function QS(p,m,S){try{S()}catch(A){Wi(p,m,A)}}var IN=!1;function cX(p,m){for(F(p.containerInfo),ot=m;ot!==null;)if(p=ot,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,ot=m;else for(;ot!==null;){p=ot;try{var S=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var A=S.memoizedProps,I=S.memoizedState,B=p.stateNode,re=B.getSnapshotBeforeUpdate(p.elementType===p.type?A:Ei(p.type,A),I);B.__reactInternalSnapshotBeforeUpdate=re}break;case 3:he&&Xe(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(de){Wi(p,p.return,de)}if(m=p.sibling,m!==null){m.return=p.return,ot=m;break}ot=p.return}return S=IN,IN=!1,S}function iu(p,m,S){var A=m.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var I=A=A.next;do{if((I.tag&p)===p){var B=I.destroy;I.destroy=void 0,B!==void 0&&QS(m,S,B)}I=I.next}while(I!==A)}}function tm(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&p)===p){var A=S.create;S.destroy=A()}S=S.next}while(S!==m)}}function eE(p){var m=p.ref;if(m!==null){var S=p.stateNode;switch(p.tag){case 5:p=H(S);break;default:p=S}typeof m=="function"?m(p):m.current=p}}function NN(p,m,S){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(Kc,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var A=p=p.next;do{var I=A,B=I.destroy;I=I.tag,B!==void 0&&(I&2||I&4)&&QS(m,S,B),A=A.next}while(A!==p)}break;case 1:if(e0(m,S),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(re){Wi(m,S,re)}break;case 5:e0(m,S);break;case 4:he?BN(p,m,S):V&&V&&(m=m.stateNode.containerInfo,S=Je(m),We(m,S))}}function DN(p,m,S){for(var A=m;;)if(NN(p,A,S),A.child===null||he&&A.tag===4){if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function LN(p){var m=p.alternate;m!==null&&(p.alternate=null,LN(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Fe(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function kN(p){return p.tag===5||p.tag===3||p.tag===4}function UN(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||kN(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function FN(p){if(he){e:{for(var m=p.return;m!==null;){if(kN(m))break e;m=m.return}throw Error(a(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(Pe(m),S.flags&=-33),S=UN(p),nE(p,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=UN(p),tE(p,S,m);break;default:throw Error(a(161))}}}function tE(p,m,S){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?He(S,p,m):qe(S,p);else if(A!==4&&(p=p.child,p!==null))for(tE(p,m,S),p=p.sibling;p!==null;)tE(p,m,S),p=p.sibling}function nE(p,m,S){var A=p.tag;if(A===5||A===6)p=p.stateNode,m?Ye(S,p,m):Ve(S,p);else if(A!==4&&(p=p.child,p!==null))for(nE(p,m,S),p=p.sibling;p!==null;)nE(p,m,S),p=p.sibling}function BN(p,m,S){for(var A=m,I=!1,B,re;;){if(!I){I=A.return;e:for(;;){if(I===null)throw Error(a(160));switch(B=I.stateNode,I.tag){case 5:re=!1;break e;case 3:B=B.containerInfo,re=!0;break e;case 4:B=B.containerInfo,re=!0;break e}I=I.return}I=!0}if(A.tag===5||A.tag===6)DN(p,A,S),re?ie(B,A.stateNode):Ne(B,A.stateNode);else if(A.tag===18)re?Me(B,A.stateNode):Ce(B,A.stateNode);else if(A.tag===4){if(A.child!==null){B=A.stateNode.containerInfo,re=!0,A.child.return=A,A=A.child;continue}}else if(NN(p,A,S),A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break;for(;A.sibling===null;){if(A.return===null||A.return===m)return;A=A.return,A.tag===4&&(I=!1)}A.sibling.return=A.return,A=A.sibling}}function rE(p,m){if(he){switch(m.tag){case 0:case 11:case 14:case 15:iu(3,m,m.return),tm(3,m),iu(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var A=m.memoizedProps;p=p!==null?p.memoizedProps:A;var I=m.type,B=m.updateQueue;m.updateQueue=null,B!==null&&rt(S,B,I,p,A,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));S=m.memoizedProps,Ae(m.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:ye&&p!==null&&p.memoizedState.isDehydrated&&_e(m.stateNode.containerInfo);return;case 12:return;case 13:t0(m);return;case 19:t0(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:iu(3,m,m.return),tm(3,m),iu(5,m,m.return);return;case 12:return;case 13:t0(m);return;case 19:t0(m);return;case 3:ye&&p!==null&&p.memoizedState.isDehydrated&&_e(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(V){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,We(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function t0(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new lX),m.forEach(function(A){var I=xX.bind(null,p,A);S.has(A)||(S.add(A),A.then(I,I))})}}function uX(p,m){for(ot=m;ot!==null;){m=ot;var S=m.deletions;if(S!==null)for(var A=0;A<S.length;A++){var I=S[A];try{var B=p;he?BN(B,I,m):DN(B,I,m);var re=I.alternate;re!==null&&(re.return=null),I.return=null}catch(vt){Wi(I,m,vt)}}if(S=m.child,m.subtreeFlags&12854&&S!==null)S.return=m,ot=S;else for(;ot!==null;){m=ot;try{var de=m.flags;if(de&32&&he&&Pe(m.stateNode),de&512){var De=m.alternate;if(De!==null){var et=De.ref;et!==null&&(typeof et=="function"?et(null):et.current=null)}}if(de&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var dt=m.alternate;(dt===null||dt.memoizedState===null)&&(uE=zn())}break;case 22:var It=m.memoizedState!==null,St=m.alternate,xn=St!==null&&St.memoizedState!==null;if(S=m,he){e:if(A=S,I=It,B=null,he)for(var yt=A;;){if(yt.tag===5){if(B===null){B=yt;var ri=yt.stateNode;I?Qe(ri):Ee(yt.stateNode,yt.memoizedProps)}}else if(yt.tag===6){if(B===null){var zo=yt.stateNode;I?$e(zo):oe(zo,yt.memoizedProps)}}else if((yt.tag!==22&&yt.tag!==23||yt.memoizedState===null||yt===A)&&yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===A)break;for(;yt.sibling===null;){if(yt.return===null||yt.return===A)break e;B===yt&&(B=null),yt=yt.return}B===yt&&(B=null),yt.sibling.return=yt.return,yt=yt.sibling}}if(It&&!xn&&S.mode&1){ot=S;for(var Se=S.child;Se!==null;){for(S=ot=Se;ot!==null;){A=ot;var pe=A.child;switch(A.tag){case 0:case 11:case 14:case 15:iu(4,A,A.return);break;case 1:e0(A,A.return);var Oe=A.stateNode;if(typeof Oe.componentWillUnmount=="function"){var at=A.return;try{Oe.props=A.memoizedProps,Oe.state=A.memoizedState,Oe.componentWillUnmount()}catch(vt){Wi(A,at,vt)}}break;case 5:e0(A,A.return);break;case 22:if(A.memoizedState!==null){HN(S);continue}}pe!==null?(pe.return=A,ot=pe):HN(S)}Se=Se.sibling}}}switch(de&4102){case 2:FN(m),m.flags&=-3;break;case 6:FN(m),m.flags&=-3,rE(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,rE(m.alternate,m);break;case 4:rE(m.alternate,m)}}catch(vt){Wi(m,m.return,vt)}if(S=m.sibling,S!==null){S.return=m.return,ot=S;break}ot=m.return}}}function fX(p,m,S){ot=p,zN(p)}function zN(p,m,S){for(var A=(p.mode&1)!==0;ot!==null;){var I=ot,B=I.child;if(I.tag===22&&A){var re=I.memoizedState!==null||Qy;if(!re){var de=I.alternate,De=de!==null&&de.memoizedState!==null||ru;de=Qy;var et=ru;if(Qy=re,(ru=De)&&!et)for(ot=I;ot!==null;)re=ot,De=re.child,re.tag===22&&re.memoizedState!==null?VN(I):De!==null?(De.return=re,ot=De):VN(I);for(;B!==null;)ot=B,zN(B),B=B.sibling;ot=I,Qy=de,ru=et}jN(p)}else I.subtreeFlags&8772&&B!==null?(B.return=I,ot=B):jN(p)}}function jN(p){for(;ot!==null;){var m=ot;if(m.flags&8772){var S=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:ru||tm(5,m);break;case 1:var A=m.stateNode;if(m.flags&4&&!ru)if(S===null)A.componentDidMount();else{var I=m.elementType===m.type?S.memoizedProps:Ei(m.type,S.memoizedProps);A.componentDidUpdate(I,S.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var B=m.updateQueue;B!==null&&LI(m,B,A);break;case 3:var re=m.updateQueue;if(re!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=H(m.child.stateNode);break;case 1:S=m.child.stateNode}LI(m,re,S)}break;case 5:var de=m.stateNode;S===null&&m.flags&4&&lt(de,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&m.memoizedState===null){var De=m.alternate;if(De!==null){var et=De.memoizedState;if(et!==null){var dt=et.dehydrated;dt!==null&&Te(dt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}ru||m.flags&512&&eE(m)}catch(It){Wi(m,m.return,It)}}if(m===p){ot=null;break}if(S=m.sibling,S!==null){S.return=m.return,ot=S;break}ot=m.return}}function HN(p){for(;ot!==null;){var m=ot;if(m===p){ot=null;break}var S=m.sibling;if(S!==null){S.return=m.return,ot=S;break}ot=m.return}}function VN(p){for(;ot!==null;){var m=ot;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{tm(4,m)}catch(De){Wi(m,S,De)}break;case 1:var A=m.stateNode;if(typeof A.componentDidMount=="function"){var I=m.return;try{A.componentDidMount()}catch(De){Wi(m,I,De)}}var B=m.return;try{eE(m)}catch(De){Wi(m,B,De)}break;case 5:var re=m.return;try{eE(m)}catch(De){Wi(m,re,De)}}}catch(De){Wi(m,m.return,De)}if(m===p){ot=null;break}var de=m.sibling;if(de!==null){de.return=m.return,ot=de;break}ot=m.return}}var n0=0,r0=1,i0=2,o0=3,a0=4;if(typeof Symbol=="function"&&Symbol.for){var nm=Symbol.for;n0=nm("selector.component"),r0=nm("selector.has_pseudo_class"),i0=nm("selector.role"),o0=nm("selector.test_id"),a0=nm("selector.text")}function iE(p){var m=le(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(p=ee(p),p===null)throw Error(a(362));return p.stateNode.current}function oE(p,m){switch(m.$$typeof){case n0:if(p.type===m.value)return!0;break;case r0:e:{m=m.value,p=[p,0];for(var S=0;S<p.length;){var A=p[S++],I=p[S++],B=m[I];if(A.tag!==5||!me(A)){for(;B!=null&&oE(A,B);)I++,B=m[I];if(I===m.length){m=!0;break e}else for(A=A.child;A!==null;)p.push(A,I),A=A.sibling}}m=!1}return m;case i0:if(p.tag===5&&Ie(p.stateNode,m.value))return!0;break;case a0:if((p.tag===5||p.tag===6)&&(p=fe(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case o0:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function aE(p){switch(p.$$typeof){case n0:return"<"+(T(p.value)||"Unknown")+">";case r0:return":has("+(aE(p)||"")+")";case i0:return'[role="'+p.value+'"]';case a0:return'"'+p.value+'"';case o0:return'[data-testname="'+p.value+'"]';default:throw Error(a(365))}}function GN(p,m){var S=[];p=[p,0];for(var A=0;A<p.length;){var I=p[A++],B=p[A++],re=m[B];if(I.tag!==5||!me(I)){for(;re!=null&&oE(I,re);)B++,re=m[B];if(B===m.length)S.push(I);else for(I=I.child;I!==null;)p.push(I,B),I=I.sibling}}return S}function sE(p,m){if(!W)throw Error(a(363));p=iE(p),p=GN(p,m),m=[],p=Array.from(p);for(var S=0;S<p.length;){var A=p[S++];if(A.tag===5)me(A)||m.push(A.stateNode);else for(A=A.child;A!==null;)p.push(A),A=A.sibling}return m}var dX=Math.ceil,s0=s.ReactCurrentDispatcher,lE=s.ReactCurrentOwner,ar=s.ReactCurrentBatchConfig,Vt=0,hr=null,pr=null,Gr=0,po=0,Kf=Bn(0),_r=0,rm=null,Zf=0,l0=0,cE=0,im=null,Gi=null,uE=0,fE=1/0;function Jf(){fE=zn()+500}var c0=!1,dE=null,Pl=null,u0=!1,Cl=null,f0=0,om=0,hE=null,d0=-1,h0=0;function Ai(){return Vt&6?zn():d0!==-1?d0:d0=zn()}function Rl(p){return p.mode&1?Vt&2&&Gr!==0?Gr&-Gr:Zc.transition!==null?(h0===0&&(p=vs,vs<<=1,!(vs&4194240)&&(vs=64),h0=p),h0):(p=Gt,p!==0?p:ue()):1}function Fo(p,m,S){if(50<om)throw om=0,hE=null,Error(a(185));var A=p0(p,m);return A===null?null:(Fa(A,m,S),(!(Vt&2)||A!==hr)&&(A===hr&&(!(Vt&2)&&(l0|=m),_r===4&&Ol(A,Gr)),$i(A,S),m===1&&Vt===0&&!(p.mode&1)&&(Jf(),za&&Vi())),A)}function p0(p,m){p.lanes|=m;var S=p.alternate;for(S!==null&&(S.lanes|=m),S=p,p=p.return;p!==null;)p.childLanes|=m,S=p.alternate,S!==null&&(S.childLanes|=m),S=p,p=p.return;return S.tag===3?S.stateNode:null}function $i(p,m){var S=p.callbackNode;kp(p,m);var A=qc(p,p===hr?Gr:0);if(A===0)S!==null&&zf(S),p.callbackNode=null,p.callbackPriority=0;else if(m=A&-A,p.callbackPriority!==m){if(S!=null&&zf(S),m===1)p.tag===0?Hp(WN.bind(null,p)):jp(WN.bind(null,p)),xe?Y(function(){Vt===0&&Vi()}):bs(Yc,Vi),S=null;else{switch(Up(A)){case 1:S=Yc;break;case 4:S=Oy;break;case 16:S=wi;break;case 536870912:S=Bp;break;default:S=wi}S=t3(S,$N.bind(null,p))}p.callbackPriority=m,p.callbackNode=S}}function $N(p,m){if(d0=-1,h0=0,Vt&6)throw Error(a(327));var S=p.callbackNode;if(su()&&p.callbackNode!==S)return null;var A=qc(p,p===hr?Gr:0);if(A===0)return null;if(A&30||A&p.expiredLanes||m)m=m0(p,A);else{m=A;var I=Vt;Vt|=2;var B=YN();(hr!==p||Gr!==m)&&(Jf(),ou(p,m));do try{mX();break}catch(de){qN(p,de)}while(!0);Hf(),s0.current=B,Vt=I,pr!==null?m=0:(hr=null,Gr=0,m=_r)}if(m!==0){if(m===2&&(I=_s(p),I!==0&&(A=I,m=pE(p,I))),m===1)throw S=rm,ou(p,0),Ol(p,A),$i(p,zn()),S;if(m===6)Ol(p,A);else{if(I=p.current.alternate,!(A&30)&&!hX(I)&&(m=m0(p,A),m===2&&(B=_s(p),B!==0&&(A=B,m=pE(p,B))),m===1))throw S=rm,ou(p,0),Ol(p,A),$i(p,zn()),S;switch(p.finishedWork=I,p.finishedLanes=A,m){case 0:case 1:throw Error(a(345));case 2:au(p,Gi);break;case 3:if(Ol(p,A),(A&130023424)===A&&(m=uE+500-zn(),10<m)){if(qc(p,0)!==0)break;if(I=p.suspendedLanes,(I&A)!==A){Ai(),p.pingedLanes|=p.suspendedLanes&I;break}p.timeoutHandle=ae(au.bind(null,p,Gi),m);break}au(p,Gi);break;case 4:if(Ol(p,A),(A&4194240)===A)break;for(m=p.eventTimes,I=-1;0<A;){var re=31-bi(A);B=1<<re,re=m[re],re>I&&(I=re),A&=~B}if(A=I,A=zn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*dX(A/1960))-A,10<A){p.timeoutHandle=ae(au.bind(null,p,Gi),A);break}au(p,Gi);break;case 5:au(p,Gi);break;default:throw Error(a(329))}}}return $i(p,zn()),p.callbackNode===S?$N.bind(null,p):null}function pE(p,m){var S=im;return p.current.memoizedState.isDehydrated&&(ou(p,m).flags|=256),p=m0(p,m),p!==2&&(m=Gi,Gi=S,m!==null&&mE(m)),p}function mE(p){Gi===null?Gi=p:Gi.push.apply(Gi,p)}function hX(p){for(var m=p;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var A=0;A<S.length;A++){var I=S[A],B=I.getSnapshot;I=I.value;try{if(!lo(B(),I))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ol(p,m){for(m&=~cE,m&=~l0,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var S=31-bi(m),A=1<<S;p[S]=-1,m&=~A}}function WN(p){if(Vt&6)throw Error(a(327));su();var m=qc(p,0);if(!(m&1))return $i(p,zn()),null;var S=m0(p,m);if(p.tag!==0&&S===2){var A=_s(p);A!==0&&(m=A,S=pE(p,A))}if(S===1)throw S=rm,ou(p,0),Ol(p,m),$i(p,zn()),S;if(S===6)throw Error(a(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,au(p,Gi),$i(p,zn()),null}function XN(p){Cl!==null&&Cl.tag===0&&!(Vt&6)&&su();var m=Vt;Vt|=1;var S=ar.transition,A=Gt;try{if(ar.transition=null,Gt=1,p)return p()}finally{Gt=A,ar.transition=S,Vt=m,!(Vt&6)&&Vi()}}function gE(){po=Kf.current,_t(Kf)}function ou(p,m){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==ce&&(p.timeoutHandle=ce,ge(S)),pr!==null)for(S=pr.return;S!==null;){var A=S;switch(NS(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&gn();break;case 3:qf(),_t(bn),_t(Lt),zS();break;case 5:FS(A);break;case 4:qf();break;case 13:_t(jn);break;case 19:_t(jn);break;case 10:Nr(A.type._context);break;case 22:case 23:gE()}S=S.return}if(hr=p,pr=p=Il(p.current,null),Gr=po=m,_r=0,rm=null,cE=l0=Zf=0,Gi=im=null,co!==null){for(m=0;m<co.length;m++)if(S=co[m],A=S.interleaved,A!==null){S.interleaved=null;var I=A.next,B=S.pending;if(B!==null){var re=B.next;B.next=I,A.next=re}S.pending=A}co=null}return p}function qN(p,m){do{var S=pr;try{if(Hf(),jy.current=Xy,Hy){for(var A=qn.memoizedState;A!==null;){var I=A.queue;I!==null&&(I.pending=null),A=A.next}Hy=!1}if(Yf=0,Dr=ei=qn=null,qp=!1,Yp=0,lE.current=null,S===null||S.return===null){_r=1,rm=m,pr=null;break}e:{var B=p,re=S.return,de=S,De=m;if(m=Gr,de.flags|=32768,De!==null&&typeof De=="object"&&typeof De.then=="function"){var et=De,dt=de,It=dt.tag;if(!(dt.mode&1)&&(It===0||It===11||It===15)){var St=dt.alternate;St?(dt.updateQueue=St.updateQueue,dt.memoizedState=St.memoizedState,dt.lanes=St.lanes):(dt.updateQueue=null,dt.memoizedState=null)}var xn=mN(re);if(xn!==null){xn.flags&=-257,gN(xn,re,de,B,m),xn.mode&1&&pN(B,et,m),m=xn,De=et;var yt=m.updateQueue;if(yt===null){var ri=new Set;ri.add(De),m.updateQueue=ri}else yt.add(De);break e}else{if(!(m&1)){pN(B,et,m),vE();break e}De=Error(a(426))}}else if(Ln&&de.mode&1){var zo=mN(re);if(zo!==null){!(zo.flags&65536)&&(zo.flags|=256),gN(zo,re,de,B,m),kS(De);break e}}B=De,_r!==4&&(_r=2),im===null?im=[B]:im.push(B),De=XS(De,de),de=re;do{switch(de.tag){case 3:de.flags|=65536,m&=-m,de.lanes|=m;var Se=dN(de,De,m);DI(de,Se);break e;case 1:B=De;var pe=de.type,Oe=de.stateNode;if(!(de.flags&128)&&(typeof pe.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Pl===null||!Pl.has(Oe)))){de.flags|=65536,m&=-m,de.lanes|=m;var at=hN(de,B,m);DI(de,at);break e}}de=de.return}while(de!==null)}ZN(S)}catch(vt){m=vt,pr===S&&S!==null&&(pr=S=S.return);continue}break}while(!0)}function YN(){var p=s0.current;return s0.current=Xy,p===null?Xy:p}function vE(){(_r===0||_r===3||_r===2)&&(_r=4),hr===null||!(Zf&268435455)&&!(l0&268435455)||Ol(hr,Gr)}function m0(p,m){var S=Vt;Vt|=2;var A=YN();hr===p&&Gr===m||ou(p,m);do try{pX();break}catch(I){qN(p,I)}while(!0);if(Hf(),Vt=S,s0.current=A,pr!==null)throw Error(a(261));return hr=null,Gr=0,_r}function pX(){for(;pr!==null;)KN(pr)}function mX(){for(;pr!==null&&!Fp();)KN(pr)}function KN(p){var m=e3(p.alternate,p,po);p.memoizedProps=p.pendingProps,m===null?ZN(p):pr=m,lE.current=null}function ZN(p){var m=p;do{var S=m.alternate;if(p=m.return,m.flags&32768){if(S=sX(S,m),S!==null){S.flags&=32767,pr=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{_r=6,pr=null;return}}else if(S=iX(S,m,po),S!==null){pr=S;return}if(m=m.sibling,m!==null){pr=m;return}pr=m=p}while(m!==null);_r===0&&(_r=5)}function au(p,m){var S=Gt,A=ar.transition;try{ar.transition=null,Gt=1,gX(p,m,S)}finally{ar.transition=A,Gt=S}return null}function gX(p,m,S){do su();while(Cl!==null);if(Vt&6)throw Error(a(327));var A=p.finishedWork,I=p.finishedLanes;if(A===null)return null;if(p.finishedWork=null,p.finishedLanes=0,A===p.current)throw Error(a(177));p.callbackNode=null,p.callbackPriority=0;var B=A.lanes|A.childLanes;if(El(p,B),p===hr&&(pr=hr=null,Gr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||u0||(u0=!0,t3(wi,function(){return su(),null})),B=(A.flags&15990)!==0,A.subtreeFlags&15990||B){B=ar.transition,ar.transition=null;var re=Gt;Gt=1;var de=Vt;Vt|=4,lE.current=null,cX(p,A),uX(p,A),j(p.containerInfo),p.current=A,fX(A),Ry(),Vt=de,Gt=re,ar.transition=B}else p.current=A;if(u0&&(u0=!1,Cl=p,f0=I),B=p.pendingLanes,B===0&&(Pl=null),zp(A.stateNode),$i(p,zn()),m!==null)for(S=p.onRecoverableError,A=0;A<m.length;A++)S(m[A]);if(c0)throw c0=!1,p=dE,dE=null,p;return f0&1&&p.tag!==0&&su(),B=p.pendingLanes,B&1?p===hE?om++:(om=0,hE=p):om=0,Vi(),null}function su(){if(Cl!==null){var p=Up(f0),m=ar.transition,S=Gt;try{if(ar.transition=null,Gt=16>p?16:p,Cl===null)var A=!1;else{if(p=Cl,Cl=null,f0=0,Vt&6)throw Error(a(331));var I=Vt;for(Vt|=4,ot=p.current;ot!==null;){var B=ot,re=B.child;if(ot.flags&16){var de=B.deletions;if(de!==null){for(var De=0;De<de.length;De++){var et=de[De];for(ot=et;ot!==null;){var dt=ot;switch(dt.tag){case 0:case 11:case 15:iu(8,dt,B)}var It=dt.child;if(It!==null)It.return=dt,ot=It;else for(;ot!==null;){dt=ot;var St=dt.sibling,xn=dt.return;if(LN(dt),dt===et){ot=null;break}if(St!==null){St.return=xn,ot=St;break}ot=xn}}}var yt=B.alternate;if(yt!==null){var ri=yt.child;if(ri!==null){yt.child=null;do{var zo=ri.sibling;ri.sibling=null,ri=zo}while(ri!==null)}}ot=B}}if(B.subtreeFlags&2064&&re!==null)re.return=B,ot=re;else e:for(;ot!==null;){if(B=ot,B.flags&2048)switch(B.tag){case 0:case 11:case 15:iu(9,B,B.return)}var Se=B.sibling;if(Se!==null){Se.return=B.return,ot=Se;break e}ot=B.return}}var pe=p.current;for(ot=pe;ot!==null;){re=ot;var Oe=re.child;if(re.subtreeFlags&2064&&Oe!==null)Oe.return=re,ot=Oe;else e:for(re=pe;ot!==null;){if(de=ot,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:tm(9,de)}}catch(vt){Wi(de,de.return,vt)}if(de===re){ot=null;break e}var at=de.sibling;if(at!==null){at.return=de.return,ot=at;break e}ot=de.return}}if(Vt=I,Vi(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(Kc,p)}catch{}A=!0}return A}finally{Gt=S,ar.transition=m}}return!1}function JN(p,m,S){m=XS(S,m),m=dN(p,m,1),Al(p,m),m=Ai(),p=p0(p,1),p!==null&&(Fa(p,1,m),$i(p,m))}function Wi(p,m,S){if(p.tag===3)JN(p,p,S);else for(;m!==null;){if(m.tag===3){JN(m,p,S);break}else if(m.tag===1){var A=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Pl===null||!Pl.has(A))){p=XS(S,p),p=hN(m,p,1),Al(m,p),p=Ai(),m=p0(m,1),m!==null&&(Fa(m,1,p),$i(m,p));break}}m=m.return}}function vX(p,m,S){var A=p.pingCache;A!==null&&A.delete(m),m=Ai(),p.pingedLanes|=p.suspendedLanes&S,hr===p&&(Gr&S)===S&&(_r===4||_r===3&&(Gr&130023424)===Gr&&500>zn()-uE?ou(p,0):cE|=S),$i(p,m)}function QN(p,m){m===0&&(p.mode&1?(m=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):m=1);var S=Ai();p=p0(p,m),p!==null&&(Fa(p,m,S),$i(p,S))}function yX(p){var m=p.memoizedState,S=0;m!==null&&(S=m.retryLane),QN(p,S)}function xX(p,m){var S=0;switch(p.tag){case 13:var A=p.stateNode,I=p.memoizedState;I!==null&&(S=I.retryLane);break;case 19:A=p.stateNode;break;default:throw Error(a(314))}A!==null&&A.delete(m),QN(p,S)}var e3;e3=function(p,m,S){if(p!==null)if(p.memoizedProps!==m.pendingProps||bn.current)ho=!0;else{if(!(p.lanes&S)&&!(m.flags&128))return ho=!1,aX(p,m,S);ho=!!(p.flags&131072)}else ho=!1,Ln&&m.flags&1048576&&zI(m,Fy,m.index);switch(m.lanes=0,m.tag){case 2:var A=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var I=Or(m,Lt.current);ir(m,S),I=HS(null,m,A,p,I,S);var B=VS();return m.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Xn(A)?(B=!0,rr(m)):B=!1,m.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,CS(m),I.updater=ky,m.stateNode=I,I._reactInternals=m,OS(m,A,p,S),m=KS(null,m,A,!0,B,S)):(m.tag=0,Ln&&B&&IS(m),Ti(null,m,I,S),m=m.child),m;case 16:A=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,I=A._init,A=I(A._payload),m.type=A,I=m.tag=bX(A),p=Ei(A,p),I){case 0:m=YS(null,m,A,p,S);break e;case 1:m=EN(null,m,A,p,S);break e;case 11:m=xN(null,m,A,p,S);break e;case 14:m=_N(null,m,A,Ei(A.type,p),S);break e}throw Error(a(306,A,""))}return m;case 0:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Ei(A,I),YS(p,m,A,I,S);case 1:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Ei(A,I),EN(p,m,A,I,S);case 3:e:{if(MN(m),p===null)throw Error(a(387));A=m.pendingProps,B=m.memoizedState,I=B.element,NI(p,m),Ly(m,A,null,S);var re=m.memoizedState;if(A=re.element,ye&&B.isDehydrated)if(B={element:A,isDehydrated:!1,cache:re.cache,transitions:re.transitions},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){I=Error(a(423)),m=TN(p,m,A,S,I);break e}else if(A!==I){I=Error(a(424)),m=TN(p,m,A,S,I);break e}else for(ye&&(fo=fr(m.stateNode.containerInfo),uo=m,Ln=!0,aa=null,Vp=!1),S=WI(m,null,A,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if($f(),A===I){m=Ts(p,m,S);break e}Ti(p,m,A,S)}m=m.child}return m;case 5:return XI(m),p===null&&LS(m),A=m.type,I=m.pendingProps,B=p!==null?p.memoizedProps:null,re=I.children,ne(A,I)?re=null:B!==null&&ne(A,B)&&(m.flags|=32),SN(p,m),Ti(p,m,re,S),m.child;case 6:return p===null&&LS(m),null;case 13:return AN(p,m,S);case 4:return US(m,m.stateNode.containerInfo),A=m.pendingProps,p===null?m.child=Wf(m,null,A,S):Ti(p,m,A,S),m.child;case 11:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Ei(A,I),xN(p,m,A,I,S);case 7:return Ti(p,m,m.pendingProps,S),m.child;case 8:return Ti(p,m,m.pendingProps.children,S),m.child;case 12:return Ti(p,m,m.pendingProps.children,S),m.child;case 10:e:{if(A=m.type._context,I=m.pendingProps,B=m.memoizedProps,re=I.value,Ny(m,A,re),B!==null)if(lo(B.value,re)){if(B.children===I.children&&!bn.current){m=Ts(p,m,S);break e}}else for(B=m.child,B!==null&&(B.return=m);B!==null;){var de=B.dependencies;if(de!==null){re=B.child;for(var De=de.firstContext;De!==null;){if(De.context===A){if(B.tag===1){De=ws(-1,S&-S),De.tag=2;var et=B.updateQueue;if(et!==null){et=et.shared;var dt=et.pending;dt===null?De.next=De:(De.next=dt.next,dt.next=De),et.pending=De}}B.lanes|=S,De=B.alternate,De!==null&&(De.lanes|=S),Mi(B.return,S,m),de.lanes|=S;break}De=De.next}}else if(B.tag===10)re=B.type===m.type?null:B.child;else if(B.tag===18){if(re=B.return,re===null)throw Error(a(341));re.lanes|=S,de=re.alternate,de!==null&&(de.lanes|=S),Mi(re,S,m),re=B.sibling}else re=B.child;if(re!==null)re.return=B;else for(re=B;re!==null;){if(re===m){re=null;break}if(B=re.sibling,B!==null){B.return=re.return,re=B;break}re=re.return}B=re}Ti(p,m,I.children,S),m=m.child}return m;case 9:return I=m.type,A=m.pendingProps.children,ir(m,S),I=or(I),A=A(I),m.flags|=1,Ti(p,m,A,S),m.child;case 14:return A=m.type,I=Ei(A,m.pendingProps),I=Ei(A.type,I),_N(p,m,A,I,S);case 15:return bN(p,m,m.type,m.pendingProps,S);case 17:return A=m.type,I=m.pendingProps,I=m.elementType===A?I:Ei(A,I),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Xn(A)?(p=!0,rr(m)):p=!1,ir(m,S),FI(m,A,I),OS(m,A,I,S),KS(null,m,A,!0,p,S);case 19:return ON(p,m,S);case 22:return wN(p,m,S)}throw Error(a(156,m.tag))};function t3(p,m){return bs(p,m)}function _X(p,m,S,A){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(p,m,S,A){return new _X(p,m,S,A)}function yE(p){return p=p.prototype,!(!p||!p.isReactComponent)}function bX(p){if(typeof p=="function")return yE(p)?1:0;if(p!=null){if(p=p.$$typeof,p===x)return 11;if(p===_)return 14}return 2}function Il(p,m){var S=p.alternate;return S===null?(S=Bo(p.tag,m,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=m,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,m=p.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function g0(p,m,S,A,I,B){var re=2;if(A=p,typeof p=="function")yE(p)&&(re=1);else if(typeof p=="string")re=5;else e:switch(p){case u:return lu(S.children,I,B,m);case f:re=8,I|=8;break;case d:return p=Bo(12,S,m,I|2),p.elementType=d,p.lanes=B,p;case v:return p=Bo(13,S,m,I),p.elementType=v,p.lanes=B,p;case y:return p=Bo(19,S,m,I),p.elementType=y,p.lanes=B,p;case w:return v0(S,I,B,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:re=10;break e;case g:re=9;break e;case x:re=11;break e;case _:re=14;break e;case b:re=16,A=null;break e}throw Error(a(130,p==null?p:typeof p,""))}return m=Bo(re,S,m,I),m.elementType=p,m.type=A,m.lanes=B,m}function lu(p,m,S,A){return p=Bo(7,p,A,m),p.lanes=S,p}function v0(p,m,S,A){return p=Bo(22,p,A,m),p.elementType=w,p.lanes=S,p.stateNode={},p}function xE(p,m,S){return p=Bo(6,p,null,m),p.lanes=S,p}function _E(p,m,S){return m=Bo(4,p.children!==null?p.children:[],p.key,m),m.lanes=S,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function wX(p,m,S,A,I){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=A,this.onRecoverableError=I,ye&&(this.mutableSourceEagerHydrationData=null)}function n3(p,m,S,A,I,B,re,de,De){return p=new wX(p,m,S,de,De),m===1?(m=1,B===!0&&(m|=8)):m=0,B=Bo(3,null,null,m),p.current=B,B.stateNode=p,B.memoizedState={element:A,isDehydrated:S,cache:null,transitions:null},CS(B),p}function r3(p){if(!p)return Hr;p=p._reactInternals;e:{if(P(p)!==p||p.tag!==1)throw Error(a(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Xn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(p.tag===1){var S=p.type;if(Xn(S))return Ua(p,S,m)}return m}function i3(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(a(188)):(p=Object.keys(p).join(","),Error(a(268,p)));return p=D(m),p===null?null:p.stateNode}function o3(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<m?S:m}}function bE(p,m){o3(p,m),(p=p.alternate)&&o3(p,m)}function SX(p){return p=D(p),p===null?null:p.stateNode}function EX(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=Ai();Fo(p,134217728,m),bE(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Ai(),S=Rl(p);Fo(p,S,m),bE(p,S)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var S=xs(m.pendingLanes);S!==0&&(Ba(m,S|1),$i(m,zn()),!(Vt&6)&&(Jf(),Vi()))}break;case 13:var A=Ai();XN(function(){return Fo(p,1,A)}),bE(p,1)}},n.batchedUpdates=function(p,m){var S=Vt;Vt|=1;try{return p(m)}finally{Vt=S,Vt===0&&(Jf(),za&&Vi())}},n.createComponentSelector=function(p){return{$$typeof:n0,value:p}},n.createContainer=function(p,m,S,A,I,B,re){return n3(p,m,!1,null,S,A,I,B,re)},n.createHasPseudoClassSelector=function(p){return{$$typeof:r0,value:p}},n.createHydrationContainer=function(p,m,S,A,I,B,re,de,De){return p=n3(S,A,!0,p,I,B,re,de,De),p.context=r3(null),S=p.current,A=Ai(),I=Rl(S),B=ws(A,I),B.callback=m??null,Al(S,B),p.current.lanes=I,Fa(p,I,A),$i(p,A),p},n.createPortal=function(p,m,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:A==null?null:""+A,children:p,containerInfo:m,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:i0,value:p}},n.createTestNameSelector=function(p){return{$$typeof:o0,value:p}},n.createTextSelector=function(p){return{$$typeof:a0,value:p}},n.deferredUpdates=function(p){var m=Gt,S=ar.transition;try{return ar.transition=null,Gt=16,p()}finally{Gt=m,ar.transition=S}},n.discreteUpdates=function(p,m,S,A,I){var B=Gt,re=ar.transition;try{return ar.transition=null,Gt=1,p(m,S,A,I)}finally{Gt=B,ar.transition=re,Vt===0&&Jf()}},n.findAllNodes=sE,n.findBoundingRects=function(p,m){if(!W)throw Error(a(363));m=sE(p,m),p=[];for(var S=0;S<m.length;S++)p.push(be(m[S]));for(m=p.length-1;0<m;m--){S=p[m];for(var A=S.x,I=A+S.width,B=S.y,re=B+S.height,de=m-1;0<=de;de--)if(m!==de){var De=p[de],et=De.x,dt=et+De.width,It=De.y,St=It+De.height;if(A>=et&&B>=It&&I<=dt&&re<=St){p.splice(m,1);break}else if(A!==et||S.width!==De.width||St<B||It>re){if(!(B!==It||S.height!==De.height||dt<A||et>I)){et>A&&(De.width+=et-A,De.x=A),dt<I&&(De.width=I-et),p.splice(m,1);break}}else{It>B&&(De.height+=It-B,De.y=B),St<re&&(De.height=re-It),p.splice(m,1);break}}}return p},n.findHostInstance=i3,n.findHostInstanceWithNoPortals=function(p){return p=k(p),p=p!==null?N(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return i3(p)},n.flushControlled=function(p){var m=Vt;Vt|=1;var S=ar.transition,A=Gt;try{ar.transition=null,Gt=1,p()}finally{Gt=A,ar.transition=S,Vt=m,Vt===0&&(Jf(),Vi())}},n.flushPassiveEffects=su,n.flushSync=XN,n.focusWithin=function(p,m){if(!W)throw Error(a(363));for(p=iE(p),m=GN(p,m),m=Array.from(m),p=0;p<m.length;){var S=m[p++];if(!me(S)){if(S.tag===5&&Be(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Gt},n.getFindAllNodesFailureDescription=function(p,m){if(!W)throw Error(a(363));var S=0,A=[];p=[iE(p),0];for(var I=0;I<p.length;){var B=p[I++],re=p[I++],de=m[re];if((B.tag!==5||!me(B))&&(oE(B,de)&&(A.push(aE(de)),re++,re>S&&(S=re)),re<m.length))for(B=B.child;B!==null;)p.push(B,re),B=B.sibling}if(S<m.length){for(p=[];S<m.length;S++)p.push(aE(m[S]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return H(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:SX,findFiberByHostInstance:p.findFiberByHostInstance||EX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{Kc=m.inject(p),so=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,S,A){if(!W)throw Error(a(363));p=sE(p,m);var I=Re(p,S,A).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(p,m){var S=m._getVersion;S=S(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,S]:p.mutableSourceEagerHydrationData.push(m,S)},n.runWithPriority=function(p,m){var S=Gt;try{return Gt=p,m()}finally{Gt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,S,A){var I=m.current,B=Ai(),re=Rl(I);return S=r3(S),m.context===null?m.context=S:m.pendingContext=S,m=ws(B,re),m.payload={element:p},A=A===void 0?null:A,A!==null&&(m.callback=A),Al(I,m),p=Fo(I,re,B),p!==null&&Dy(p,I,re),re},n};IG.exports=Zue;var Jue=IG.exports;const Que=rn(Jue);var NG={exports:{}},DG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var j=U.length;U.push(F);e:for(;0<j;){var z=j-1>>>1,X=U[z];if(0<i(X,F))U[z]=F,U[j]=X,j=z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],j=U.pop();if(j!==F){U[0]=j;e:for(var z=0,X=U.length,q=X>>>1;z<q;){var Z=2*(z+1)-1,ne=U[Z],se=Z+1,ae=U[se];if(0>i(ne,j))se<X&&0>i(ae,ne)?(U[z]=ae,U[se]=j,z=se):(U[z]=ne,U[Z]=j,z=Z);else if(se<X&&0>i(ae,j))U[z]=ae,U[se]=j,z=se;else break e}}return F}function i(U,F){var j=U.sortIndex-F.sortIndex;return j!==0?j:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=U)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function w(U){if(x=!1,b(U),!g)if(n(l)!==null)g=!0,H(E);else{var F=n(c);F!==null&&K(w,F.startTime-U)}}function E(U,F){g=!1,x&&(x=!1,y(O),O=-1),h=!0;var j=d;try{for(b(F),f=n(l);f!==null&&(!(f.expirationTime>F)||U&&!k());){var z=f.callback;if(typeof z=="function"){f.callback=null,d=f.priorityLevel;var X=z(f.expirationTime<=F);F=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),b(F)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var Z=n(c);Z!==null&&K(w,Z.startTime-F),q=!1}return q}finally{f=null,d=j,h=!1}}var M=!1,T=null,O=-1,P=5,R=-1;function k(){return!(t.unstable_now()-R<P)}function D(){if(T!==null){var U=t.unstable_now();R=U;var F=!0;try{F=T(!0,U)}finally{F?G():(M=!1,T=null)}}else M=!1}var G;if(typeof _=="function")G=function(){_(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$=N.port2;N.port1.onmessage=D,G=function(){$.postMessage(null)}}else G=function(){v(D,0)};function H(U){T=U,M||(M=!0,G())}function K(U,F){O=v(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,H(E))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var j=d;d=F;try{return U()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=d;d=U;try{return F()}finally{d=j}},t.unstable_scheduleCallback=function(U,F,j){var z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,U={id:u++,callback:F,priorityLevel:U,startTime:j,expirationTime:X,sortIndex:-1},j>z?(U.sortIndex=j,e(c,U),n(l)===null&&U===n(c)&&(x?(y(O),O=-1):x=!0,K(w,j-z))):(U.sortIndex=X,e(l,U),g||h||(g=!0,H(E))),U},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(U){var F=d;return function(){var j=d;d=F;try{return U.apply(this,arguments)}finally{d=j}}}})(DG);NG.exports=DG;var Dk=NG.exports;const wO={},efe=t=>void Object.assign(wO,t);function tfe(t,e){function n(u,{args:f=[],attach:d,...h},g){let x=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=h.object;v=Cd(y,{type:u,root:g,attach:d,primitive:!0})}else{const y=wO[x];if(!y)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=Cd(new y(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),x!=="inject"&&$M(v,h),v}function r(u,f){let d=!1;if(f){var h,g;(h=f.__r3f)!=null&&h.attach?GM(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Cd(f,{}),f.__r3f.parent=u,N2(f),Rd(f)}}function i(u,f,d){let h=!1;if(f){var g,x;if((g=f.__r3f)!=null&&g.attach)GM(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const v=u.children.filter(_=>_!==f),y=v.indexOf(d);u.children=[...v.slice(0,y),f,...v.slice(y)],h=!0}h||(x=u.__r3f)==null||x.objects.push(f),f.__r3f||Cd(f,{}),f.__r3f.parent=u,N2(f),Rd(f)}}function o(u,f,d=!1){u&&[...u].forEach(h=>a(f,h,d))}function a(u,f,d){if(f){var h,g,x;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==f)),(g=f.__r3f)!=null&&g.attach)Bk(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&cfe(C1(f),f)}const _=(x=f.__r3f)==null?void 0:x.primitive,b=!_&&(d===void 0?f.dispose!==null:d);if(!_){var y;o((y=f.__r3f)==null?void 0:y.objects,f,b),o(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const w=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Dk.unstable_scheduleCallback(Dk.unstable_IdlePriority,w):w()}Rd(u)}}function s(u,f,d,h){var g;const x=(g=u.__r3f)==null?void 0:g.parent;if(!x)return;const v=n(f,d,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(v,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(v,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(x,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&C1(v).getState().internal.interaction.push(v),[h,h.alternate].forEach(y=>{y!==null&&(y.stateNode=v,y.ref&&(typeof y.ref=="function"?y.ref(v):y.ref.current=v))})}const l=()=>{};return{reconciler:Que({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&a(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const h=u.getState().scene;h.__r3f&&i(h,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,h){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:v=[],children:y,..._}=h,{args:b=[],children:w,...E}=d;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((T,O)=>T!==b[O]))return[!0];const M=jG(u,_,E,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[f,d],h,g,x,v){f?s(u,h,x,v):$M(u,d)},commitMount(u,f,d,h){var g;const x=(g=u.__r3f)!=null?g:{};u.raycast&&x.handlers&&x.eventCount&&C1(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Cd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:h}=(f=u.__r3f)!=null?f:{};d&&h&&Bk(h,u,d),u.isObject3D&&(u.visible=!1),Rd(u)},unhideInstance(u,f){var d;const{attach:h,parent:g}=(d=u.__r3f)!=null?d:{};h&&g&&GM(g,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Rd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Zd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&In.fun(performance.now)?performance.now:In.fun(Date.now)?Date.now:()=>0,scheduleTimeout:In.fun(setTimeout)?setTimeout:void 0,cancelTimeout:In.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$M}}var Lk,kk;const VM=t=>"colorSpace"in t||"outputColorSpace"in t,LG=()=>{var t;return(t=wO.ColorManagement)!=null?t:null},kG=t=>t&&t.isOrthographicCamera,nfe=t=>t&&t.hasOwnProperty("current"),vy=typeof window<"u"&&((Lk=window.document)!=null&&Lk.createElement||((kk=window.navigator)==null?void 0:kk.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function UG(t){const e=L.useRef(t);return vy(()=>void(e.current=t),[t]),e}function rfe({set:t}){return vy(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class FG extends L.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}FG.getDerivedStateFromError=()=>({error:!0});const BG="__default",Uk=new Map,ife=t=>t&&!!t.memoized&&!!t.changes;function zG(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Am=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function C1(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const In={obj:t=>t===Object(t)&&!In.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(In.str(t)||In.num(t)||In.boo(t))return t===e;const o=In.obj(t);if(o&&r==="reference")return t===e;const a=In.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!In.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(In.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ofe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Cd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function I2(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const Fk=/-\d+$/;function GM(t,e,n){if(In.str(n)){if(Fk.test(n)){const o=n.replace(Fk,""),{target:a,key:s}=I2(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=I2(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function Bk(t,e,n){var r,i;if(In.str(n)){const{target:o,key:a}=I2(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function jG(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const g=Object.keys(l);for(let x=0;x<g.length;x++)i.hasOwnProperty(g[x])||f.unshift([g[x],BG+"remove"])}f.forEach(([g,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&g==="object"||In.equ(x,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return d.push([g,x,!0,[]]);let y=[];g.includes("-")&&(y=g.split("-")),d.push([g,x,!1,y]);for(const _ in i){const b=i[_];_.startsWith(`${g}-`)&&d.push([_,b,!1,_.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:d}}const afe=typeof process<"u"&&!1;function $M(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=ife(e)?e:jG(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<s.length;d++){let[h,g,x,v]=s[d];if(VM(t)){const w="srgb",E="srgb-linear";h==="encoding"?(h="colorSpace",g=g===3001?w:E):h==="outputEncoding"&&(h="outputColorSpace",g=g===3001?w:E)}let y=t,_=y[h];if(v.length&&(_=v.reduce((b,w)=>b[w],t),!(_&&_.set))){const[b,...w]=v.reverse();y=w.reverse().reduce((E,M)=>E[M],t),h=b}if(g===BG+"remove")if(y.constructor){let b=Uk.get(y.constructor);b||(b=new y.constructor,Uk.set(y.constructor,b)),g=b[h]}else g=0;if(x&&r)g?r.handlers[h]=g:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof rf)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&(afe?_.constructor.name===g.constructor.name:_.constructor===g.constructor))_.copy(g);else if(g!==void 0){var c;const b=(c=_)==null?void 0:c.isColor;!b&&_.setScalar?_.setScalar(g):_ instanceof rf&&g instanceof rf?_.mask=g.mask:_.set(g),!LG()&&o&&!o.linear&&b&&_.convertSRGBToLinear()}}else{var u;if(y[h]=g,(u=y[h])!=null&&u.isTexture&&y[h].format===Ni&&y[h].type===ns&&o){const b=y[h];VM(b)&&VM(o.gl)?b.colorSpace=o.gl.outputColorSpace:b.encoding=o.gl.outputEncoding}}Rd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=C1(t).getState().internal,h=d.interaction.indexOf(t);h>-1&&d.interaction.splice(h,1),r.eventCount&&d.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&N2(t),t}function Rd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function N2(t){t.onUpdate==null||t.onUpdate(t)}function sfe(t,e){t.manual||(kG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Ux(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function lfe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Zd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zd.ContinuousEventPriority;default:return Zd.DefaultEventPriority}}function HG(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function cfe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{HG(n.capturedMap,e,r,i)})}function ufe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<h.length;y++){const _=Am(h[y]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(y){const _=Am(y);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var b;_.events.compute==null||_.events.compute(l,_,(b=_.previousRoot)==null?void 0:b.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(y,!0):[]}let x=h.flatMap(g).sort((y,_)=>{const b=Am(y.object),w=Am(_.object);return!b||!w?y.distance-_.distance:w.events.priority-b.events.priority||y.distance-_.distance}).filter(y=>{const _=Ux(y);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const y of x){let _=y.object;for(;_;){var v;(v=_.__r3f)!=null&&v.eventCount&&d.push({...y,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())f.has(Ux(y.intersection))||d.push(y.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const h={stopped:!1};for(const g of l){const x=Am(g.object)||d,{raycaster:v,pointer:y,camera:_,internal:b}=x,w=new te(y.x,y.y,0).unproject(_),E=R=>{var k,D;return(k=(D=b.capturedMap.get(R))==null?void 0:D.has(g.eventObject))!=null?k:!1},M=R=>{const k={intersection:g,target:c.target};b.capturedMap.has(R)?b.capturedMap.get(R).set(g.eventObject,k):b.capturedMap.set(R,new Map([[g.eventObject,k]])),c.target.setPointerCapture(R)},T=R=>{const k=b.capturedMap.get(R);k&&HG(b.capturedMap,g.eventObject,k,R)};let O={};for(let R in c){let k=c[R];typeof k!="function"&&(O[R]=k)}let P={...g,...O,pointer:y,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:w,ray:v.ray,camera:_,stopPropagation(){const R="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!R||R.has(g.eventObject))&&(P.stopped=h.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(k=>k.eventObject===g.eventObject))){const k=l.slice(0,l.indexOf(g));o([...k,g])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},nativeEvent:c};if(f(P),h.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,h=d==null?void 0:d.handlers;if(c.hovered.delete(Ux(u)),d!=null&&d.eventCount){const g={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(g),h.onPointerLeave==null||h.onPointerLeave(g)}}}function a(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const h=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,h?n:void 0),y=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=v.map(b=>b.eventObject)),g&&!v.length&&y<=2&&(a(u,d.interaction),f&&f(u)),h&&o(v);function _(b){const w=b.eventObject,E=w.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(h){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=Ux(b),O=d.hovered.get(T);O?O.stopped&&b.stopPropagation():(d.hovered.set(T,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const T=M[l];T?(!g||d.initialHits.includes(w))&&(a(u,d.interaction.filter(O=>!d.initialHits.includes(O))),T(b)):g&&d.initialHits.includes(w)&&a(u,d.interaction.filter(O=>!d.initialHits.includes(O)))}}i(v,u,y,_)}}return{handlePointer:s}}const VG=t=>!!(t!=null&&t.render),GG=L.createContext(null),ffe=(t,e)=>{const n=Gue((s,l)=>{const c=new te,u=new te,f=new te;function d(y=l().camera,_=u,b=l().size){const{width:w,height:E,top:M,left:T}=b,O=w/E;_.isVector3?f.copy(_):f.set(..._);const P=y.getWorldPosition(c).distanceTo(f);if(kG(y))return{width:w/y.zoom,height:E/y.zoom,top:M,left:T,factor:1,distance:P,aspect:O};{const R=y.fov*Math.PI/180,k=2*Math.tan(R/2)*P,D=k*(w/E);return{width:D,height:k,top:M,left:T,factor:w/D,distance:P,aspect:O}}}let h;const g=y=>s(_=>({performance:{..._.performance,current:y}})),x=new Ue;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,_)=>e(y,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yO,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();h&&clearTimeout(h),y.performance.current!==y.performance.min&&g(y.performance.min),h=setTimeout(()=>g(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:y=>s(_=>({..._,events:{..._.events,...y}})),setSize:(y,_,b,w,E)=>{const M=l().camera,T={width:y,height:_,top:w||0,left:E||0,updateStyle:b};s(O=>({size:T,viewport:{...O.viewport,...d(M,u,T)}}))},setDpr:y=>s(_=>{const b=zG(y);return{viewport:{..._.viewport,dpr:b,initialDpr:_.viewport.initialDpr||b}}}),setFrameloop:(y="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),s(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:L.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,_,b)=>{const w=l().internal;return w.priority=w.priority+(_>0?1:0),w.subscribers.push({ref:y,priority:_,store:b}),w.subscribers=w.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(_>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==y))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var d;i=l,o=c.dpr,sfe(s,l),u.setPixelRatio(c.dpr);const h=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}s!==a&&(a=s,f(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Fx,dfe=new Set,hfe=new Set,pfe=new Set;function WM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Pm(t,e){switch(t){case"before":return WM(dfe,e);case"after":return WM(hfe,e);case"tail":return WM(pfe,e)}}let XM,qM;function YM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),XM=e.internal.subscribers,Fx=0;Fx<XM.length;Fx++)qM=XM[Fx],qM.ref.current(qM.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function mfe(t){let e=!1,n=!1,r,i,o;function a(c){i=requestAnimationFrame(a),e=!0,r=0,Pm("before",c),n=!0;for(const f of t.values()){var u;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=YM(c,o))}if(n=!1,Pm("after",c),r===0)return Pm("tail",c),e=!1,cancelAnimationFrame(i)}function s(c,u=1){var f;if(!c)return t.forEach(d=>s(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,f,d){if(u&&Pm("before",c),f)YM(c,f,d);else for(const h of t.values())YM(c,h.store.getState());u&&Pm("after",c)}return{loop:a,invalidate:s,advance:l}}function $G(){const t=L.useContext(GG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Us(t=n=>n,e){return $G()(t,e)}function Dw(t,e=0){const n=$G(),r=n.getState().internal.subscribe,i=UG(t);return vy(()=>r(i,e,n),[e,r,n]),null}const Fh=new Map,{invalidate:zk,advance:jk}=mfe(Fh),{reconciler:y_,applyProps:wd}=tfe(Fh,lfe),Sd={objects:"shallow",strict:!1},gfe=(t,e)=>{const n=typeof t=="function"?t(e):t;return VG(n)?n:new QR({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function vfe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function yfe(t){const e=Fh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||ffe(zk,jk),a=n||y_.createContainer(o,Zd.ConcurrentRoot,null,!1,null,"",i,null);e||Fh.set(t,{fiber:a,store:o});let s,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:h,events:g,onCreated:x,shadows:v=!1,linear:y=!1,flat:_=!1,legacy:b=!1,orthographic:w=!1,frameloop:E="always",dpr:M=[1,2],performance:T,raycaster:O,camera:P,onPointerMissed:R}=u,k=o.getState(),D=k.gl;k.gl||k.set({gl:D=gfe(f,t)});let G=k.raycaster;G||k.set({raycaster:G=new CG});const{params:N,...$}=O||{};if(In.equ($,G,Sd)||wd(G,{...$}),In.equ(N,G.params,Sd)||wd(G,{params:{...G.params,...N}}),!k.camera||k.camera===c&&!In.equ(c,P,Sd)){c=P;const j=P instanceof uy,z=j?P:w?new wc(0,0,0,0,.1,1e3):new ur(75,0,.1,1e3);j||(z.position.z=5,P&&(wd(z,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(z.manual=!0,z.updateProjectionMatrix())),!k.camera&&!(P!=null&&P.rotation)&&z.lookAt(0,0,0)),k.set({camera:z}),G.camera=z}if(!k.scene){let j;h!=null&&h.isScene?j=h:(j=new eO,h&&wd(j,h)),k.set({scene:Cd(j)})}if(!k.xr){var H;const j=(q,Z)=>{const ne=o.getState();ne.frameloop!=="never"&&jk(q,!0,ne,Z)},z=()=>{const q=o.getState();q.gl.xr.enabled=q.gl.xr.isPresenting,q.gl.xr.setAnimationLoop(q.gl.xr.isPresenting?j:null),q.gl.xr.isPresenting||zk(q)},X={connect(){const q=o.getState().gl;q.xr.addEventListener("sessionstart",z),q.xr.addEventListener("sessionend",z)},disconnect(){const q=o.getState().gl;q.xr.removeEventListener("sessionstart",z),q.xr.removeEventListener("sessionend",z)}};typeof((H=D.xr)==null?void 0:H.addEventListener)=="function"&&X.connect(),k.set({xr:X})}if(D.shadowMap){const j=D.shadowMap.enabled,z=D.shadowMap.type;if(D.shadowMap.enabled=!!v,In.boo(v))D.shadowMap.type=ng;else if(In.str(v)){var K;const X={basic:EH,percentage:ow,soft:ng,variance:ma};D.shadowMap.type=(K=X[v])!=null?K:ng}else In.obj(v)&&Object.assign(D.shadowMap,v);(j!==D.shadowMap.enabled||z!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const U=LG();U&&("enabled"in U?U.enabled=!b:"legacyMode"in U&&(U.legacyMode=b)),l||wd(D,{outputEncoding:y?3e3:3001,toneMapping:_?ts:IR}),k.legacy!==b&&k.set(()=>({legacy:b})),k.linear!==y&&k.set(()=>({linear:y})),k.flat!==_&&k.set(()=>({flat:_})),f&&!In.fun(f)&&!VG(f)&&!In.equ(f,D,Sd)&&wd(D,f),g&&!k.events.handlers&&k.set({events:g(o)});const F=vfe(t,d);return In.equ(F,k.size,Sd)||k.setSize(F.width,F.height,F.updateStyle,F.top,F.left),M&&k.viewport.dpr!==zG(M)&&k.setDpr(M),k.frameloop!==E&&k.setFrameloop(E),k.onPointerMissed||k.set({onPointerMissed:R}),T&&!In.equ(T,k.performance,Sd)&&k.set(j=>({performance:{...j.performance,...T}})),s=x,l=!0,this},render(u){return l||this.configure(),y_.updateContainer(C.jsx(xfe,{store:o,children:u,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){WG(t)}}}function xfe({store:t,children:e,onCreated:n,rootElement:r}){return vy(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.jsx(GG.Provider,{value:t,children:e})}function WG(t,e){const n=Fh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),y_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ofe(i),Fh.delete(t)}catch{}},500)})}}y_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:L.version});const KM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function _fe(t){const{handlePointer:e}=ufe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(KM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,c]=KM[a];n.addEventListener(l,s,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=KM[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function Hk(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function bfe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=L.useRef(!1);L.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,h]=L.useMemo(()=>{const y=()=>{if(!s.current.element)return;const{left:_,top:b,width:w,height:E,bottom:M,right:T,x:O,y:P}=s.current.element.getBoundingClientRect(),R={left:_,top:b,width:w,height:E,bottom:M,right:T,x:O,y:P};s.current.element instanceof HTMLElement&&r&&(R.height=s.current.element.offsetHeight,R.width=s.current.element.offsetWidth),Object.freeze(R),u.current&&!Mfe(s.current.lastBounds,R)&&a(s.current.lastBounds=R)};return[y,c?Hk(y,c):y,l?Hk(y,l):y]},[a,r,l,c]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",h,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(h),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(y=>y.addEventListener("scroll",h,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const v=y=>{!y||y===s.current.element||(g(),s.current.element=y,s.current.scrollContainers=XG(y),x())};return Sfe(h,!!e),wfe(d),L.useEffect(()=>{g(),x()},[e,h,d]),L.useEffect(()=>g,[]),[v,o,f]}function wfe(t){L.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Sfe(t,e){L.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function XG(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...XG(t.parentElement)]}const Efe=["x","y","top","bottom","left","right","width","height"],Mfe=(t,e)=>Efe.every(n=>t[n]===e[n]);var Tfe=Object.defineProperty,Afe=Object.defineProperties,Pfe=Object.getOwnPropertyDescriptors,Vk=Object.getOwnPropertySymbols,Cfe=Object.prototype.hasOwnProperty,Rfe=Object.prototype.propertyIsEnumerable,Gk=(t,e,n)=>e in t?Tfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$k=(t,e)=>{for(var n in e||(e={}))Cfe.call(e,n)&&Gk(t,n,e[n]);if(Vk)for(var n of Vk(e))Rfe.call(e,n)&&Gk(t,n,e[n]);return t},Ofe=(t,e)=>Afe(t,Pfe(e)),Wk,Xk;typeof window<"u"&&((Wk=window.document)!=null&&Wk.createElement||((Xk=window.navigator)==null?void 0:Xk.product)==="ReactNative")?L.useLayoutEffect:L.useEffect;function qG(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=qG(r,e,n);if(i)return i;r=r.sibling}}function YG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const qk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=qk;return}return qk.apply(this,arguments)};const SO=YG(L.createContext(null));class KG extends L.Component{render(){return L.createElement(SO.Provider,{value:this._reactInternals},this.props.children)}}function Ife(){const t=L.useContext(SO);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=qG(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function Nfe(){const t=Ife(),[e]=L.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==SO&&!e.has(i)&&e.set(i,L.useContext(YG(i)))}n=n.return}return e}function Dfe(){const t=Nfe();return L.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>L.createElement(e,null,L.createElement(n.Provider,Ofe($k({},r),{value:t.get(n)}))),e=>L.createElement(KG,$k({},e))),[t])}const Lfe=L.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=_fe,eventSource:s,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:g,dpr:x,performance:v,raycaster:y,camera:_,scene:b,onPointerMissed:w,onCreated:E,...M},T){L.useMemo(()=>efe(jue),[]);const O=Dfe(),[P,R]=bfe({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=L.useRef(null),D=L.useRef(null);L.useImperativeHandle(T,()=>k.current);const G=UG(w),[N,$]=L.useState(!1),[H,K]=L.useState(!1);if(N)throw N;if(H)throw H;const U=L.useRef(null);vy(()=>{const j=k.current;R.width>0&&R.height>0&&j&&(U.current||(U.current=yfe(j)),U.current.configure({gl:o,events:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:h,frameloop:g,dpr:x,performance:v,raycaster:y,camera:_,scene:b,size:R,onPointerMissed:(...z)=>G.current==null?void 0:G.current(...z),onCreated:z=>{z.events.connect==null||z.events.connect(s?nfe(s)?s.current:s:D.current),l&&z.setEvents({compute:(X,q)=>{const Z=X[l+"X"],ne=X[l+"Y"];q.pointer.set(Z/q.size.width*2-1,-(ne/q.size.height)*2+1),q.raycaster.setFromCamera(q.pointer,q.camera)}}),E==null||E(z)}}),U.current.render(C.jsx(O,{children:C.jsx(FG,{set:K,children:C.jsx(L.Suspense,{fallback:C.jsx(rfe,{set:$}),children:e??null})})})))}),L.useEffect(()=>{const j=k.current;if(j)return()=>WG(j)},[]);const F=s?"none":"auto";return C.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...i},...M,children:C.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:C.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}),kfe=L.forwardRef(function(e,n){return C.jsx(KG,{children:C.jsx(Lfe,{...e,ref:n})})});function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}var Ufe=Object.defineProperty,Ffe=(t,e,n)=>e in t?Ufe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bfe=(t,e,n)=>(Ffe(t,e+"",n),n);class zfe{constructor(){Bfe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}var jfe=Object.defineProperty,Hfe=(t,e,n)=>e in t?jfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Et=(t,e,n)=>(Hfe(t,typeof e!="symbol"?e+"":e,n),n);const Bx=new Cf,Yk=new js,Vfe=Math.cos(70*(Math.PI/180)),Kk=(t,e)=>(t%e+e)%e;let Gfe=class extends zfe{constructor(e,n){super(),Et(this,"object"),Et(this,"domElement"),Et(this,"enabled",!0),Et(this,"target",new te),Et(this,"minDistance",0),Et(this,"maxDistance",1/0),Et(this,"minZoom",0),Et(this,"maxZoom",1/0),Et(this,"minPolarAngle",0),Et(this,"maxPolarAngle",Math.PI),Et(this,"minAzimuthAngle",-1/0),Et(this,"maxAzimuthAngle",1/0),Et(this,"enableDamping",!1),Et(this,"dampingFactor",.05),Et(this,"enableZoom",!0),Et(this,"zoomSpeed",1),Et(this,"enableRotate",!0),Et(this,"rotateSpeed",1),Et(this,"enablePan",!0),Et(this,"panSpeed",1),Et(this,"screenSpacePanning",!0),Et(this,"keyPanSpeed",7),Et(this,"zoomToCursor",!1),Et(this,"autoRotate",!1),Et(this,"autoRotateSpeed",2),Et(this,"reverseOrbit",!1),Et(this,"reverseHorizontalOrbit",!1),Et(this,"reverseVerticalOrbit",!1),Et(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Et(this,"mouseButtons",{LEFT:Tu.ROTATE,MIDDLE:Tu.DOLLY,RIGHT:Tu.PAN}),Et(this,"touches",{ONE:Au.ROTATE,TWO:Au.DOLLY_PAN}),Et(this,"target0"),Et(this,"position0"),Et(this,"zoom0"),Et(this,"_domElementKeyEvents",null),Et(this,"getPolarAngle"),Et(this,"getAzimuthalAngle"),Et(this,"setPolarAngle"),Et(this,"setAzimuthalAngle"),Et(this,"getDistance"),Et(this,"getZoomScale"),Et(this,"listenToKeyEvents"),Et(this,"stopListenToKeyEvents"),Et(this,"saveState"),Et(this,"reset"),Et(this,"update"),Et(this,"connect"),Et(this,"dispose"),Et(this,"dollyIn"),Et(this,"dollyOut"),Et(this,"getScale"),Et(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ie=>{let Pe=Kk(ie,2*Math.PI),Qe=u.phi;Qe<0&&(Qe+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let $e=Math.abs(Pe-Qe);2*Math.PI-$e<$e&&(Pe<Qe?Pe+=2*Math.PI:Qe+=2*Math.PI),f.phi=Pe-Qe,r.update()},this.setAzimuthalAngle=ie=>{let Pe=Kk(ie,2*Math.PI),Qe=u.theta;Qe<0&&(Qe+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let $e=Math.abs(Pe-Qe);2*Math.PI-$e<$e&&(Pe<Qe?Pe+=2*Math.PI:Qe+=2*Math.PI),f.theta=Pe-Qe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",Ve),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ve),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ie=new te,Pe=new te(0,1,0),Qe=new gi().setFromUnitVectors(e.up,Pe),$e=Qe.clone().invert(),Ee=new te,oe=new gi,Xe=2*Math.PI;return function(){const Je=r.object.position;Qe.setFromUnitVectors(e.up,Pe),$e.copy(Qe).invert(),ie.copy(Je).sub(r.target),ie.applyQuaternion(Qe),u.setFromVector3(ie),r.autoRotate&&l===s.NONE&&N(D()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Le=r.minAzimuthAngle,Ze=r.maxAzimuthAngle;isFinite(Le)&&isFinite(Ze)&&(Le<-Math.PI?Le+=Xe:Le>Math.PI&&(Le-=Xe),Ze<-Math.PI?Ze+=Xe:Ze>Math.PI&&(Ze-=Xe),Le<=Ze?u.theta=Math.max(Le,Math.min(Ze,u.theta)):u.theta=u.theta>(Le+Ze)/2?Math.max(Le,u.theta):Math.min(Ze,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&P||r.object.isOrthographicCamera?u.radius=q(u.radius):u.radius=q(u.radius*d),ie.setFromSpherical(u),ie.applyQuaternion($e),Je.copy(r.target).add(ie),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),h.set(0,0,0));let We=!1;if(r.zoomToCursor&&P){let ht=null;if(r.object instanceof ur&&r.object.isPerspectiveCamera){const bt=ie.length();ht=q(bt*d);const gt=bt-ht;r.object.position.addScaledVector(T,gt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const bt=new te(O.x,O.y,0);bt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),We=!0;const gt=new te(O.x,O.y,0);gt.unproject(r.object),r.object.position.sub(gt).add(bt),r.object.updateMatrixWorld(),ht=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;ht!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(ht).add(r.object.position):(Bx.origin.copy(r.object.position),Bx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Bx.direction))<Vfe?e.lookAt(r.target):(Yk.setFromNormalAndCoplanarPoint(r.object.up,r.target),Bx.intersectPlane(Yk,r.target))))}else r.object instanceof wc&&r.object.isOrthographicCamera&&(We=d!==1,We&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,P=!1,We||Ee.distanceToSquared(r.object.position)>c||8*(1-oe.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ee.copy(r.object.position),oe.copy(r.object.quaternion),We=!1,!0):!1}})(),this.connect=ie=>{r.domElement=ie,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",lt),r.domElement.addEventListener("pointerdown",be),r.domElement.addEventListener("pointercancel",me),r.domElement.addEventListener("wheel",Re)},this.dispose=()=>{var ie,Pe,Qe,$e,Ee,oe;r.domElement&&(r.domElement.style.touchAction="auto"),(ie=r.domElement)==null||ie.removeEventListener("contextmenu",lt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",be),(Qe=r.domElement)==null||Qe.removeEventListener("pointercancel",me),($e=r.domElement)==null||$e.removeEventListener("wheel",Re),(Ee=r.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",fe),(oe=r.domElement)==null||oe.ownerDocument.removeEventListener("pointerup",me),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ve)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,u=new O2,f=new O2;let d=1;const h=new te,g=new Ue,x=new Ue,v=new Ue,y=new Ue,_=new Ue,b=new Ue,w=new Ue,E=new Ue,M=new Ue,T=new te,O=new Ue;let P=!1;const R=[],k={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function G(){return Math.pow(.95,r.zoomSpeed)}function N(ie){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ie:f.theta-=ie}function $(ie){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ie:f.phi-=ie}const H=(()=>{const ie=new te;return function(Qe,$e){ie.setFromMatrixColumn($e,0),ie.multiplyScalar(-Qe),h.add(ie)}})(),K=(()=>{const ie=new te;return function(Qe,$e){r.screenSpacePanning===!0?ie.setFromMatrixColumn($e,1):(ie.setFromMatrixColumn($e,0),ie.crossVectors(r.object.up,ie)),ie.multiplyScalar(Qe),h.add(ie)}})(),U=(()=>{const ie=new te;return function(Qe,$e){const Ee=r.domElement;if(Ee&&r.object instanceof ur&&r.object.isPerspectiveCamera){const oe=r.object.position;ie.copy(oe).sub(r.target);let Xe=ie.length();Xe*=Math.tan(r.object.fov/2*Math.PI/180),H(2*Qe*Xe/Ee.clientHeight,r.object.matrix),K(2*$e*Xe/Ee.clientHeight,r.object.matrix)}else Ee&&r.object instanceof wc&&r.object.isOrthographicCamera?(H(Qe*(r.object.right-r.object.left)/r.object.zoom/Ee.clientWidth,r.object.matrix),K($e*(r.object.top-r.object.bottom)/r.object.zoom/Ee.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function F(ie){r.object instanceof ur&&r.object.isPerspectiveCamera||r.object instanceof wc&&r.object.isOrthographicCamera?d=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function j(ie){F(d/ie)}function z(ie){F(d*ie)}function X(ie){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Pe=r.domElement.getBoundingClientRect(),Qe=ie.clientX-Pe.left,$e=ie.clientY-Pe.top,Ee=Pe.width,oe=Pe.height;O.x=Qe/Ee*2-1,O.y=-($e/oe)*2+1,T.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function q(ie){return Math.max(r.minDistance,Math.min(r.maxDistance,ie))}function Z(ie){g.set(ie.clientX,ie.clientY)}function ne(ie){X(ie),w.set(ie.clientX,ie.clientY)}function se(ie){y.set(ie.clientX,ie.clientY)}function ae(ie){x.set(ie.clientX,ie.clientY),v.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(N(2*Math.PI*v.x/Pe.clientHeight),$(2*Math.PI*v.y/Pe.clientHeight)),g.copy(x),r.update()}function ge(ie){E.set(ie.clientX,ie.clientY),M.subVectors(E,w),M.y>0?j(G()):M.y<0&&z(G()),w.copy(E),r.update()}function ce(ie){_.set(ie.clientX,ie.clientY),b.subVectors(_,y).multiplyScalar(r.panSpeed),U(b.x,b.y),y.copy(_),r.update()}function ve(ie){X(ie),ie.deltaY<0?z(G()):ie.deltaY>0&&j(G()),r.update()}function he(ie){let Pe=!1;switch(ie.code){case r.keys.UP:U(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(ie.preventDefault(),r.update())}function V(){if(R.length==1)g.set(R[0].pageX,R[0].pageY);else{const ie=.5*(R[0].pageX+R[1].pageX),Pe=.5*(R[0].pageY+R[1].pageY);g.set(ie,Pe)}}function ye(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const ie=.5*(R[0].pageX+R[1].pageX),Pe=.5*(R[0].pageY+R[1].pageY);y.set(ie,Pe)}}function le(){const ie=R[0].pageX-R[1].pageX,Pe=R[0].pageY-R[1].pageY,Qe=Math.sqrt(ie*ie+Pe*Pe);w.set(0,Qe)}function we(){r.enableZoom&&le(),r.enablePan&&ye()}function ue(){r.enableZoom&&le(),r.enableRotate&&V()}function Fe(ie){if(R.length==1)x.set(ie.pageX,ie.pageY);else{const Qe=Ne(ie),$e=.5*(ie.pageX+Qe.x),Ee=.5*(ie.pageY+Qe.y);x.set($e,Ee)}v.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(N(2*Math.PI*v.x/Pe.clientHeight),$(2*Math.PI*v.y/Pe.clientHeight)),g.copy(x)}function xe(ie){if(R.length==1)_.set(ie.pageX,ie.pageY);else{const Pe=Ne(ie),Qe=.5*(ie.pageX+Pe.x),$e=.5*(ie.pageY+Pe.y);_.set(Qe,$e)}b.subVectors(_,y).multiplyScalar(r.panSpeed),U(b.x,b.y),y.copy(_)}function Y(ie){const Pe=Ne(ie),Qe=ie.pageX-Pe.x,$e=ie.pageY-Pe.y,Ee=Math.sqrt(Qe*Qe+$e*$e);E.set(0,Ee),M.set(0,Math.pow(E.y/w.y,r.zoomSpeed)),j(M.y),w.copy(E)}function W(ie){r.enableZoom&&Y(ie),r.enablePan&&xe(ie)}function ee(ie){r.enableZoom&&Y(ie),r.enableRotate&&Fe(ie)}function be(ie){var Pe,Qe;r.enabled!==!1&&(R.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",fe),(Qe=r.domElement)==null||Qe.ownerDocument.addEventListener("pointerup",me)),rt(ie),ie.pointerType==="touch"?qe(ie):Ie(ie))}function fe(ie){r.enabled!==!1&&(ie.pointerType==="touch"?Ae(ie):Be(ie))}function me(ie){var Pe,Qe,$e;Ye(ie),R.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(ie.pointerId),(Qe=r.domElement)==null||Qe.ownerDocument.removeEventListener("pointermove",fe),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointerup",me)),r.dispatchEvent(a),l=s.NONE}function Ie(ie){let Pe;switch(ie.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case Tu.DOLLY:if(r.enableZoom===!1)return;ne(ie),l=s.DOLLY;break;case Tu.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enablePan===!1)return;se(ie),l=s.PAN}else{if(r.enableRotate===!1)return;Z(ie),l=s.ROTATE}break;case Tu.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enableRotate===!1)return;Z(ie),l=s.ROTATE}else{if(r.enablePan===!1)return;se(ie),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Be(ie){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ae(ie);break;case s.DOLLY:if(r.enableZoom===!1)return;ge(ie);break;case s.PAN:if(r.enablePan===!1)return;ce(ie);break}}function Re(ie){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ie.preventDefault(),r.dispatchEvent(o),ve(ie),r.dispatchEvent(a))}function Ve(ie){r.enabled===!1||r.enablePan===!1||he(ie)}function qe(ie){switch(He(ie),R.length){case 1:switch(r.touches.ONE){case Au.ROTATE:if(r.enableRotate===!1)return;V(),l=s.TOUCH_ROTATE;break;case Au.PAN:if(r.enablePan===!1)return;ye(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Au.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;we(),l=s.TOUCH_DOLLY_PAN;break;case Au.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ue(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function Ae(ie){switch(He(ie),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Fe(ie),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;xe(ie),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;W(ie),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ee(ie),r.update();break;default:l=s.NONE}}function lt(ie){r.enabled!==!1&&ie.preventDefault()}function rt(ie){R.push(ie)}function Ye(ie){delete k[ie.pointerId];for(let Pe=0;Pe<R.length;Pe++)if(R[Pe].pointerId==ie.pointerId){R.splice(Pe,1);return}}function He(ie){let Pe=k[ie.pointerId];Pe===void 0&&(Pe=new Ue,k[ie.pointerId]=Pe),Pe.set(ie.pageX,ie.pageY)}function Ne(ie){const Pe=ie.pointerId===R[0].pointerId?R[1]:R[0];return k[Pe.pointerId]}this.dollyIn=(ie=G())=>{z(ie),r.update()},this.dollyOut=(ie=G())=>{j(ie),r.update()},this.getScale=()=>d,this.setScale=ie=>{F(ie),r.update()},this.getZoomScale=()=>G(),n!==void 0&&this.connect(n),this.update()}};function $fe(){var t=Object.create(null);function e(i,o){var a=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[a])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(h){if(h instanceof Error)throw h}),d=t[d.id].value),d}),c=r("<"+s+">.init",c),u&&(u=r("<"+s+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:f,getTransferables:u},o(f)}catch(d){d&&d.noLog||console.error(d),o(d)}}function n(i,o){var a,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&o(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var c=(a=t[s]).value.apply(a,l);c&&typeof c.then=="function"?c.then(u,function(f){return o(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){o(f)}function u(f){try{var d=t[s].getTransferables&&t[s].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),o(f,d)}catch(h){console.error(h),o(h)}}}function r(i,o){var a=void 0;self.troikaDefine=function(l){return a=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,a}self.addEventListener("message",function(i){var o=i.data,a=o.messageId,s=o.action,l=o.data;try{s==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),s==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function Wfe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var ZG=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return ZG=function(){return t},t},Xfe=0,qfe=0,ZM=!1,lg=Object.create(null),cg=Object.create(null),D2=Object.create(null);function wp(t){if((!t||typeof t.init!="function")&&!ZM)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,o=Wfe(t);i==null&&(i="#default");var a="workerModule"+ ++Xfe,s=t.name||a,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(ZM=!0,u=wp({workerId:i,name:"<"+s+"> function dependency: "+u.name,init:`function(){return (
`+R1(u)+`
)}`}),ZM=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!ZG())return o.apply(void 0,u);if(!l){l=Zk(i,"registerModule",c.workerModuleData);var d=function(){l=null,cg[i].delete(d)};(cg[i]||(cg[i]=new Set)).add(d)}return l.then(function(h){var g=h.isCallable;if(g)return Zk(i,"callModule",{id:a,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:s,dependencies:e,init:R1(n),getTransferables:r&&R1(r)},c.onMainThread=o,c}function Yfe(t){cg[t]&&cg[t].forEach(function(e){e()}),lg[t]&&(lg[t].terminate(),delete lg[t])}function R1(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Kfe(t){var e=lg[t];if(!e){var n=R1($fe);e=lg[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,a=D2[o];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete D2[o],a(i)}}return e}function Zk(t,e,n){return new Promise(function(r,i){var o=++qfe;D2[o]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},Kfe(t).postMessage({messageId:o,action:e,data:n})})}function JG(){var t=function(e){function n(F,j,z,X,q,Z,ne,se){var ae=1-ne;se.x=ae*ae*F+2*ae*ne*z+ne*ne*q,se.y=ae*ae*j+2*ae*ne*X+ne*ne*Z}function r(F,j,z,X,q,Z,ne,se,ae,ge){var ce=1-ae;ge.x=ce*ce*ce*F+3*ce*ce*ae*z+3*ce*ae*ae*q+ae*ae*ae*ne,ge.y=ce*ce*ce*j+3*ce*ce*ae*X+3*ce*ae*ae*Z+ae*ae*ae*se}function i(F,j){for(var z=/([MLQCZ])([^MLQCZ]*)/g,X,q,Z,ne,se;X=z.exec(F);){var ae=X[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ge){return parseFloat(ge)});switch(X[1]){case"M":ne=q=ae[0],se=Z=ae[1];break;case"L":(ae[0]!==ne||ae[1]!==se)&&j("L",ne,se,ne=ae[0],se=ae[1]);break;case"Q":{j("Q",ne,se,ne=ae[2],se=ae[3],ae[0],ae[1]);break}case"C":{j("C",ne,se,ne=ae[4],se=ae[5],ae[0],ae[1],ae[2],ae[3]);break}case"Z":(ne!==q||se!==Z)&&j("L",ne,se,q,Z);break}}}function o(F,j,z){z===void 0&&(z=16);var X={x:0,y:0};i(F,function(q,Z,ne,se,ae,ge,ce,ve,he){switch(q){case"L":j(Z,ne,se,ae);break;case"Q":{for(var V=Z,ye=ne,le=1;le<z;le++)n(Z,ne,ge,ce,se,ae,le/(z-1),X),j(V,ye,X.x,X.y),V=X.x,ye=X.y;break}case"C":{for(var we=Z,ue=ne,Fe=1;Fe<z;Fe++)r(Z,ne,ge,ce,ve,he,se,ae,Fe/(z-1),X),j(we,ue,X.x,X.y),we=X.x,ue=X.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(F,j){var z=F.getContext?F.getContext("webgl",c):F,X=l.get(z);if(!X){let we=function(ee){var be=Z[ee];if(!be&&(be=Z[ee]=z.getExtension(ee),!be))throw new Error(ee+" not supported");return be},ue=function(ee,be){var fe=z.createShader(be);return z.shaderSource(fe,ee),z.compileShader(fe),fe},Fe=function(ee,be,fe,me){if(!ne[ee]){var Ie={},Be={},Re=z.createProgram();z.attachShader(Re,ue(be,z.VERTEX_SHADER)),z.attachShader(Re,ue(fe,z.FRAGMENT_SHADER)),z.linkProgram(Re),ne[ee]={program:Re,transaction:function(qe){z.useProgram(Re),qe({setUniform:function(lt,rt){for(var Ye=[],He=arguments.length-2;He-- >0;)Ye[He]=arguments[He+2];var Ne=Be[rt]||(Be[rt]=z.getUniformLocation(Re,rt));z["uniform"+lt].apply(z,[Ne].concat(Ye))},setAttribute:function(lt,rt,Ye,He,Ne){var ie=Ie[lt];ie||(ie=Ie[lt]={buf:z.createBuffer(),loc:z.getAttribLocation(Re,lt),data:null}),z.bindBuffer(z.ARRAY_BUFFER,ie.buf),z.vertexAttribPointer(ie.loc,rt,z.FLOAT,!1,0,0),z.enableVertexAttribArray(ie.loc),q?z.vertexAttribDivisor(ie.loc,He):we("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ie.loc,He),Ne!==ie.data&&(z.bufferData(z.ARRAY_BUFFER,Ne,Ye),ie.data=Ne)}})}}}ne[ee].transaction(me)},xe=function(ee,be){ae++;try{z.activeTexture(z.TEXTURE0+ae);var fe=se[ee];fe||(fe=se[ee]=z.createTexture(),z.bindTexture(z.TEXTURE_2D,fe),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.NEAREST),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,z.NEAREST)),z.bindTexture(z.TEXTURE_2D,fe),be(fe,ae)}finally{ae--}},Y=function(ee,be,fe){var me=z.createFramebuffer();ge.push(me),z.bindFramebuffer(z.FRAMEBUFFER,me),z.activeTexture(z.TEXTURE0+be),z.bindTexture(z.TEXTURE_2D,ee),z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_2D,ee,0);try{fe(me)}finally{z.deleteFramebuffer(me),z.bindFramebuffer(z.FRAMEBUFFER,ge[--ge.length-1]||null)}},W=function(){Z={},ne={},se={},ae=-1,ge.length=0};var ce=we,ve=ue,he=Fe,V=xe,ye=Y,le=W,q=typeof WebGL2RenderingContext<"u"&&z instanceof WebGL2RenderingContext,Z={},ne={},se={},ae=-1,ge=[];z.canvas.addEventListener("webglcontextlost",function(ee){W(),ee.preventDefault()},!1),l.set(z,X={gl:z,isWebGL2:q,getExtension:we,withProgram:Fe,withTexture:xe,withTextureFramebuffer:Y,handleContextLoss:W})}j(X)}function f(F,j,z,X,q,Z,ne,se){ne===void 0&&(ne=15),se===void 0&&(se=null),u(F,function(ae){var ge=ae.gl,ce=ae.withProgram,ve=ae.withTexture;ve("copy",function(he,V){ge.texImage2D(ge.TEXTURE_2D,0,ge.RGBA,q,Z,0,ge.RGBA,ge.UNSIGNED_BYTE,j),ce("copy",a,s,function(ye){var le=ye.setUniform,we=ye.setAttribute;we("aUV",2,ge.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),le("1i","image",V),ge.bindFramebuffer(ge.FRAMEBUFFER,se||null),ge.disable(ge.BLEND),ge.colorMask(ne&8,ne&4,ne&2,ne&1),ge.viewport(z,X,q,Z),ge.scissor(z,X,q,Z),ge.drawArrays(ge.TRIANGLES,0,3)})})})}function d(F,j,z){var X=F.width,q=F.height;u(F,function(Z){var ne=Z.gl,se=new Uint8Array(X*q*4);ne.readPixels(0,0,X,q,ne.RGBA,ne.UNSIGNED_BYTE,se),F.width=j,F.height=z,f(ne,se,0,0,X,q)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(F,j,z,X,q,Z){Z===void 0&&(Z=1);var ne=new Uint8Array(F*j),se=X[2]-X[0],ae=X[3]-X[1],ge=[];o(z,function(we,ue,Fe,xe){ge.push({x1:we,y1:ue,x2:Fe,y2:xe,minX:Math.min(we,Fe),minY:Math.min(ue,xe),maxX:Math.max(we,Fe),maxY:Math.max(ue,xe)})}),ge.sort(function(we,ue){return we.maxX-ue.maxX});for(var ce=0;ce<F;ce++)for(var ve=0;ve<j;ve++){var he=ye(X[0]+se*(ce+.5)/F,X[1]+ae*(ve+.5)/j),V=Math.pow(1-Math.abs(he)/q,Z)/2;he<0&&(V=1-V),V=Math.max(0,Math.min(255,Math.round(V*255))),ne[ve*F+ce]=V}return ne;function ye(we,ue){for(var Fe=1/0,xe=1/0,Y=ge.length;Y--;){var W=ge[Y];if(W.maxX+xe<=we)break;if(we+xe>W.minX&&ue-xe<W.maxY&&ue+xe>W.minY){var ee=y(we,ue,W.x1,W.y1,W.x2,W.y2);ee<Fe&&(Fe=ee,xe=Math.sqrt(Fe))}}return le(we,ue)&&(xe=-xe),xe}function le(we,ue){for(var Fe=0,xe=ge.length;xe--;){var Y=ge[xe];if(Y.maxX<=we)break;var W=Y.y1>ue!=Y.y2>ue&&we<(Y.x2-Y.x1)*(ue-Y.y1)/(Y.y2-Y.y1)+Y.x1;W&&(Fe+=Y.y1<Y.y2?1:-1)}return Fe!==0}}function x(F,j,z,X,q,Z,ne,se,ae,ge){Z===void 0&&(Z=1),se===void 0&&(se=0),ae===void 0&&(ae=0),ge===void 0&&(ge=0),v(F,j,z,X,q,Z,ne,null,se,ae,ge)}function v(F,j,z,X,q,Z,ne,se,ae,ge,ce){Z===void 0&&(Z=1),ae===void 0&&(ae=0),ge===void 0&&(ge=0),ce===void 0&&(ce=0);for(var ve=g(F,j,z,X,q,Z),he=new Uint8Array(ve.length*4),V=0;V<ve.length;V++)he[V*4+ce]=ve[V];f(ne,he,ae,ge,F,j,1<<3-ce,se)}function y(F,j,z,X,q,Z){var ne=q-z,se=Z-X,ae=ne*ne+se*se,ge=ae?Math.max(0,Math.min(1,((F-z)*ne+(j-X)*se)/ae)):0,ce=F-(z+ge*ne),ve=j-(X+ge*se);return ce*ce+ve*ve}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:x,generateIntoFramebuffer:v}),b="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",w="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),T=null,O=!1,P={},R=new WeakMap;function k(F){if(!O&&!$(F))throw new Error("WebGL generation not supported")}function D(F,j,z,X,q,Z,ne){if(Z===void 0&&(Z=1),ne===void 0&&(ne=null),!ne&&(ne=T,!ne)){var se=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!se)throw new Error("OffscreenCanvas or DOM canvas not supported");ne=T=se.getContext("webgl",{depth:!1})}k(ne);var ae=new Uint8Array(F*j*4);u(ne,function(he){var V=he.gl,ye=he.withTexture,le=he.withTextureFramebuffer;ye("readable",function(we,ue){V.texImage2D(V.TEXTURE_2D,0,V.RGBA,F,j,0,V.RGBA,V.UNSIGNED_BYTE,null),le(we,ue,function(Fe){N(F,j,z,X,q,Z,V,Fe,0,0,0),V.readPixels(0,0,F,j,V.RGBA,V.UNSIGNED_BYTE,ae)})})});for(var ge=new Uint8Array(F*j),ce=0,ve=0;ce<ae.length;ce+=4)ge[ve++]=ae[ce];return ge}function G(F,j,z,X,q,Z,ne,se,ae,ge){Z===void 0&&(Z=1),se===void 0&&(se=0),ae===void 0&&(ae=0),ge===void 0&&(ge=0),N(F,j,z,X,q,Z,ne,null,se,ae,ge)}function N(F,j,z,X,q,Z,ne,se,ae,ge,ce){Z===void 0&&(Z=1),ae===void 0&&(ae=0),ge===void 0&&(ge=0),ce===void 0&&(ce=0),k(ne);var ve=[];o(z,function(he,V,ye,le){ve.push(he,V,ye,le)}),ve=new Float32Array(ve),u(ne,function(he){var V=he.gl,ye=he.isWebGL2,le=he.getExtension,we=he.withProgram,ue=he.withTexture,Fe=he.withTextureFramebuffer,xe=he.handleContextLoss;if(ue("rawDistances",function(Y,W){(F!==Y._lastWidth||j!==Y._lastHeight)&&V.texImage2D(V.TEXTURE_2D,0,V.RGBA,Y._lastWidth=F,Y._lastHeight=j,0,V.RGBA,V.UNSIGNED_BYTE,null),we("main",b,w,function(ee){var be=ee.setAttribute,fe=ee.setUniform,me=!ye&&le("ANGLE_instanced_arrays"),Ie=!ye&&le("EXT_blend_minmax");be("aUV",2,V.STATIC_DRAW,0,M),be("aLineSegment",4,V.DYNAMIC_DRAW,1,ve),fe.apply(void 0,["4f","uGlyphBounds"].concat(X)),fe("1f","uMaxDistance",q),fe("1f","uExponent",Z),Fe(Y,W,function(Be){V.enable(V.BLEND),V.colorMask(!0,!0,!0,!0),V.viewport(0,0,F,j),V.scissor(0,0,F,j),V.blendFunc(V.ONE,V.ONE),V.blendEquationSeparate(V.FUNC_ADD,ye?V.MAX:Ie.MAX_EXT),V.clear(V.COLOR_BUFFER_BIT),ye?V.drawArraysInstanced(V.TRIANGLES,0,3,ve.length/4):me.drawArraysInstancedANGLE(V.TRIANGLES,0,3,ve.length/4)})}),we("post",a,E,function(ee){ee.setAttribute("aUV",2,V.STATIC_DRAW,0,M),ee.setUniform("1i","tex",W),V.bindFramebuffer(V.FRAMEBUFFER,se),V.disable(V.BLEND),V.colorMask(ce===0,ce===1,ce===2,ce===3),V.viewport(ae,ge,F,j),V.scissor(ae,ge,F,j),V.drawArrays(V.TRIANGLES,0,3)})}),V.isContextLost())throw xe(),new Error("webgl context lost")})}function $(F){var j=!F||F===T?P:F.canvas||F,z=R.get(j);if(z===void 0){O=!0;var X=null;try{var q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=D(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,F);z=Z&&q.length===Z.length&&Z.every(function(ne,se){return ne===q[se]}),z||(X="bad trial run results",console.info(q,Z))}catch(ne){z=!1,X=ne.message}X&&console.warn("WebGL SDF generation not supported:",X),O=!1,R.set(j,z)}return z}var H=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:G,generateIntoFramebuffer:N,isSupported:$});function K(F,j,z,X,q,Z){q===void 0&&(q=Math.max(X[2]-X[0],X[3]-X[1])/2),Z===void 0&&(Z=1);try{return D.apply(H,arguments)}catch(ne){return console.info("WebGL SDF generation failed, falling back to JS",ne),g.apply(_,arguments)}}function U(F,j,z,X,q,Z,ne,se,ae,ge){q===void 0&&(q=Math.max(X[2]-X[0],X[3]-X[1])/2),Z===void 0&&(Z=1),se===void 0&&(se=0),ae===void 0&&(ae=0),ge===void 0&&(ge=0);try{return G.apply(H,arguments)}catch(ce){return console.info("WebGL SDF generation failed, falling back to JS",ce),x.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=K,e.generateIntoCanvas=U,e.javascript=_,e.pathToLineSegments=o,e.webgl=H,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Zfe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(xe,Y){r[xe]=1<<Y+1,i[r[xe]]=xe}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|o|r.PDI|l,u=null;function f(){if(!u){u=new Map;var xe=function(W){if(n.hasOwnProperty(W)){var ee=0;n[W].split(",").forEach(function(be){var fe=be.split("+"),me=fe[0],Ie=fe[1];me=parseInt(me,36),Ie=Ie?parseInt(Ie,36):0,u.set(ee+=me,r[W]);for(var Be=0;Be<Ie;Be++)u.set(++ee,r[W])})}};for(var Y in n)xe(Y)}}function d(xe){return f(),u.get(xe.codePointAt(0))||r.L}function h(xe){return i[d(xe)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(xe,Y){var W=36,ee=0,be=new Map,fe=Y&&new Map,me;return xe.split(",").forEach(function Ie(Be){if(Be.indexOf("+")!==-1)for(var Re=+Be;Re--;)Ie(me);else{me=Be;var Ve=Be.split(">"),qe=Ve[0],Ae=Ve[1];qe=String.fromCodePoint(ee+=parseInt(qe,W)),Ae=String.fromCodePoint(ee+=parseInt(Ae,W)),be.set(qe,Ae),Y&&fe.set(Ae,qe)}}),{map:be,reverseMap:fe}}var v,y,_;function b(){if(!v){var xe=x(g.pairs,!0),Y=xe.map,W=xe.reverseMap;v=Y,y=W,_=x(g.canonical,!1).map}}function w(xe){return b(),v.get(xe)||null}function E(xe){return b(),y.get(xe)||null}function M(xe){return b(),_.get(xe)||null}var T=r.L,O=r.R,P=r.EN,R=r.ES,k=r.ET,D=r.AN,G=r.CS,N=r.B,$=r.S,H=r.ON,K=r.BN,U=r.NSM,F=r.AL,j=r.LRO,z=r.RLO,X=r.LRE,q=r.RLE,Z=r.PDF,ne=r.LRI,se=r.RLI,ae=r.FSI,ge=r.PDI;function ce(xe,Y){for(var W=125,ee=new Uint32Array(xe.length),be=0;be<xe.length;be++)ee[be]=d(xe[be]);var fe=new Map;function me(Nr,Mi){var ir=ee[Nr];ee[Nr]=Mi,fe.set(ir,fe.get(ir)-1),ir&s&&fe.set(s,fe.get(s)-1),fe.set(Mi,(fe.get(Mi)||0)+1),Mi&s&&fe.set(s,(fe.get(s)||0)+1)}for(var Ie=new Uint8Array(xe.length),Be=new Map,Re=[],Ve=null,qe=0;qe<xe.length;qe++)Ve||Re.push(Ve={start:qe,end:xe.length-1,level:Y==="rtl"?1:Y==="ltr"?0:Hf(qe,!1)}),ee[qe]&N&&(Ve.end=qe,Ve=null);for(var Ae=q|X|z|j|o|ge|Z|N,lt=function(Nr){return Nr+(Nr&1?1:2)},rt=function(Nr){return Nr+(Nr&1?2:1)},Ye=0;Ye<Re.length;Ye++){Ve=Re[Ye];var He=[{_level:Ve.level,_override:0,_isolate:0}],Ne=void 0,ie=0,Pe=0,Qe=0;fe.clear();for(var $e=Ve.start;$e<=Ve.end;$e++){var Ee=ee[$e];if(Ne=He[He.length-1],fe.set(Ee,(fe.get(Ee)||0)+1),Ee&s&&fe.set(s,(fe.get(s)||0)+1),Ee&Ae)if(Ee&(q|X)){Ie[$e]=Ne._level;var oe=(Ee===q?rt:lt)(Ne._level);oe<=W&&!ie&&!Pe?He.push({_level:oe,_override:0,_isolate:0}):ie||Pe++}else if(Ee&(z|j)){Ie[$e]=Ne._level;var Xe=(Ee===z?rt:lt)(Ne._level);Xe<=W&&!ie&&!Pe?He.push({_level:Xe,_override:Ee&z?O:T,_isolate:0}):ie||Pe++}else if(Ee&o){Ee&ae&&(Ee=Hf($e+1,!0)===1?se:ne),Ie[$e]=Ne._level,Ne._override&&me($e,Ne._override);var je=(Ee===se?rt:lt)(Ne._level);je<=W&&ie===0&&Pe===0?(Qe++,He.push({_level:je,_override:0,_isolate:1,_isolInitIndex:$e})):ie++}else if(Ee&ge){if(ie>0)ie--;else if(Qe>0){for(Pe=0;!He[He.length-1]._isolate;)He.pop();var Je=He[He.length-1]._isolInitIndex;Je!=null&&(Be.set(Je,$e),Be.set($e,Je)),He.pop(),Qe--}Ne=He[He.length-1],Ie[$e]=Ne._level,Ne._override&&me($e,Ne._override)}else Ee&Z?(ie===0&&(Pe>0?Pe--:!Ne._isolate&&He.length>1&&(He.pop(),Ne=He[He.length-1])),Ie[$e]=Ne._level):Ee&N&&(Ie[$e]=Ve.level);else Ie[$e]=Ne._level,Ne._override&&Ee!==K&&me($e,Ne._override)}for(var Le=[],Ze=null,We=Ve.start;We<=Ve.end;We++){var ht=ee[We];if(!(ht&l)){var bt=Ie[We],gt=ht&o,Ot=ht===ge;Ze&&bt===Ze._level?(Ze._end=We,Ze._endsWithIsolInit=gt):Le.push(Ze={_start:We,_end:We,_level:bt,_startsWithPDI:Ot,_endsWithIsolInit:gt})}}for(var Xt=[],Fn=0;Fn<Le.length;Fn++){var xi=Le[Fn];if(!xi._startsWithPDI||xi._startsWithPDI&&!Be.has(xi._start)){for(var _i=[Ze=xi],Jr=void 0;Ze&&Ze._endsWithIsolInit&&(Jr=Be.get(Ze._end))!=null;)for(var Qr=Fn+1;Qr<Le.length;Qr++)if(Le[Qr]._start===Jr){_i.push(Ze=Le[Qr]);break}for(var fr=[],Io=0;Io<_i.length;Io++)for(var Ff=_i[Io],Wc=Ff._start;Wc<=Ff._end;Wc++)fr.push(Wc);for(var Lp=Ie[fr[0]],Q=Ve.level,_e=fr[0]-1;_e>=0;_e--)if(!(ee[_e]&l)){Q=Ie[_e];break}var Te=fr[fr.length-1],Ce=Ie[Te],Me=Ve.level;if(!(ee[Te]&o)){for(var it=Te+1;it<=Ve.end;it++)if(!(ee[it]&l)){Me=Ie[it];break}}Xt.push({_seqIndices:fr,_sosType:Math.max(Q,Lp)%2?O:T,_eosType:Math.max(Me,Ce)%2?O:T})}}for(var pt=0;pt<Xt.length;pt++){var xt=Xt[pt],Ge=xt._seqIndices,Mt=xt._sosType,At=xt._eosType,wt=Ie[Ge[0]]&1?O:T;if(fe.get(U))for(var mn=0;mn<Ge.length;mn++){var dr=Ge[mn];if(ee[dr]&U){for(var sn=Mt,Bn=mn-1;Bn>=0;Bn--)if(!(ee[Ge[Bn]]&l)){sn=ee[Ge[Bn]];break}me(dr,sn&(o|ge)?H:sn)}}if(fe.get(P))for(var _t=0;_t<Ge.length;_t++){var ct=Ge[_t];if(ee[ct]&P)for(var Hr=_t-1;Hr>=-1;Hr--){var Lt=Hr===-1?Mt:ee[Ge[Hr]];if(Lt&a){Lt===F&&me(ct,D);break}}}if(fe.get(F))for(var bn=0;bn<Ge.length;bn++){var ao=Ge[bn];ee[ao]&F&&me(ao,O)}if(fe.get(R)||fe.get(G))for(var Or=1;Or<Ge.length-1;Or++){var Xn=Ge[Or];if(ee[Xn]&(R|G)){for(var gn=0,Hi=0,Ua=Or-1;Ua>=0&&(gn=ee[Ge[Ua]],!!(gn&l));Ua--);for(var rr=Or+1;rr<Ge.length&&(Hi=ee[Ge[rr]],!!(Hi&l));rr++);gn===Hi&&(ee[Xn]===R?gn===P:gn&(P|D))&&me(Xn,gn)}}if(fe.get(P))for(var Vr=0;Vr<Ge.length;Vr++){var bi=Ge[Vr];if(ee[bi]&P){for(var gs=Vr-1;gs>=0&&ee[Ge[gs]]&(k|l);gs--)me(Ge[gs],P);for(Vr++;Vr<Ge.length&&ee[Ge[Vr]]&(k|l|P);Vr++)ee[Ge[Vr]]!==P&&me(Ge[Vr],P)}}if(fe.get(k)||fe.get(R)||fe.get(G))for(var Xc=0;Xc<Ge.length;Xc++){var Py=Ge[Xc];if(ee[Py]&(k|R|G)){me(Py,H);for(var vs=Xc-1;vs>=0&&ee[Ge[vs]]&l;vs--)me(Ge[vs],H);for(var ys=Xc+1;ys<Ge.length&&ee[Ge[ys]]&l;ys++)me(Ge[ys],H)}}if(fe.get(P))for(var xs=0,qc=Mt;xs<Ge.length;xs++){var Cy=Ge[xs],kp=ee[Cy];kp&P?qc===T&&me(Cy,T):kp&a&&(qc=kp)}if(fe.get(s)){var _s=O|P|D,Bf=_s|T,Fa=[];{for(var El=[],Ba=0;Ba<Ge.length;Ba++)if(ee[Ge[Ba]]&s){var Gt=xe[Ge[Ba]],Up=void 0;if(w(Gt)!==null)if(El.length<63)El.push({char:Gt,seqIndex:Ba});else break;else if((Up=E(Gt))!==null)for(var bs=El.length-1;bs>=0;bs--){var zf=El[bs].char;if(zf===Up||zf===E(M(Gt))||w(M(zf))===Gt){Fa.push([El[bs].seqIndex,Ba]),El.length=bs;break}}}Fa.sort(function(Nr,Mi){return Nr[0]-Mi[0]})}for(var Fp=0;Fp<Fa.length;Fp++){for(var Ry=Fa[Fp],zn=Ry[0],Yc=Ry[1],Oy=!1,wi=0,Bp=zn+1;Bp<Yc;Bp++){var Kc=Ge[Bp];if(ee[Kc]&Bf){Oy=!0;var so=ee[Kc]&_s?O:T;if(so===wt){wi=so;break}}}if(Oy&&!wi){wi=Mt;for(var zp=zn-1;zp>=0;zp--){var Iy=Ge[zp];if(ee[Iy]&Bf){var lo=ee[Iy]&_s?O:T;lo!==wt?wi=lo:wi=wt;break}}}if(wi){if(ee[Ge[zn]]=ee[Ge[Yc]]=wi,wi!==wt){for(var Si=zn+1;Si<Ge.length;Si++)if(!(ee[Ge[Si]]&l)){d(xe[Ge[Si]])&U&&(ee[Ge[Si]]=wi);break}}if(wi!==wt){for(var za=Yc+1;za<Ge.length;za++)if(!(ee[Ge[za]]&l)){d(xe[Ge[za]])&U&&(ee[Ge[za]]=wi);break}}}}for(var No=0;No<Ge.length;No++)if(ee[Ge[No]]&s){for(var jp=No,Hp=No,Vi=Mt,Zc=No-1;Zc>=0;Zc--)if(ee[Ge[Zc]]&l)jp=Zc;else{Vi=ee[Ge[Zc]]&_s?O:T;break}for(var Jc=At,Qc=No+1;Qc<Ge.length;Qc++)if(ee[Ge[Qc]]&(s|l))Hp=Qc;else{Jc=ee[Ge[Qc]]&_s?O:T;break}for(var Ei=jp;Ei<=Hp;Ei++)ee[Ge[Ei]]=Vi===Jc?Vi:wt;No=Hp}}}for(var Ir=Ve.start;Ir<=Ve.end;Ir++){var jf=Ie[Ir],oa=ee[Ir];if(jf&1?oa&(T|P|D)&&Ie[Ir]++:oa&O?Ie[Ir]++:oa&(D|P)&&(Ie[Ir]+=2),oa&l&&(Ie[Ir]=Ir===0?Ve.level:Ie[Ir-1]),Ir===Ve.end||d(xe[Ir])&($|N))for(var Ml=Ir;Ml>=0&&d(xe[Ml])&c;Ml--)Ie[Ml]=Ve.level}}return{levels:Ie,paragraphs:Re};function Hf(Nr,Mi){for(var ir=Nr;ir<xe.length;ir++){var or=ee[ir];if(or&(O|F))return 1;if(or&(N|T)||Mi&&or===ge)return 0;if(or&o){var co=Ny(ir);ir=co===-1?xe.length:co}}return 0}function Ny(Nr){for(var Mi=1,ir=Nr+1;ir<xe.length;ir++){var or=ee[ir];if(or&N)break;if(or&ge){if(--Mi===0)return ir}else or&o&&Mi++}return-1}}var ve="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",he;function V(){if(!he){var xe=x(ve,!0),Y=xe.map,W=xe.reverseMap;W.forEach(function(ee,be){Y.set(be,ee)}),he=Y}}function ye(xe){return V(),he.get(xe)||null}function le(xe,Y,W,ee){var be=xe.length;W=Math.max(0,W==null?0:+W),ee=Math.min(be-1,ee==null?be-1:+ee);for(var fe=new Map,me=W;me<=ee;me++)if(Y[me]&1){var Ie=ye(xe[me]);Ie!==null&&fe.set(me,Ie)}return fe}function we(xe,Y,W,ee){var be=xe.length;W=Math.max(0,W==null?0:+W),ee=Math.min(be-1,ee==null?be-1:+ee);var fe=[];return Y.paragraphs.forEach(function(me){var Ie=Math.max(W,me.start),Be=Math.min(ee,me.end);if(Ie<Be){for(var Re=Y.levels.slice(Ie,Be+1),Ve=Be;Ve>=Ie&&d(xe[Ve])&c;Ve--)Re[Ve]=me.level;for(var qe=me.level,Ae=1/0,lt=0;lt<Re.length;lt++){var rt=Re[lt];rt>qe&&(qe=rt),rt<Ae&&(Ae=rt|1)}for(var Ye=qe;Ye>=Ae;Ye--)for(var He=0;He<Re.length;He++)if(Re[He]>=Ye){for(var Ne=He;He+1<Re.length&&Re[He+1]>=Ye;)He++;He>Ne&&fe.push([Ne+Ie,He+Ie])}}}),fe}function ue(xe,Y,W,ee){var be=Fe(xe,Y,W,ee),fe=[].concat(xe);return be.forEach(function(me,Ie){fe[Ie]=(Y.levels[me]&1?ye(xe[me]):null)||xe[me]}),fe.join("")}function Fe(xe,Y,W,ee){for(var be=we(xe,Y,W,ee),fe=[],me=0;me<xe.length;me++)fe[me]=me;return be.forEach(function(Ie){for(var Be=Ie[0],Re=Ie[1],Ve=fe.slice(Be,Re+1),qe=Ve.length;qe--;)fe[Re-qe]=Ve[qe]}),fe}return e.closingToOpeningBracket=E,e.getBidiCharType=d,e.getBidiCharTypeName=h,e.getCanonicalBracket=M,e.getEmbeddingLevels=ce,e.getMirroredCharacter=ye,e.getMirroredCharactersMap=le,e.getReorderSegments=we,e.getReorderedIndices=Fe,e.getReorderedString=ue,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const QG=/\bvoid\s+main\s*\(\s*\)\s*{/g;function L2(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=kt[i];return o?L2(o):r}return t.replace(e,n)}const $r=[];for(let t=0;t<256;t++)$r[t]=(t<16?"0":"")+t.toString(16);function Jfe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return($r[t&255]+$r[t>>8&255]+$r[t>>16&255]+$r[t>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[n&63|128]+$r[n>>8&255]+"-"+$r[n>>16&255]+$r[n>>24&255]+$r[r&255]+$r[r>>8&255]+$r[r>>16&255]+$r[r>>24&255]).toUpperCase()}const xu=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Qfe=Date.now(),Jk=new WeakMap,Qk=new Map;let ede=1e10;function k2(t,e){const n=ide(e);let r=Jk.get(t);if(r||Jk.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=Qk[f];if(!d){const h=tde(this,c,e,n);d=Qk[f]=h}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,xu(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Qfe}}),this[i]&&this[i](c)},a=function(){return s(e.chained?t:t.clone())},s=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:ede++}),u.uuid=Jfe(),u.uniforms=xu({},c.uniforms,e.uniforms),u.defines=xu({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=xu({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(xu(this.extensions,c.extensions),xu(this.defines,c.defines),xu(this.uniforms,KR.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return s(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=k2(t.isDerivedMaterial?t.getDepthMaterial():new dw({depthPacking:VR}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=k2(t.isDerivedMaterial?t.getDistanceMaterial():new hw,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function tde(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:a,vertexMainOutro:s,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:h,timeUniform:g}=r;if(o=o||"",a=a||"",s=s||"",c=c||"",u=u||"",f=f||"",(l||h)&&(e=L2(e)),(d||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=L2(n)),h){let x=h({vertexShader:e,fragmentShader:n});e=x.vertexShader,n=x.fragmentShader}if(d){let x=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(x.push(v),"")),f=`${d}
${x.join(`
`)}
${f}`}if(g){const x=`
uniform float ${g};
`;o=x+o,c=x+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,v,y,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,y))?v:`troika_${v}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=eU(e,i,o,a,s),n=eU(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function eU(t,e,n,r,i){return(r||i||n)&&(t=t.replace(QG,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function nde(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let rde=0;const tU=new Map;function ide(t){const e=JSON.stringify(t,nde);let n=tU.get(e);return n==null&&tU.set(e,n=++rde),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function ode(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,a=new Uint8Array(i);if(o.readASCII(a,0,4)=="ttcf"){var s=4;o.readUshort(a,s),s+=2,o.readUshort(a,s),s+=2;var l=o.readUint(a,s);s+=4;for(var c=[],u=0;u<l;u++){var f=o.readUint(a,s);s+=4,c.push(e._readFont(a,f))}return c}return[e._readFont(a,0)]},_readFont:function(i,o){var a=e._bin,s=o;a.readFixed(i,o),o+=4;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:s},f={},d=0;d<l;d++){var h=a.readASCII(i,o,4);o+=4,a.readUint(i,o),o+=4;var g=a.readUint(i,o);o+=4;var x=a.readUint(i,o);o+=4,f[h]={offset:g,length:x}}for(d=0;d<c.length;d++){var v=c[d];f[v]&&(u[v.trim()]=e[v.trim()].parse(i,f[v].offset,f[v].length,u))}return u},_tabOffset:function(i,o,a){for(var s=e._bin,l=s.readUshort(i,a+4),c=a+12,u=0;u<l;u++){var f=s.readASCII(i,c,4);c+=4,s.readUint(i,c),c+=4;var d=s.readUint(i,c);if(c+=4,s.readUint(i,c),c+=4,f==o)return d}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(e._bin.readUshort(i,o+2*l));return s},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,a){for(var s="",l=0;l<a;l++)s+=String.fromCharCode(i[o+l]);return s},readUnicode:function(i,o,a){for(var s="",l=0;l<a;l++){var c=i[o++]<<8|i[o++];s+=String.fromCharCode(c)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,a){var s=e._bin._tdec;return s&&o==0&&a==i.length?s.decode(i):e._bin.readASCII(i,o,a)},readBytes:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(i[o+l]);return s},readASCIIArray:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(String.fromCharCode(i[o+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,a,s,l){var c=e._bin,u={},f=o;c.readFixed(i,o),o+=4;var d=c.readUshort(i,o);o+=2;var h=c.readUshort(i,o);o+=2;var g=c.readUshort(i,o);return o+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+h),u.lookupList=e._lctf.readLookupList(i,f+g,l),u},e._lctf.readLookupList=function(i,o,a){var s=e._bin,l=o,c=[],u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=s.readUshort(i,o);o+=2;var h=e._lctf.readLookupTable(i,l+d,a);c.push(h)}return c},e._lctf.readLookupTable=function(i,o,a){var s=e._bin,l=o,c={tabs:[]};c.ltype=s.readUshort(i,o),o+=2,c.flag=s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2;for(var f=c.ltype,d=0;d<u;d++){var h=s.readUshort(i,o);o+=2;var g=a(i,f,l+h,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var o=0,a=0;a<32;a++)i>>>a&1&&o++;return o},e._lctf.readClassDef=function(i,o){var a=e._bin,s=[],l=a.readUshort(i,o);if(o+=2,l==1){var c=a.readUshort(i,o);o+=2;var u=a.readUshort(i,o);o+=2;for(var f=0;f<u;f++)s.push(c+f),s.push(c+f),s.push(a.readUshort(i,o)),o+=2}if(l==2){var d=a.readUshort(i,o);for(o+=2,f=0;f<d;f++)s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2}return s},e._lctf.getInterval=function(i,o){for(var a=0;a<i.length;a+=3){var s=i[a],l=i[a+1];if(i[a+2],s<=o&&o<=l)return a}return-1},e._lctf.readCoverage=function(i,o){var a=e._bin,s={};s.fmt=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.fmt==1&&(s.tab=a.readUshorts(i,o,l)),s.fmt==2&&(s.tab=a.readUshorts(i,o,3*l)),s},e._lctf.coverageIndex=function(i,o){var a=i.tab;if(i.fmt==1)return a.indexOf(o);if(i.fmt==2){var s=e._lctf.getInterval(a,o);if(s!=-1)return a[s+2]+(o-a[s])}return-1},e._lctf.readFeatureList=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,o,4);o+=4;var d=a.readUshort(i,o);o+=2;var h=e._lctf.readFeatureTable(i,s+d);h.tag=f.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2,c>0&&(l.featureParams=s+c);var u=a.readUshort(i,o);o+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(a.readUshort(i,o+2*f));return l},e._lctf.readScriptList=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,o,4);o+=4;var d=a.readUshort(i,o);o+=2,l[f.trim()]=e._lctf.readScriptTable(i,s+d)}return l},e._lctf.readScriptTable=function(i,o){var a=e._bin,s=o,l={},c=a.readUshort(i,o);o+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,s+c));var u=a.readUshort(i,o);o+=2;for(var f=0;f<u;f++){var d=a.readASCII(i,o,4);o+=4;var h=a.readUshort(i,o);o+=2,l[d.trim()]=e._lctf.readLangSysTable(i,s+h)}return l},e._lctf.readLangSysTable=function(i,o){var a=e._bin,s={};a.readUshort(i,o),o+=2,s.reqFeature=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.features=a.readUshorts(i,o,l),s},e.CFF={},e.CFF.parse=function(i,o,a){var s=e._bin;(i=new Uint8Array(i.buffer,o,a))[o=0],i[++o],i[++o],i[++o],o++;var l=[];o=e.CFF.readIndex(i,o,l);for(var c=[],u=0;u<l.length-1;u++)c.push(s.readASCII(i,o+l[u],l[u+1]-l[u]));o+=l[l.length-1];var f=[];o=e.CFF.readIndex(i,o,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,o+f[u],o+f[u+1]));o+=f[f.length-1];var h=d[0],g=[];o=e.CFF.readIndex(i,o,g);var x=[];for(u=0;u<g.length-1;u++)x.push(s.readASCII(i,o+g[u],g[u+1]-g[u]));if(o+=g[g.length-1],e.CFF.readSubrs(i,o,h),h.CharStrings){o=h.CharStrings,g=[],o=e.CFF.readIndex(i,o,g);var v=[];for(u=0;u<g.length-1;u++)v.push(s.readBytes(i,o+g[u],g[u+1]-g[u]));h.CharStrings=v}if(h.ROS){o=h.FDArray;var y=[];for(o=e.CFF.readIndex(i,o,y),h.FDArray=[],u=0;u<y.length-1;u++){var _=e.CFF.readDict(i,o+y[u],o+y[u+1]);e.CFF._readFDict(i,_,x),h.FDArray.push(_)}o+=y[y.length-1],o=h.FDSelect,h.FDSelect=[];var b=i[o];if(o++,b!=3)throw b;var w=s.readUshort(i,o);for(o+=2,u=0;u<w+1;u++)h.FDSelect.push(s.readUshort(i,o),i[o+2]),o+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,x),h},e.CFF._readFDict=function(i,o,a){var s;for(var l in o.Private&&(s=o.Private[1],o.Private=e.CFF.readDict(i,s,s+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,s+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(o[l]=a[o[l]-426+35])},e.CFF.readSubrs=function(i,o,a){var s=e._bin,l=[];o=e.CFF.readIndex(i,o,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var f=0;f<l.length-1;f++)a.Subrs.push(s.readBytes(i,o+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==o)return a;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,a){e._bin;var s=[".notdef"],l=i[o];if(o++,l!=0)throw"error: unknown encoding format: "+l;var c=i[o];o++;for(var u=0;u<c;u++)s.push(i[o+u]);return s},e.CFF.readCharset=function(i,o,a){var s=e._bin,l=[".notdef"],c=i[o];if(o++,c==0)for(var u=0;u<a;u++){var f=s.readUshort(i,o);o+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){f=s.readUshort(i,o),o+=2;var d=0;for(c==1?(d=i[o],o++):(d=s.readUshort(i,o),o+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,o,a){var s=e._bin,l=s.readUshort(i,o)+1,c=i[o+=2];if(o++,c==1)for(var u=0;u<l;u++)a.push(i[o+u]);else if(c==2)for(u=0;u<l;u++)a.push(s.readUshort(i,o+2*u));else if(c==3)for(u=0;u<l;u++)a.push(16777215&s.readUint(i,o+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(o+=l*c)-1},e.CFF.getCharString=function(i,o,a){var s=e._bin,l=i[o],c=i[o+1];i[o+2],i[o+3],i[o+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=s.readShort(i,o+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=s.readInt(i,o+1)/65535,u=5),a.val=d??"o"+f,a.size=u},e.CFF.readCharString=function(i,o,a){for(var s=o+a,l=e._bin,c=[];o<s;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,g=null;u<=20&&(h=u,d=1),u==12&&(h=100*u+f,d=2),u!=19&&u!=20||(h=u,d=2),21<=u&&u<=27&&(h=u,d=1),u==28&&(g=l.readShort(i,o+1),d=3),29<=u&&u<=31&&(h=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(i,o+1)/65535,d=5),c.push(g??"o"+h),o+=d}return c},e.CFF.readDict=function(i,o,a){for(var s=e._bin,l={},c=[];o<a;){var u=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var d=1,h=null,g=null;if(u==28&&(g=s.readShort(i,o+1),d=3),u==29&&(g=s.readInt(i,o+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=s.readInt(i,o+1)/65535,d=5,"unknown number";if(u==30){var x=[];for(d=1;;){var v=i[o+d];d++;var y=v>>4,_=15&v;if(y!=15&&x.push(y),_!=15&&x.push(_),_==15)break}for(var b="",w=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<x.length;E++)b+=w[x[E]];g=parseFloat(b)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(g),o+=d}return l},e.cmap={},e.cmap.parse=function(i,o,a){i=new Uint8Array(i.buffer,o,a),o=0;var s=e._bin,l={};s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=s.readUshort(i,o);o+=2;var h=s.readUshort(i,o);o+=2;var g=s.readUint(i,o);o+=4;var x="p"+d+"e"+h,v=u.indexOf(g);if(v==-1){var y;v=l.tables.length,u.push(g);var _=s.readUshort(i,g);_==0?y=e.cmap.parse0(i,g):_==4?y=e.cmap.parse4(i,g):_==6?y=e.cmap.parse6(i,g):_==12?y=e.cmap.parse12(i,g):console.debug("unknown format: "+_,d,h,g),l.tables.push(y)}if(l[x]!=null)throw"multiple tables for one platform+encoding";l[x]=v}return l},e.cmap.parse0=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,s.map=[];for(var c=0;c<l-6;c++)s.map.push(i[o+c]);return s},e.cmap.parse4=function(i,o){var a=e._bin,s=o,l={};l.format=a.readUshort(i,o),o+=2;var c=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2;var u=a.readUshort(i,o);o+=2;var f=u/2;l.searchRange=a.readUshort(i,o),o+=2,l.entrySelector=a.readUshort(i,o),o+=2,l.rangeShift=a.readUshort(i,o),o+=2,l.endCount=a.readUshorts(i,o,f),o+=2*f,o+=2,l.startCount=a.readUshorts(i,o,f),o+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(a.readShort(i,o)),o+=2;for(l.idRangeOffset=a.readUshorts(i,o,f),o+=2*f,l.glyphIdArray=[];o<s+c;)l.glyphIdArray.push(a.readUshort(i,o)),o+=2;return l},e.cmap.parse6=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,s.firstCode=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,s.glyphIdArray=[];for(var c=0;c<l;c++)s.glyphIdArray.push(a.readUshort(i,o)),o+=2;return s},e.cmap.parse12=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,o+=2,a.readUint(i,o),o+=4,a.readUint(i,o),o+=4;var l=a.readUint(i,o);o+=4,s.groups=[];for(var c=0;c<l;c++){var u=o+12*c,f=a.readUint(i,u+0),d=a.readUint(i,u+4),h=a.readUint(i,u+8);s.groups.push([f,d,h])}return s},e.glyf={},e.glyf.parse=function(i,o,a,s){for(var l=[],c=0;c<s.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,o){var a=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var c={};if(c.noc=a.readShort(s,l),l+=2,c.xMin=a.readShort(s,l),l+=2,c.yMin=a.readShort(s,l),l+=2,c.xMax=a.readShort(s,l),l+=2,c.yMax=a.readShort(s,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(a.readUshort(s,l)),l+=2;var f=a.readUshort(s,l);if(l+=2,s.length-l<f)return null;c.instructions=a.readBytes(s,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var h=s[l];if(l++,c.flags.push(h),(8&h)!=0){var g=s[l];l++;for(var x=0;x<g;x++)c.flags.push(h),u++}}for(c.xs=[],u=0;u<d;u++){var v=(2&c.flags[u])!=0,y=(16&c.flags[u])!=0;v?(c.xs.push(y?s[l]:-s[l]),l++):y?c.xs.push(0):(c.xs.push(a.readShort(s,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)v=(4&c.flags[u])!=0,y=(32&c.flags[u])!=0,v?(c.ys.push(y?s[l]:-s[l]),l++):y?c.ys.push(0):(c.ys.push(a.readShort(s,l)),l+=2);var _=0,b=0;for(u=0;u<d;u++)_+=c.xs[u],b+=c.ys[u],c.xs[u]=_,c.ys[u]=b}else{var w;c.parts=[];do{w=a.readUshort(s,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=a.readUshort(s,l),l+=2,1&w){var M=a.readShort(s,l);l+=2;var T=a.readShort(s,l);l+=2}else M=a.readInt8(s,l),l++,T=a.readInt8(s,l),l++;2&w?(E.m.tx=M,E.m.ty=T):(E.p1=M,E.p2=T),8&w?(E.m.a=E.m.d=a.readF2dot14(s,l),l+=2):64&w?(E.m.a=a.readF2dot14(s,l),l+=2,E.m.d=a.readF2dot14(s,l),l+=2):128&w&&(E.m.a=a.readF2dot14(s,l),l+=2,E.m.b=a.readF2dot14(s,l),l+=2,E.m.c=a.readF2dot14(s,l),l+=2,E.m.d=a.readF2dot14(s,l),l+=2)}while(32&w);if(256&w){var O=a.readUshort(s,l);for(l+=2,c.instr=[],u=0;u<O;u++)c.instr.push(s[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,o,a,s){var l=o;o+=4;var c=e._bin.readUshort(i,o);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GPOS.subt)},e.GPOS.subt=function(i,o,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,o==1||o==2||o==3||o==7||o==8&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(o==1&&u.fmt==1){var d=l.readUshort(i,a);a+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,a,d))}else if(o==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,a),a+=2;var h=l.readUshort(i,a);a+=2;var g=e._lctf.numOfOnes(d),x=e._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var v=l.readUshort(i,a);a+=2;for(var y=0;y<v;y++){var _=c+l.readUshort(i,a);a+=2;var b=l.readUshort(i,_);_+=2;for(var w=[],E=0;E<b;E++){var M=l.readUshort(i,_);_+=2,d!=0&&(D=e.GPOS.readValueRecord(i,_,d),_+=2*g),h!=0&&(G=e.GPOS.readValueRecord(i,_,h),_+=2*x),w.push({gid2:M,val1:D,val2:G})}u.pairsets.push(w)}}if(u.fmt==2){var T=l.readUshort(i,a);a+=2;var O=l.readUshort(i,a);a+=2;var P=l.readUshort(i,a);a+=2;var R=l.readUshort(i,a);for(a+=2,u.classDef1=e._lctf.readClassDef(i,c+T),u.classDef2=e._lctf.readClassDef(i,c+O),u.matrix=[],y=0;y<P;y++){var k=[];for(E=0;E<R;E++){var D=null,G=null;d!=0&&(D=e.GPOS.readValueRecord(i,a,d),a+=2*g),h!=0&&(G=e.GPOS.readValueRecord(i,a,h),a+=2*x),k.push({val1:D,val2:G})}u.matrix.push(k)}}}else if(o==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else if(o==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else{if(o==9&&u.fmt==1){var N=l.readUshort(i,a);a+=2;var $=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=N;else if(s.ltype!=N)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,c+$)}console.debug("unsupported GPOS table LookupType",o,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,o,a){var s=e._bin,l=[];return l.push(1&a?s.readShort(i,o):0),o+=1&a?2:0,l.push(2&a?s.readShort(i,o):0),o+=2&a?2:0,l.push(4&a?s.readShort(i,o):0),o+=4&a?2:0,l.push(8&a?s.readShort(i,o):0),o+=8&a?2:0,l},e.GPOS.readBaseArray=function(i,o,a){var s=e._bin,l=[],c=o,u=s.readUshort(i,o);o+=2;for(var f=0;f<u;f++){for(var d=[],h=0;h<a;h++)d.push(e.GPOS.readAnchorRecord(i,c+s.readUshort(i,o))),o+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,o){var a=e._bin,s=[],l=o,c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,a.readUshort(i,o+2)+l);f.markClass=a.readUshort(i,o),s.push(f),o+=4}return s},e.GPOS.readAnchorRecord=function(i,o){var a=e._bin,s={};return s.fmt=a.readUshort(i,o),s.x=a.readShort(i,o+2),s.y=a.readShort(i,o+4),s},e.GSUB={},e.GSUB.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GSUB.subt)},e.GSUB.subt=function(i,o,a,s){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&u.fmt<=2||o==6&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(o==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,a),a+=2;else if(u.fmt==2){var d=l.readUshort(i,a);a+=2,u.newg=l.readUshorts(i,a,d),a+=2*u.newg.length}}else if(o==2&&u.fmt==1){d=l.readUshort(i,a),a+=2,u.seqs=[];for(var h=0;h<d;h++){var g=l.readUshort(i,a)+c;a+=2;var x=l.readUshort(i,g);u.seqs.push(l.readUshorts(i,g+2,x))}}else if(o==4)for(u.vals=[],d=l.readUshort(i,a),a+=2,h=0;h<d;h++){var v=l.readUshort(i,a);a+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}else if(o==5&&u.fmt==2){if(u.fmt==2){var y=l.readUshort(i,a);a+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var _=l.readUshort(i,a);for(a+=2,h=0;h<_;h++){var b=l.readUshort(i,a);a+=2,u.scset.push(b==0?null:e.GSUB.readSubClassSet(i,c+b))}}}else if(o==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){d=l.readUshort(i,a),a+=2;for(var w=[],E=0;E<d;E++)w.push(e._lctf.readCoverage(i,c+l.readUshort(i,a+2*E)));a+=2*d,h==0&&(u.backCvg=w),h==1&&(u.inptCvg=w),h==2&&(u.ahedCvg=w)}d=l.readUshort(i,a),a+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,a,d)}}else{if(o==7&&u.fmt==1){var M=l.readUshort(i,a);a+=2;var T=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=M;else if(s.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,c+T)}console.debug("unsupported GSUB table LookupType",o,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,o){var a=e._bin.readUshort,s=o,l=[],c=a(i,o);o+=2;for(var u=0;u<c;u++){var f=a(i,o);o+=2,l.push(e.GSUB.readSubClassRule(i,s+f))}return l},e.GSUB.readSubClassRule=function(i,o){var a=e._bin.readUshort,s={},l=a(i,o),c=a(i,o+=2);o+=2,s.input=[];for(var u=0;u<l-1;u++)s.input.push(a(i,o)),o+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,c),s},e.GSUB.readSubstLookupRecords=function(i,o,a){for(var s=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(s(i,o),s(i,o+2)),o+=4;return l},e.GSUB.readChainSubClassSet=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readChainSubClassRule(i,s+f))}return l},e.GSUB.readChainSubClassRule=function(i,o){for(var a=e._bin,s={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=a.readUshort(i,o);o+=2,c==1&&u--,s[l[c]]=a.readUshorts(i,o,u),o+=2*s[l[c]].length}return u=a.readUshort(i,o),o+=2,s.subst=a.readUshorts(i,o,2*u),o+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,o){var a=e._bin,s=o,l=[],c=a.readUshort(i,o);o+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readLigature(i,s+f))}return l},e.GSUB.readLigature=function(i,o){var a=e._bin,s={chain:[]};s.nglyph=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2;for(var c=0;c<l-1;c++)s.chain.push(a.readUshort(i,o)),o+=2;return s},e.head={},e.head.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.fontRevision=s.readFixed(i,o),o+=4,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4,l.flags=s.readUshort(i,o),o+=2,l.unitsPerEm=s.readUshort(i,o),o+=2,l.created=s.readUint64(i,o),o+=8,l.modified=s.readUint64(i,o),o+=8,l.xMin=s.readShort(i,o),o+=2,l.yMin=s.readShort(i,o),o+=2,l.xMax=s.readShort(i,o),o+=2,l.yMax=s.readShort(i,o),o+=2,l.macStyle=s.readUshort(i,o),o+=2,l.lowestRecPPEM=s.readUshort(i,o),o+=2,l.fontDirectionHint=s.readShort(i,o),o+=2,l.indexToLocFormat=s.readShort(i,o),o+=2,l.glyphDataFormat=s.readShort(i,o),o+=2,l},e.hhea={},e.hhea.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.ascender=s.readShort(i,o),o+=2,l.descender=s.readShort(i,o),o+=2,l.lineGap=s.readShort(i,o),o+=2,l.advanceWidthMax=s.readUshort(i,o),o+=2,l.minLeftSideBearing=s.readShort(i,o),o+=2,l.minRightSideBearing=s.readShort(i,o),o+=2,l.xMaxExtent=s.readShort(i,o),o+=2,l.caretSlopeRise=s.readShort(i,o),o+=2,l.caretSlopeRun=s.readShort(i,o),o+=2,l.caretOffset=s.readShort(i,o),o+=2,o+=8,l.metricDataFormat=s.readShort(i,o),o+=2,l.numberOfHMetrics=s.readUshort(i,o),o+=2,l},e.hmtx={},e.hmtx.parse=function(i,o,a,s){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<s.maxp.numGlyphs;d++)d<s.hhea.numberOfHMetrics&&(u=l.readUshort(i,o),o+=2,f=l.readShort(i,o),o+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,o,a,s){var l=e._bin,c=l.readUshort(i,o);if(o+=2,c==1)return e.kern.parseV1(i,o-2,a,s);var u=l.readUshort(i,o);o+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){o+=2,a=l.readUshort(i,o),o+=2;var h=l.readUshort(i,o);o+=2;var g=h>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;o=e.kern.readFormat0(i,o,f)}return f},e.kern.parseV1=function(i,o,a,s){var l=e._bin;l.readFixed(i,o),o+=4;var c=l.readUint(i,o);o+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,o),o+=4;var d=l.readUshort(i,o);o+=2,l.readUshort(i,o),o+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;o=e.kern.readFormat0(i,o,u)}return u},e.kern.readFormat0=function(i,o,a){var s=e._bin,l=-1,c=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var u=0;u<c;u++){var f=s.readUshort(i,o);o+=2;var d=s.readUshort(i,o);o+=2;var h=s.readShort(i,o);o+=2,f!=l&&(a.glyph1.push(f),a.rval.push({glyph2:[],vals:[]}));var g=a.rval[a.rval.length-1];g.glyph2.push(d),g.vals.push(h),l=f}return o},e.loca={},e.loca.parse=function(i,o,a,s){var l=e._bin,c=[],u=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,o+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,o+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,o,a){var s=e._bin,l={},c=s.readUint(i,o);return o+=4,l.numGlyphs=s.readUshort(i,o),o+=2,c==65536&&(l.maxPoints=s.readUshort(i,o),o+=2,l.maxContours=s.readUshort(i,o),o+=2,l.maxCompositePoints=s.readUshort(i,o),o+=2,l.maxCompositeContours=s.readUshort(i,o),o+=2,l.maxZones=s.readUshort(i,o),o+=2,l.maxTwilightPoints=s.readUshort(i,o),o+=2,l.maxStorage=s.readUshort(i,o),o+=2,l.maxFunctionDefs=s.readUshort(i,o),o+=2,l.maxInstructionDefs=s.readUshort(i,o),o+=2,l.maxStackElements=s.readUshort(i,o),o+=2,l.maxSizeOfInstructions=s.readUshort(i,o),o+=2,l.maxComponentElements=s.readUshort(i,o),o+=2,l.maxComponentDepth=s.readUshort(i,o),o+=2),l},e.name={},e.name.parse=function(i,o,a){var s=e._bin,l={};s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2,s.readUshort(i,o);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=o+=2,h=0;h<c;h++){var g=s.readUshort(i,o);o+=2;var x=s.readUshort(i,o);o+=2;var v=s.readUshort(i,o);o+=2;var y=s.readUshort(i,o);o+=2;var _=s.readUshort(i,o);o+=2;var b=s.readUshort(i,o);o+=2;var w,E=f[y],M=d+12*c+b;if(g==0)w=s.readUnicode(i,M,_/2);else if(g==3&&x==0)w=s.readUnicode(i,M,_/2);else if(x==0)w=s.readASCII(i,M,_);else if(x==1)w=s.readUnicode(i,M,_/2);else if(x==3)w=s.readUnicode(i,M,_/2);else{if(g!=1)throw"unknown encoding "+x+", platformID: "+g;w=s.readASCII(i,M,_),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var T="p"+g+","+v.toString(16);l[T]==null&&(l[T]={}),l[T][E!==void 0?E:y]=w,l[T]._lang=v}for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==1033)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==0)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==3084)return l[O];for(var O in l)if(l[O].postScriptName!=null)return l[O];for(var O in l){u=O;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,o,a){var s=e._bin.readUshort(i,o);o+=2;var l={};if(s==0)e["OS/2"].version0(i,o,l);else if(s==1)e["OS/2"].version1(i,o,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,o,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,o,l)}return l},e["OS/2"].version0=function(i,o,a){var s=e._bin;return a.xAvgCharWidth=s.readShort(i,o),o+=2,a.usWeightClass=s.readUshort(i,o),o+=2,a.usWidthClass=s.readUshort(i,o),o+=2,a.fsType=s.readUshort(i,o),o+=2,a.ySubscriptXSize=s.readShort(i,o),o+=2,a.ySubscriptYSize=s.readShort(i,o),o+=2,a.ySubscriptXOffset=s.readShort(i,o),o+=2,a.ySubscriptYOffset=s.readShort(i,o),o+=2,a.ySuperscriptXSize=s.readShort(i,o),o+=2,a.ySuperscriptYSize=s.readShort(i,o),o+=2,a.ySuperscriptXOffset=s.readShort(i,o),o+=2,a.ySuperscriptYOffset=s.readShort(i,o),o+=2,a.yStrikeoutSize=s.readShort(i,o),o+=2,a.yStrikeoutPosition=s.readShort(i,o),o+=2,a.sFamilyClass=s.readShort(i,o),o+=2,a.panose=s.readBytes(i,o,10),o+=10,a.ulUnicodeRange1=s.readUint(i,o),o+=4,a.ulUnicodeRange2=s.readUint(i,o),o+=4,a.ulUnicodeRange3=s.readUint(i,o),o+=4,a.ulUnicodeRange4=s.readUint(i,o),o+=4,a.achVendID=[s.readInt8(i,o),s.readInt8(i,o+1),s.readInt8(i,o+2),s.readInt8(i,o+3)],o+=4,a.fsSelection=s.readUshort(i,o),o+=2,a.usFirstCharIndex=s.readUshort(i,o),o+=2,a.usLastCharIndex=s.readUshort(i,o),o+=2,a.sTypoAscender=s.readShort(i,o),o+=2,a.sTypoDescender=s.readShort(i,o),o+=2,a.sTypoLineGap=s.readShort(i,o),o+=2,a.usWinAscent=s.readUshort(i,o),o+=2,a.usWinDescent=s.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,a){var s=e._bin;return o=e["OS/2"].version0(i,o,a),a.ulCodePageRange1=s.readUint(i,o),o+=4,a.ulCodePageRange2=s.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,a){var s=e._bin;return o=e["OS/2"].version1(i,o,a),a.sxHeight=s.readShort(i,o),o+=2,a.sCapHeight=s.readShort(i,o),o+=2,a.usDefault=s.readUshort(i,o),o+=2,a.usBreak=s.readUshort(i,o),o+=2,a.usMaxContext=s.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,a){var s=e._bin;return o=e["OS/2"].version2(i,o,a),a.usLowerOpticalPointSize=s.readUshort(i,o),o+=2,a.usUpperOpticalPointSize=s.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,a){var s=e._bin,l={};return l.version=s.readFixed(i,o),o+=4,l.italicAngle=s.readFixed(i,o),o+=4,l.underlinePosition=s.readShort(i,o),o+=2,l.underlineThickness=s.readShort(i,o),o+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var a=i.cmap,s=-1;if(a.p0e4!=null?s=a.p0e4:a.p3e1!=null?s=a.p3e1:a.p1e0!=null?s=a.p1e0:a.p0e3!=null&&(s=a.p0e3),s==-1)throw"no familiar platform and encoding!";var l=a.tables[s];if(l.format==0)return o>=l.map.length?0:l.map[o];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(o<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>o?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[o-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:o+l.idDelta[c])}if(l.format==12){if(o>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=o&&o<=f[1])return f[2]+(o-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,o){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var s=i.SVG.entries[o];return s==null?a:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[o]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=o;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],l,c,u,a)}else i.glyf&&e.U._drawGlyf(o,i,a);return a},e.U._drawGlyf=function(i,o,a){var s=o.glyf[i];s==null&&(s=o.glyf[i]=e.glyf._parseGlyf(o,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,a):e.U._compoGlyph(s,o,a))},e.U._simpleGlyph=function(i,o){for(var a=0;a<i.noc;a++){for(var s=a==0?0:i.endPts[a-1]+1,l=i.endPts[a],c=s;c<=l;c++){var u=c==s?l:c-1,f=c==l?s:c+1,d=1&i.flags[c],h=1&i.flags[u],g=1&i.flags[f],x=i.xs[c],v=i.ys[c];if(c==s)if(d){if(!h){e.U.P.moveTo(o,x,v);continue}e.U.P.moveTo(o,i.xs[u],i.ys[u])}else h?e.U.P.moveTo(o,i.xs[u],i.ys[u]):e.U.P.moveTo(o,(i.xs[u]+x)/2,(i.ys[u]+v)/2);d?h&&e.U.P.lineTo(o,x,v):g?e.U.P.qcurveTo(o,x,v,i.xs[f],i.ys[f]):e.U.P.qcurveTo(o,x,v,(x+i.xs[f])/2,(v+i.ys[f])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,a){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},c=i.parts[s];e.U._drawGlyf(c.glyphIndex,o,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],h=l.crds[f+1];a.crds.push(d*u.a+h*u.b+u.tx),a.crds.push(d*u.c+h*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)a.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,o){var a=e._lctf.getInterval(o,i);return a==-1?0:o[a+2]},e.U._applySubs=function(i,o,a,s){for(var l=i.length-o-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var u,f=a.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[o]))!=-1){if(a.ltype==1)i[o],f.fmt==1?i[o]=i[o]+f.delta:i[o]=f.newg[u];else if(a.ltype==4)for(var d=f.vals[u],h=0;h<d.length;h++){var g=d[h],x=g.chain.length;if(!(x>l)){for(var v=!0,y=0,_=0;_<x;_++){for(;i[o+y+(1+_)]==-1;)y++;g.chain[_]!=i[o+y+(1+_)]&&(v=!1)}if(v){for(i[o]=g.nglyph,_=0;_<x+y;_++)i[o+_+1]=-1;break}}}else if(a.ltype==5&&f.fmt==2)for(var b=e._lctf.getInterval(f.cDef,i[o]),w=f.cDef[b+2],E=f.scset[w],M=0;M<E.length;M++){var T=E[M],O=T.input;if(!(O.length>l)){for(v=!0,_=0;_<O.length;_++){var P=e._lctf.getInterval(f.cDef,i[o+1+_]);if(b==-1&&f.cDef[P+2]!=O[_]){v=!1;break}}if(v){var R=T.substLookupRecords;for(h=0;h<R.length;h+=2)R[h],R[h+1]}}}else if(a.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,o-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,o)||!e.U._glsCovered(i,f.ahedCvg,o+f.inptCvg.length))continue;var k=f.lookupRec;for(M=0;M<k.length;M+=2){b=k[M];var D=s[k[M+1]];e.U._applySubs(i,o+b,D,s)}}}}},e.U._glsCovered=function(i,o,a){for(var s=0;s<o.length;s++)if(e._lctf.coverageIndex(o[s],i[a+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,a){for(var s={cmds:[],crds:[]},l=0,c=0;c<o.length;c++){var u=o[c];if(u!=-1){for(var f=c<o.length-1&&o[c+1]!=-1?o[c+1]:0,d=e.U.glyphToPath(i,u),h=0;h<d.crds.length;h+=2)s.crds.push(d.crds[h]+l),s.crds.push(d.crds[h+1]);for(a&&s.cmds.push(a),h=0;h<d.cmds.length;h++)s.cmds.push(d.cmds[h]);a&&s.cmds.push("X"),l+=i.hmtx.aWidth[u],c<o.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return s},e.U.P={},e.U.P.moveTo=function(i,o,a){i.cmds.push("M"),i.crds.push(o,a)},e.U.P.lineTo=function(i,o,a){i.cmds.push("L"),i.crds.push(o,a)},e.U.P.curveTo=function(i,o,a,s,l,c,u){i.cmds.push("C"),i.crds.push(o,a,s,l,c,u)},e.U.P.qcurveTo=function(i,o,a,s,l){i.cmds.push("Q"),i.crds.push(o,a,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,a,s,l){for(var c=o.stack,u=o.nStems,f=o.haveWidth,d=o.width,h=o.open,g=0,x=o.x,v=o.y,y=0,_=0,b=0,w=0,E=0,M=0,T=0,O=0,P=0,R=0,k={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,k);var D=k.val;if(g+=k.size,D=="o1"||D=="o18")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(D=="o3"||D=="o23")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(D=="o4")c.length>1&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),h&&e.U.P.closePath(l),v+=c.pop(),e.U.P.moveTo(l,x,v),h=!0;else if(D=="o5")for(;c.length>0;)x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v);else if(D=="o6"||D=="o7")for(var G=c.length,N=D=="o6",$=0;$<G;$++){var H=c.shift();N?x+=H:v+=H,N=!N,e.U.P.lineTo(l,x,v)}else if(D=="o8"||D=="o24"){G=c.length;for(var K=0;K+6<=G;)y=x+c.shift(),_=v+c.shift(),b=y+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w+c.shift(),e.U.P.curveTo(l,y,_,b,w,x,v),K+=6;D=="o24"&&(x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(_=v,b=(y=x+c.shift())+c.shift(),R=w=_+c.shift(),M=w,O=v,x=(T=(E=(P=b+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,y,_,b,w,P,R),e.U.P.curveTo(l,E,M,T,O,x,v)),D=="o1235"&&(y=x+c.shift(),_=v+c.shift(),b=y+c.shift(),w=_+c.shift(),P=b+c.shift(),R=w+c.shift(),E=P+c.shift(),M=R+c.shift(),T=E+c.shift(),O=M+c.shift(),x=T+c.shift(),v=O+c.shift(),c.shift(),e.U.P.curveTo(l,y,_,b,w,P,R),e.U.P.curveTo(l,E,M,T,O,x,v)),D=="o1236"&&(y=x+c.shift(),_=v+c.shift(),b=y+c.shift(),R=w=_+c.shift(),M=w,T=(E=(P=b+c.shift())+c.shift())+c.shift(),O=M+c.shift(),x=T+c.shift(),e.U.P.curveTo(l,y,_,b,w,P,R),e.U.P.curveTo(l,E,M,T,O,x,v)),D=="o1237"&&(y=x+c.shift(),_=v+c.shift(),b=y+c.shift(),w=_+c.shift(),P=b+c.shift(),R=w+c.shift(),E=P+c.shift(),M=R+c.shift(),T=E+c.shift(),O=M+c.shift(),Math.abs(T-x)>Math.abs(O-v)?x=T+c.shift():v=O+c.shift(),e.U.P.curveTo(l,y,_,b,w,P,R),e.U.P.curveTo(l,E,M,T,O,x,v));else if(D=="o14"){if(c.length>0&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),c.length==4){var U=c.shift(),F=c.shift(),j=c.shift(),z=c.shift(),X=e.CFF.glyphBySE(a,j),q=e.CFF.glyphBySE(a,z);e.U._drawCFF(a.CharStrings[X],o,a,s,l),o.x=U,o.y=F,e.U._drawCFF(a.CharStrings[q],o,a,s,l)}h&&(e.U.P.closePath(l),h=!1)}else if(D=="o19"||D=="o20")c.length%2!=0&&!f&&(d=c.shift()+s.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(D=="o21")c.length>2&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),v+=c.pop(),x+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,x,v),h=!0;else if(D=="o22")c.length>1&&!f&&(d=c.shift()+s.nominalWidthX,f=!0),x+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,x,v),h=!0;else if(D=="o25"){for(;c.length>6;)x+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,x,v);y=x+c.shift(),_=v+c.shift(),b=y+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w+c.shift(),e.U.P.curveTo(l,y,_,b,w,x,v)}else if(D=="o26")for(c.length%2&&(x+=c.shift());c.length>0;)y=x,_=v+c.shift(),x=b=y+c.shift(),v=(w=_+c.shift())+c.shift(),e.U.P.curveTo(l,y,_,b,w,x,v);else if(D=="o27")for(c.length%2&&(v+=c.shift());c.length>0;)_=v,b=(y=x+c.shift())+c.shift(),w=_+c.shift(),x=b+c.shift(),v=w,e.U.P.curveTo(l,y,_,b,w,x,v);else if(D=="o10"||D=="o29"){var Z=D=="o10"?s:a;if(c.length==0)console.debug("error: empty stack");else{var ne=c.pop(),se=Z.Subrs[ne+Z.Bias];o.x=x,o.y=v,o.nStems=u,o.haveWidth=f,o.width=d,o.open=h,e.U._drawCFF(se,o,a,s,l),x=o.x,v=o.y,u=o.nStems,f=o.haveWidth,d=o.width,h=o.open}}else if(D=="o30"||D=="o31"){var ae=c.length,ge=(K=0,D=="o31");for(K+=ae-(G=-3&ae);K<G;)ge?(_=v,b=(y=x+c.shift())+c.shift(),v=(w=_+c.shift())+c.shift(),G-K==5?(x=b+c.shift(),K++):x=b,ge=!1):(y=x,_=v+c.shift(),b=y+c.shift(),w=_+c.shift(),x=b+c.shift(),G-K==5?(v=w+c.shift(),K++):v=w,ge=!0),e.U.P.curveTo(l,y,_,b,w,x,v),K+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,i),D;c.push(D)}}}o.x=x,o.y=v,o.nStems=u,o.haveWidth=f,o.width=d,o.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function ade(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(D,G){for(var N=new n(31),$=0;$<31;++$)N[$]=G+=1<<D[$-1];var H=new r(N[30]);for($=1;$<30;++$)for(var K=N[$];K<N[$+1];++K)H[K]=K-N[$]<<5|$;return[N,H]},l=s(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=s(o,0)[0],d=new n(32768),h=0;h<32768;++h){var g=(43690&h)>>>1|(21845&h)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[h]=((65280&g)>>>8|(255&g)<<8)>>>1}var x=function(D,G,N){for(var $=D.length,H=0,K=new n(G);H<$;++H)++K[D[H]-1];var U,F=new n(G);for(H=0;H<G;++H)F[H]=F[H-1]+K[H-1]<<1;{U=new n(1<<G);var j=15-G;for(H=0;H<$;++H)if(D[H])for(var z=H<<4|D[H],X=G-D[H],q=F[D[H]-1]++<<X,Z=q|(1<<X)-1;q<=Z;++q)U[d[q]>>>j]=z}return U},v=new e(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var y=new e(32);for(h=0;h<32;++h)y[h]=5;var _=x(v,9),b=x(y,5),w=function(D){for(var G=D[0],N=1;N<D.length;++N)D[N]>G&&(G=D[N]);return G},E=function(D,G,N){var $=G/8|0;return(D[$]|D[$+1]<<8)>>(7&G)&N},M=function(D,G){var N=G/8|0;return(D[N]|D[N+1]<<8|D[N+2]<<16)>>(7&G)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(D,G,N){var $=new Error(G||T[D]);if($.code=D,Error.captureStackTrace&&Error.captureStackTrace($,O),!N)throw $;return $},P=function(D,G,N){var $=D.length;if(!$||N&&!N.l&&$<5)return G||new e(0);var H=!G||N,K=!N||N.i;N||(N={}),G||(G=new e(3*$));var U,F=function(Ne){var ie=G.length;if(Ne>ie){var Pe=new e(Math.max(2*ie,Ne));Pe.set(G),G=Pe}},j=N.f||0,z=N.p||0,X=N.b||0,q=N.l,Z=N.d,ne=N.m,se=N.n,ae=8*$;do{if(!q){N.f=j=E(D,z,1);var ge=E(D,z+1,3);if(z+=3,!ge){var ce=D[(W=((U=z)/8|0)+(7&U&&1)+4)-4]|D[W-3]<<8,ve=W+ce;if(ve>$){K&&O(0);break}H&&F(X+ce),G.set(D.subarray(W,ve),X),N.b=X+=ce,N.p=z=8*ve;continue}if(ge==1)q=_,Z=b,ne=9,se=5;else if(ge==2){var he=E(D,z,31)+257,V=E(D,z+10,15)+4,ye=he+E(D,z+5,31)+1;z+=14;for(var le=new e(ye),we=new e(19),ue=0;ue<V;++ue)we[a[ue]]=E(D,z+3*ue,7);z+=3*V;var Fe=w(we),xe=(1<<Fe)-1,Y=x(we,Fe);for(ue=0;ue<ye;){var W,ee=Y[E(D,z,xe)];if(z+=15&ee,(W=ee>>>4)<16)le[ue++]=W;else{var be=0,fe=0;for(W==16?(fe=3+E(D,z,3),z+=2,be=le[ue-1]):W==17?(fe=3+E(D,z,7),z+=3):W==18&&(fe=11+E(D,z,127),z+=7);fe--;)le[ue++]=be}}var me=le.subarray(0,he),Ie=le.subarray(he);ne=w(me),se=w(Ie),q=x(me,ne),Z=x(Ie,se)}else O(1);if(z>ae){K&&O(0);break}}H&&F(X+131072);for(var Be=(1<<ne)-1,Re=(1<<se)-1,Ve=z;;Ve=z){var qe=(be=q[M(D,z)&Be])>>>4;if((z+=15&be)>ae){K&&O(0);break}if(be||O(2),qe<256)G[X++]=qe;else{if(qe==256){Ve=z,q=null;break}var Ae=qe-254;if(qe>264){var lt=i[ue=qe-257];Ae=E(D,z,(1<<lt)-1)+c[ue],z+=lt}var rt=Z[M(D,z)&Re],Ye=rt>>>4;if(rt||O(3),z+=15&rt,Ie=f[Ye],Ye>3&&(lt=o[Ye],Ie+=M(D,z)&(1<<lt)-1,z+=lt),z>ae){K&&O(0);break}H&&F(X+131072);for(var He=X+Ae;X<He;X+=4)G[X]=G[X-Ie],G[X+1]=G[X+1-Ie],G[X+2]=G[X+2-Ie],G[X+3]=G[X+3-Ie];X=He}}N.l=q,N.p=Ve,N.b=X,q&&(j=1,N.m=ne,N.d=Z,N.n=se)}while(!j);return X==G.length?G:function(Ne,ie,Pe){(Pe==null||Pe>Ne.length)&&(Pe=Ne.length);var Qe=new(Ne instanceof n?n:Ne instanceof r?r:e)(Pe-ie);return Qe.set(Ne.subarray(ie,Pe)),Qe}(G,0,X)},R=new e(0),k=typeof TextDecoder<"u"&&new TextDecoder;try{k.decode(R,{stream:!0})}catch{}return t.convert_streams=function(D){var G=new DataView(D),N=0;function $(){var he=G.getUint16(N);return N+=2,he}function H(){var he=G.getUint32(N);return N+=4,he}function K(he){ce.setUint16(ve,he),ve+=2}function U(he){ce.setUint32(ve,he),ve+=4}for(var F={signature:H(),flavor:H(),length:H(),numTables:$(),reserved:$(),totalSfntSize:H(),majorVersion:$(),minorVersion:$(),metaOffset:H(),metaLength:H(),metaOrigLength:H(),privOffset:H(),privLength:H()},j=0;Math.pow(2,j)<=F.numTables;)j++;j--;for(var z=16*Math.pow(2,j),X=16*F.numTables-z,q=12,Z=[],ne=0;ne<F.numTables;ne++)Z.push({tag:H(),offset:H(),compLength:H(),origLength:H(),origChecksum:H()}),q+=16;var se,ae=new Uint8Array(12+16*Z.length+Z.reduce(function(he,V){return he+V.origLength+4},0)),ge=ae.buffer,ce=new DataView(ge),ve=0;return U(F.flavor),K(F.numTables),K(z),K(j),K(X),Z.forEach(function(he){U(he.tag),U(he.origChecksum),U(q),U(he.origLength),he.outOffset=q,(q+=he.origLength)%4!=0&&(q+=4-q%4)}),Z.forEach(function(he){var V,ye=D.slice(he.offset,he.offset+he.compLength);if(he.compLength!=he.origLength){var le=new Uint8Array(he.origLength);V=new Uint8Array(ye,2),P(V,le)}else le=new Uint8Array(ye);ae.set(le,he.outOffset);var we=0;(q=he.outOffset+he.origLength)%4!=0&&(we=4-q%4),ae.set(new Uint8Array(we).buffer,he.outOffset+he.origLength),se=q+we}),ge.slice(0,se)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function sde(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,a=4,s=8,l=16,c=32;let u;function f(T){if(!u){const O={R:o,L:i,D:a,C:l,U:c,T:s};u=new Map;for(let P in r){let R=0;r[P].split(",").forEach(k=>{let[D,G]=k.split("+");D=parseInt(D,36),G=G?parseInt(G,36):0,u.set(R+=D,O[P]);for(let N=G;N--;)u.set(++R,O[P])})}}return u.get(T)||c}const d=1,h=2,g=3,x=4,v=[null,"isol","init","fina","medi"];function y(T){const O=new Uint8Array(T.length);let P=c,R=d,k=-1;for(let D=0;D<T.length;D++){const G=T.codePointAt(D);let N=f(G)|0,$=d;N&s||(P&(i|a|l)?N&(o|a|l)?($=g,(R===d||R===g)&&O[k]++):N&(i|c)&&(R===h||R===x)&&O[k]--:P&(o|c)&&(R===h||R===x)&&O[k]--,R=O[D]=$,P=N,k=D,G>65535&&D++)}return O}function _(T,O){const P=[];for(let k=0;k<O.length;k++){const D=O.codePointAt(k);D>65535&&k++,P.push(t.U.codeToGlyph(T,D))}const R=T.GSUB;if(R){const{lookupList:k,featureList:D}=R;let G;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,$=[];D.forEach(H=>{if(N.test(H.tag))for(let K=0;K<H.tab.length;K++){if($[H.tab[K]])continue;$[H.tab[K]]=!0;const U=k[H.tab[K]],F=/^(isol|init|fina|medi)$/.test(H.tag);F&&!G&&(G=y(O));for(let j=0;j<P.length;j++)(!G||!F||v[G[j]]===H.tag)&&t.U._applySubs(P,j,U,k)}})}return P}function b(T,O){const P=new Int16Array(O.length*3);let R=0;for(;R<O.length;R++){const N=O[R];if(N===-1)continue;P[R*3+2]=T.hmtx.aWidth[N];const $=T.GPOS;if($){const H=$.lookupList;for(let K=0;K<H.length;K++){const U=H[K];for(let F=0;F<U.tabs.length;F++){const j=U.tabs[F];if(U.ltype===1){if(t._lctf.coverageIndex(j.coverage,N)!==-1&&j.pos){G(j.pos,R);break}}else if(U.ltype===2){let z=null,X=k();if(X!==-1){const q=t._lctf.coverageIndex(j.coverage,O[X]);if(q!==-1){if(j.fmt===1){const Z=j.pairsets[q];for(let ne=0;ne<Z.length;ne++)Z[ne].gid2===N&&(z=Z[ne])}else if(j.fmt===2){const Z=t.U._getGlyphClass(O[X],j.classDef1),ne=t.U._getGlyphClass(N,j.classDef2);z=j.matrix[Z][ne]}if(z){z.val1&&G(z.val1,X),z.val2&&G(z.val2,R);break}}}}else if(U.ltype===4){const z=t._lctf.coverageIndex(j.markCoverage,N);if(z!==-1){const X=k(D),q=X===-1?-1:t._lctf.coverageIndex(j.baseCoverage,O[X]);if(q!==-1){const Z=j.markArray[z],ne=j.baseArray[q][Z.markClass];P[R*3]=ne.x-Z.x+P[X*3]-P[X*3+2],P[R*3+1]=ne.y-Z.y+P[X*3+1];break}}}else if(U.ltype===6){const z=t._lctf.coverageIndex(j.mark1Coverage,N);if(z!==-1){const X=k();if(X!==-1){const q=O[X];if(w(T,q)===3){const Z=t._lctf.coverageIndex(j.mark2Coverage,q);if(Z!==-1){const ne=j.mark1Array[z],se=j.mark2Array[Z][ne.markClass];P[R*3]=se.x-ne.x+P[X*3]-P[X*3+2],P[R*3+1]=se.y-ne.y+P[X*3+1];break}}}}}}}}else if(T.kern&&!T.cff){const H=k();if(H!==-1){const K=T.kern.glyph1.indexOf(O[H]);if(K!==-1){const U=T.kern.rval[K].glyph2.indexOf(N);U!==-1&&(P[H*3+2]+=T.kern.rval[K].vals[U])}}}}return P;function k(N){for(let $=R-1;$>=0;$--)if(O[$]!==-1&&(!N||N(O[$])))return $;return-1}function D(N){return w(T,N)===1}function G(N,$){for(let H=0;H<3;H++)P[$*3+H]+=N[H]||0}}function w(T,O){const P=T.GDEF&&T.GDEF.glyphClassDef;return P?t.U._getGlyphClass(O,P):0}function E(...T){for(let O=0;O<T.length;O++)if(typeof T[O]=="number")return T[O]}function M(T){const O=Object.create(null),P=T["OS/2"],R=T.hhea,k=T.head.unitsPerEm,D=E(P&&P.sTypoAscender,R&&R.ascender,k),G={unitsPerEm:k,ascender:D,descender:E(P&&P.sTypoDescender,R&&R.descender,0),capHeight:E(P&&P.sCapHeight,D),xHeight:E(P&&P.sxHeight,D),lineGap:E(P&&P.sTypoLineGap,R&&R.lineGap),supportsCodePoint(N){return t.U.codeToGlyph(T,N)>0},forEachGlyph(N,$,H,K){let U=0;const F=1/G.unitsPerEm*$,j=_(T,N);let z=0;const X=b(T,j);return j.forEach((q,Z)=>{if(q!==-1){let ne=O[q];if(!ne){const{cmds:se,crds:ae}=t.U.glyphToPath(T,q);let ge="",ce=0;for(let le=0,we=se.length;le<we;le++){const ue=n[se[le]];ge+=se[le];for(let Fe=1;Fe<=ue;Fe++)ge+=(Fe>1?",":"")+ae[ce++]}let ve,he,V,ye;if(ae.length){ve=he=1/0,V=ye=-1/0;for(let le=0,we=ae.length;le<we;le+=2){let ue=ae[le],Fe=ae[le+1];ue<ve&&(ve=ue),Fe<he&&(he=Fe),ue>V&&(V=ue),Fe>ye&&(ye=Fe)}}else ve=V=he=ye=0;ne=O[q]={index:q,advanceWidth:T.hmtx.aWidth[q],xMin:ve,yMin:he,xMax:V,yMax:ye,path:ge}}K.call(null,ne,U+X[Z*3]*F,X[Z*3+1]*F,z),U+=X[Z*3+2]*F,H&&(U+=H*$)}z+=N.codePointAt(z)>65535?2:1}),U}};return G}return function(O){const P=new Uint8Array(O,0,4),R=t._bin.readASCII(P,0,4);if(R==="wOFF")O=e(O);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(O)[0])}}const lde=wp({name:"Typr Font Parser",dependencies:[ode,ade,sde],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function cde(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(b){var w=b>>5;this.buckets.set(w,(this.buckets.get(w)||0)|1<<(31&b))},e.prototype.has=function(b){var w=this.buckets.get(b>>5);return w!==void 0&&(w&1<<(31&b))!=0},e.prototype.serialize=function(){var b=[];return this.buckets.forEach(function(w,E){b.push((+E).toString(36)+":"+w.toString(36))}),b.join(",")},e.prototype.deserialize=function(b){var w=this;this.buckets.clear(),b.split(",").forEach(function(E){var M=E.split(":");w.buckets.set(parseInt(M[0],36),parseInt(M[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function o(b){var w=function(M){return M&i}(b).toString(16),E=function(M){return(M&i)+n-1}(b).toString(16);return"codepoint-index/plane"+(b>>16)+"/"+w+"-"+E+".json"}function a(b,w){var E=b&r,M=w.codePointAt(E/6|0);return((M=(M||48)-48)&1<<E%6)!=0}function s(b,w){var E;(E=b,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(T){return parseInt(T.trim(),16)})})).forEach(function(M){var T=M[0],O=M[1];O===void 0&&(O=T),w(T,O)})}function l(b,w){s(b,function(E,M){for(var T=E;T<=M;T++)w(T)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(b){var w=f.get(b);return w||(w=new e,l(b.ranges,function(E){return w.add(E)}),f.set(b,w)),w}var g,x=new Map;function v(b,w,E){return b[w]?w:b[E]?E:function(M){for(var T in M)return T}(b)}function y(b,w){var E=w;if(!b.includes(E)){E=1/0;for(var M=0;M<b.length;M++)Math.abs(b[M]-w)<Math.abs(E-w)&&(E=b[M])}return E}function _(b){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(w){g.add(w)})),g.has(b)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(b,w){w===void 0&&(w={});var E,M=w.lang;M===void 0&&(M=new RegExp("\\p{Script=Hangul}","u").test(E=b)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(E)?"ja":"en");var T=w.category;T===void 0&&(T="sans-serif");var O=w.style;O===void 0&&(O="normal");var P=w.weight;P===void 0&&(P=400);var R=(w.dataUrl||d).replace(/\/$/g,""),k=new Map,D=new Uint8Array(b.length),G={},N={},$=new Array(b.length),H=new Map,K=!1;function U(z){var X=x.get(z);return X||(X=fetch(R+"/"+z).then(function(q){if(!q.ok)throw new Error(q.statusText);return q.json().then(function(Z){if(!Array.isArray(Z)||Z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Z[0]);return Z[1]})}).catch(function(q){if(R!==d)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+q.message),K=!0),R=d,x.delete(z),U(z);throw q}),x.set(z,X)),X}for(var F=function(z){var X=b.codePointAt(z),q=o(X);$[z]=q,c[q]||H.has(q)||H.set(q,U(q).then(function(Z){c[q]=Z})),X>65535&&(z++,j=z)},j=0;j<b.length;j++)F(j);return Promise.all(H.values()).then(function(){H.clear();for(var z=function(q){var Z=b.codePointAt(q),ne=null,se=c[$[q]],ae=void 0;for(var ge in se){var ce=N[ge];if(ce===void 0&&(ce=N[ge]=new RegExp(ge).test(M||"en")),ce){for(var ve in ae=ge,se[ge])if(a(Z,se[ge][ve])){ne=ve;break}break}}if(!ne){e:for(var he in se)if(he!==ae){for(var V in se[he])if(a(Z,se[he][V])){ne=V;break e}}}ne||(console.debug("No font coverage for U+"+Z.toString(16)),ne="latin"),$[q]=ne,u[ne]||H.has(ne)||H.set(ne,U("font-meta/"+ne+".json").then(function(ye){u[ne]=ye})),Z>65535&&(q++,X=q)},X=0;X<b.length;X++)z(X);return Promise.all(H.values())}).then(function(){for(var z,X=null,q=0;q<b.length;q++){var Z=b.codePointAt(q);if(X&&(_(Z)||h(X).has(Z)))D[q]=D[q-1];else{X=u[$[q]];var ne=G[X.id];if(!ne){var se=X.typeforms,ae=v(se,T,"sans-serif"),ge=v(se[ae],O,"normal"),ce=y((z=se[ae])===null||z===void 0?void 0:z[ge],P);ne=G[X.id]=R+"/font-files/"+X.id+"/"+ae+"."+ge+"."+ce+".woff"}var ve=k.get(ne);ve==null&&(ve=k.size,k.set(ne,ve)),D[q]=ve}Z>65535&&(q++,D[q]=D[q-1])}return{fontUrls:Array.from(k.keys()),chars:D}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function ude(t,e){const n=Object.create(null),r=Object.create(null);function i(a,s){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=a,s(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function o(a,s){let l=n[a];l?s(l):r[a]?r[a].push(s):(r[a]=[s],i(a,c=>{c.src=a,n[a]=c,r[a].forEach(u=>u(c)),delete r[a]}))}return function(a,s,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(a.length),g=[];a.length||_();const x=new Map,v=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(w=>!w.lang||w.lang.test(l)).reverse(),c.length){let T=0;(function O(P=0){for(let R=P,k=a.length;R<k;R++){const D=a.codePointAt(R);if(T===1&&g[h[R-1]].supportsCodePoint(D)||R>0&&/\s/.test(a[R]))h[R]=h[R-1],T===2&&(v[v.length-1][1]=R);else for(let G=h[R],N=c.length;G<=N;G++)if(G===N){const $=T===2?v[v.length-1]:v[v.length]=[R,R];$[1]=R,T=2}else{h[R]=G;const{src:$,unicodeRange:H}=c[G];if(!H||b(D,H)){const K=n[$];if(!K){o($,()=>{O(R)});return}if(K.supportsCodePoint(D)){let U=x.get(K);typeof U!="number"&&(U=g.length,g.push(K),x.set(K,U)),h[R]=U,T=1;break}}}D>65535&&R+1<k&&(h[R+1]=h[R],R++,T===2&&(v[v.length-1][1]=R))}y()})()}else v.push([0,a.length-1]),y();function y(){if(v.length){const w=v.map(E=>a.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(w,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:E,chars:M})=>{const T=g.length;let O=0;v.forEach(R=>{for(let k=0,D=R[1]-R[0];k<=D;k++)h[R[0]+k]=M[O++]+T;O++});let P=0;E.forEach((R,k)=>{o(R,D=>{g[k+T]=D,++P===E.length&&_()})})})}else _()}function _(){s({chars:h,fonts:g})}function b(w,E){for(let M=0;M<E.length;M++){const[T,O=T]=E[M];if(T<=w&&w<=O)return!0}return!1}}}const fde=wp({name:"FontResolver",dependencies:[ude,lde,cde],init(t,e,n){return t(e,n())}});function dde(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",o=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:g,lang:x,fonts:v,style:y,weight:_,preResolvedFonts:b,unicodeFontsURL:w},E){const M=({chars:T,fonts:O})=>{let P,R;const k=[];for(let D=0;D<T.length;D++)T[D]!==R?(R=T[D],k.push(P={start:D,end:D,fontObj:O[T[D]]})):P.end=D;E(k)};b?M(b):t(g,M,{lang:x,fonts:v,style:y,weight:_,unicodeFontsURL:w})}function s({text:g="",font:x,lang:v,sdfGlyphSize:y=64,fontSize:_=400,fontWeight:b=1,fontStyle:w="normal",letterSpacing:E=0,lineHeight:M="normal",maxWidth:T=1/0,direction:O,textAlign:P="left",textIndent:R=0,whiteSpace:k="normal",overflowWrap:D="normal",anchorX:G=0,anchorY:N=0,metricsOnly:$=!1,unicodeFontsURL:H,preResolvedFonts:K=null,includeCaretPositions:U=!1,chunkedBoundsSize:F=8192,colorRanges:j=null},z){const X=f(),q={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),_=+_,E=+E,T=+T,M=M||"normal",R=+R,a({text:g,lang:v,style:w,weight:b,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:H,preResolvedFonts:K},Z=>{q.fontLoad=f()-X;const ne=isFinite(T);let se=null,ae=null,ge=null,ce=null,ve=null,he=null,V=null,ye=null,le=0,we=0,ue=k!=="nowrap";const Fe=new Map,xe=f();let Y=R,W=0,ee=new d;const be=[ee];Z.forEach(Re=>{const{fontObj:Ve}=Re,{ascender:qe,descender:Ae,unitsPerEm:lt,lineGap:rt,capHeight:Ye,xHeight:He}=Ve;let Ne=Fe.get(Ve);if(!Ne){const Ee=_/lt,oe=M==="normal"?(qe-Ae+rt)*Ee:M*_,Xe=(oe-(qe-Ae)*Ee)/2,je=Math.min(oe,(qe-Ae)*Ee),Je=(qe+Ae)/2*Ee+je/2;Ne={index:Fe.size,src:Ve.src,fontObj:Ve,fontSizeMult:Ee,unitsPerEm:lt,ascender:qe*Ee,descender:Ae*Ee,capHeight:Ye*Ee,xHeight:He*Ee,lineHeight:oe,baseline:-Xe-qe*Ee,caretTop:Je,caretBottom:Je-je},Fe.set(Ve,Ne)}const{fontSizeMult:ie}=Ne,Pe=g.slice(Re.start,Re.end+1);let Qe,$e;Ve.forEachGlyph(Pe,_,E,(Ee,oe,Xe,je)=>{oe+=W,je+=Re.start,Qe=oe,$e=Ee;const Je=g.charAt(je),Le=Ee.advanceWidth*ie,Ze=ee.count;let We;if("isEmpty"in Ee||(Ee.isWhitespace=!!Je&&new RegExp(i).test(Je),Ee.canBreakAfter=!!Je&&o.test(Je),Ee.isEmpty=Ee.xMin===Ee.xMax||Ee.yMin===Ee.yMax||r.test(Je)),!Ee.isWhitespace&&!Ee.isEmpty&&we++,ue&&ne&&!Ee.isWhitespace&&oe+Le+Y>T&&Ze){if(ee.glyphAt(Ze-1).glyphObj.canBreakAfter)We=new d,Y=-oe;else for(let bt=Ze;bt--;)if(bt===0&&D==="break-word"){We=new d,Y=-oe;break}else if(ee.glyphAt(bt).glyphObj.canBreakAfter){We=ee.splitAt(bt+1);const gt=We.glyphAt(0).x;Y-=gt;for(let Ot=We.count;Ot--;)We.glyphAt(Ot).x-=gt;break}We&&(ee.isSoftWrapped=!0,ee=We,be.push(ee),le=T)}let ht=ee.glyphAt(ee.count);ht.glyphObj=Ee,ht.x=oe+Y,ht.y=Xe,ht.width=Le,ht.charIndex=je,ht.fontData=Ne,Je===`
`&&(ee=new d,be.push(ee),Y=-(oe+Le+E*_)+R)}),W=Qe+$e.advanceWidth*ie+E*_});let fe=0;be.forEach(Re=>{let Ve=!0;for(let qe=Re.count;qe--;){const Ae=Re.glyphAt(qe);Ve&&!Ae.glyphObj.isWhitespace&&(Re.width=Ae.x+Ae.width,Re.width>le&&(le=Re.width),Ve=!1);let{lineHeight:lt,capHeight:rt,xHeight:Ye,baseline:He}=Ae.fontData;lt>Re.lineHeight&&(Re.lineHeight=lt);const Ne=He-Re.baseline;Ne<0&&(Re.baseline+=Ne,Re.cap+=Ne,Re.ex+=Ne),Re.cap=Math.max(Re.cap,Re.baseline+rt),Re.ex=Math.max(Re.ex,Re.baseline+Ye)}Re.baseline-=fe,Re.cap-=fe,Re.ex-=fe,fe+=Re.lineHeight});let me=0,Ie=0;if(G&&(typeof G=="number"?me=-G:typeof G=="string"&&(me=-le*(G==="left"?0:G==="center"?.5:G==="right"?1:c(G)))),N&&(typeof N=="number"?Ie=-N:typeof N=="string"&&(Ie=N==="top"?0:N==="top-baseline"?-be[0].baseline:N==="top-cap"?-be[0].cap:N==="top-ex"?-be[0].ex:N==="middle"?fe/2:N==="bottom"?fe:N==="bottom-baseline"?-be[be.length-1].baseline:c(N)*fe)),!$){const Re=e.getEmbeddingLevels(g,O);se=new Uint16Array(we),ae=new Uint8Array(we),ge=new Float32Array(we*2),ce={},V=[1/0,1/0,-1/0,-1/0],ye=[],U&&(he=new Float32Array(g.length*4)),j&&(ve=new Uint8Array(we*3));let Ve=0,qe=-1,Ae=-1,lt,rt;if(be.forEach((Ye,He)=>{let{count:Ne,width:ie}=Ye;if(Ne>0){let Pe=0;for(let je=Ne;je--&&Ye.glyphAt(je).glyphObj.isWhitespace;)Pe++;let Qe=0,$e=0;if(P==="center")Qe=(le-ie)/2;else if(P==="right")Qe=le-ie;else if(P==="justify"&&Ye.isSoftWrapped){let je=0;for(let Je=Ne-Pe;Je--;)Ye.glyphAt(Je).glyphObj.isWhitespace&&je++;$e=(le-ie)/je}if($e||Qe){let je=0;for(let Je=0;Je<Ne;Je++){let Le=Ye.glyphAt(Je);const Ze=Le.glyphObj;Le.x+=Qe+je,$e!==0&&Ze.isWhitespace&&Je<Ne-Pe&&(je+=$e,Le.width+=$e)}}const Ee=e.getReorderSegments(g,Re,Ye.glyphAt(0).charIndex,Ye.glyphAt(Ye.count-1).charIndex);for(let je=0;je<Ee.length;je++){const[Je,Le]=Ee[je];let Ze=1/0,We=-1/0;for(let ht=0;ht<Ne;ht++)if(Ye.glyphAt(ht).charIndex>=Je){let bt=ht,gt=ht;for(;gt<Ne;gt++){let Ot=Ye.glyphAt(gt);if(Ot.charIndex>Le)break;gt<Ne-Pe&&(Ze=Math.min(Ze,Ot.x),We=Math.max(We,Ot.x+Ot.width))}for(let Ot=bt;Ot<gt;Ot++){const Xt=Ye.glyphAt(Ot);Xt.x=We-(Xt.x+Xt.width-Ze)}break}}let oe;const Xe=je=>oe=je;for(let je=0;je<Ne;je++){const Je=Ye.glyphAt(je);oe=Je.glyphObj;const Le=oe.index,Ze=Re.levels[Je.charIndex]&1;if(Ze){const We=e.getMirroredCharacter(g[Je.charIndex]);We&&Je.fontData.fontObj.forEachGlyph(We,0,0,Xe)}if(U){const{charIndex:We,fontData:ht}=Je,bt=Je.x+me,gt=Je.x+Je.width+me;he[We*4]=Ze?gt:bt,he[We*4+1]=Ze?bt:gt,he[We*4+2]=Ye.baseline+ht.caretBottom+Ie,he[We*4+3]=Ye.baseline+ht.caretTop+Ie;const Ot=We-qe;Ot>1&&u(he,qe,Ot),qe=We}if(j){const{charIndex:We}=Je;for(;We>Ae;)Ae++,j.hasOwnProperty(Ae)&&(rt=j[Ae])}if(!oe.isWhitespace&&!oe.isEmpty){const We=Ve++,{fontSizeMult:ht,src:bt,index:gt}=Je.fontData,Ot=ce[bt]||(ce[bt]={});Ot[Le]||(Ot[Le]={path:oe.path,pathBounds:[oe.xMin,oe.yMin,oe.xMax,oe.yMax]});const Xt=Je.x+me,Fn=Je.y+Ye.baseline+Ie;ge[We*2]=Xt,ge[We*2+1]=Fn;const xi=Xt+oe.xMin*ht,_i=Fn+oe.yMin*ht,Jr=Xt+oe.xMax*ht,Qr=Fn+oe.yMax*ht;xi<V[0]&&(V[0]=xi),_i<V[1]&&(V[1]=_i),Jr>V[2]&&(V[2]=Jr),Qr>V[3]&&(V[3]=Qr),We%F===0&&(lt={start:We,end:We,rect:[1/0,1/0,-1/0,-1/0]},ye.push(lt)),lt.end++;const fr=lt.rect;if(xi<fr[0]&&(fr[0]=xi),_i<fr[1]&&(fr[1]=_i),Jr>fr[2]&&(fr[2]=Jr),Qr>fr[3]&&(fr[3]=Qr),se[We]=Le,ae[We]=gt,j){const Io=We*3;ve[Io]=rt>>16&255,ve[Io+1]=rt>>8&255,ve[Io+2]=rt&255}}}}}),he){const Ye=g.length-qe;Ye>1&&u(he,qe,Ye)}}const Be=[];Fe.forEach(({index:Re,src:Ve,unitsPerEm:qe,ascender:Ae,descender:lt,lineHeight:rt,capHeight:Ye,xHeight:He})=>{Be[Re]={src:Ve,unitsPerEm:qe,ascender:Ae,descender:lt,lineHeight:rt,capHeight:Ye,xHeight:He}}),q.typesetting=f()-xe,z({glyphIds:se,glyphFontIndices:ae,glyphPositions:ge,glyphData:ce,fontData:Be,caretPositions:he,glyphColors:ve,chunkedBounds:ye,fontSize:_,topBaseline:Ie+be[0].baseline,blockBounds:[me,Ie-fe,me+le,Ie],visibleBounds:V,timings:q})})}function l(g,x){s({...g,metricsOnly:!0},v=>{const[y,_,b,w]=v.blockBounds;x({width:b-y,height:w-_})})}function c(g){let x=g.match(/^([\d.]+)%$/),v=x?parseFloat(x[1]):NaN;return isNaN(v)?0:v/100}function u(g,x,v){const y=g[x*4],_=g[x*4+1],b=g[x*4+2],w=g[x*4+3],E=(_-y)/v;for(let M=0;M<v;M++){const T=(x+M)*4;g[T]=y+E*M,g[T+1]=y+E*(M+1),g[T+2]=b,g[T+3]=w}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(g){let x=d.flyweight;return x.data=this.data,x.index=g,x},splitAt(g){let x=new d;return x.data=this.data.splice(g*h.length),x}},d.flyweight=h.reduce((g,x,v,y)=>(Object.defineProperty(g,x,{get(){return this.data[this.index*h.length+v]},set(_){this.data[this.index*h.length+v]=_}}),g),{data:null,index:0}),{typeset:s,measure:l}}const sf=()=>(self.performance||Date).now(),Lw=JG();let nU;function hde(t,e,n,r,i,o,a,s,l,c,u=!0){return u?mde(t,e,n,r,i,o,a,s,l,c).then(null,f=>(nU||(console.warn("WebGL SDF generation failed, falling back to JS",f),nU=!0),iU(t,e,n,r,i,o,a,s,l,c))):iU(t,e,n,r,i,o,a,s,l,c)}const O1=[],pde=5;let U2=0;function e$(){const t=sf();for(;O1.length&&sf()-t<pde;)O1.shift()();U2=O1.length?setTimeout(e$,0):0}const mde=(...t)=>new Promise((e,n)=>{O1.push(()=>{const r=sf();try{Lw.webgl.generateIntoCanvas(...t),e({timing:sf()-r})}catch(i){n(i)}}),U2||(U2=setTimeout(e$,0))}),gde=4,vde=2e3,rU={};let yde=0;function iU(t,e,n,r,i,o,a,s,l,c){const u="TroikaTextSDFGenerator_JS_"+yde++%gde;let f=rU[u];return f||(f=rU[u]={workerModule:wp({name:u,workerId:u,dependencies:[JG,sf],init(d,h){const g=d().javascript.generate;return function(...x){const v=h();return{textureData:g(...x),timing:h()-v}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,o).then(({textureData:d,timing:h})=>{const g=sf(),x=new Uint8Array(d.length*4);for(let v=0;v<d.length;v++)x[v*4+c]=d[v];return Lw.webglUtils.renderImageData(a,x,s,l,t,e,1<<3-c),h+=sf()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Yfe(u)},vde)),{timing:h}})}function xde(t){t._warm||(Lw.webgl.isSupported(t),t._warm=!0)}const _de=Lw.webglUtils.resizeWebGLCanvasWithoutClearing,Od={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},bde=new st;function Ed(){return(self.performance||Date).now()}const oU=Object.create(null);function t$(t,e){t=Ede({},t);const n=Ed(),{defaultFontURL:r}=Od,i=[];if(r&&i.push({label:"default",src:aU(r)}),t.font&&i.push({label:"user",src:aU(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Od.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Od.unicodeFontsURL,t.colorRanges!=null){let h={};for(let g in t.colorRanges)if(t.colorRanges.hasOwnProperty(g)){let x=t.colorRanges[g];typeof x!="number"&&(x=bde.set(x).getHex()),h[g]=x}t.colorRanges=h}Object.freeze(t);const{textureWidth:o,sdfExponent:a}=Od,{sdfGlyphSize:s}=t,l=o/s*4;let c=oU[s];if(!c){const h=document.createElement("canvas");h.width=o,h.height=s*256/l,c=oU[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new tr(h,void 0,void 0,void 0,Vn,Vn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,wde(c)}const{sdfTexture:u,sdfCanvas:f}=c;i$(t).then(h=>{const{glyphIds:g,glyphFontIndices:x,fontData:v,glyphPositions:y,fontSize:_,timings:b}=h,w=[],E=new Float32Array(g.length*4);let M=0,T=0;const O=Ed(),P=v.map(N=>{let $=c.glyphsByFont.get(N.src);return $||c.glyphsByFont.set(N.src,$=new Map),$});g.forEach((N,$)=>{const H=x[$],{src:K,unitsPerEm:U}=v[H];let F=P[H].get(N);if(!F){const{path:Z,pathBounds:ne}=h.glyphData[K][N],se=Math.max(ne[2]-ne[0],ne[3]-ne[1])/s*(Od.sdfMargin*s+.5),ae=c.glyphCount++,ge=[ne[0]-se,ne[1]-se,ne[2]+se,ne[3]+se];P[H].set(N,F={path:Z,atlasIndex:ae,sdfViewBox:ge}),w.push(F)}const{sdfViewBox:j}=F,z=y[T++],X=y[T++],q=_/U;E[M++]=z+j[0]*q,E[M++]=X+j[1]*q,E[M++]=z+j[2]*q,E[M++]=X+j[3]*q,g[$]=F.atlasIndex}),b.quads=(b.quads||0)+(Ed()-O);const R=Ed();b.sdf={};const k=f.height,D=Math.ceil(c.glyphCount/l),G=Math.pow(2,Math.ceil(Math.log2(D*s)));G>k&&(console.info(`Increasing SDF texture size ${k}->${G}`),_de(f,o,G),u.dispose()),Promise.all(w.map(N=>n$(N,c,t.gpuAccelerateSDF).then(({timing:$})=>{b.sdf[N.atlasIndex]=$}))).then(()=>{w.length&&!c.contextLost&&(r$(c),u.needsUpdate=!0),b.sdfTotal=Ed()-R,b.total=Ed()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:s,sdfExponent:a,glyphBounds:E,glyphAtlasIndices:g,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{c.contextLost||xde(f)})}function n$({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},a){if(o)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=Od,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(s/r)*r,d=Math.floor(u/(s/r))*r,h=e%4;return hde(r,r,t,n,c,l,i,f,d,h,a)}function wde(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(n$(o,t,!0))})}),Promise.all(r).then(()=>{r$(t),t.sdfTexture.needsUpdate=!0})})}function Sde({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;t$({font:t,sdfGlyphSize:n,text:i},r)}function Ede(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let zx;function aU(t){return zx||(zx=typeof document>"u"?{}:document.createElement("a")),zx.href=t,zx.href}function r$(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,a)}}const Mde=wp({name:"Typesetter",dependencies:[dde,fde,Zfe],init(t,e,n){return t(e,n())}}),i$=wp({name:"Typesetter",dependencies:[Mde],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});i$.onMainThread;const sU={};function Tde(t){let e=sU[t];return e||(e=sU[t]=new Fc(1,1,t,t).translate(.5,.5,0)),e}const Ade="aTroikaGlyphBounds",lU="aTroikaGlyphIndex",Pde="aTroikaGlyphColor";class Cde extends gO{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Kr,this.boundingBox=new Yr}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Tde(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){this.updateAttributeData(Ade,e,4),this.updateAttributeData(lU,n,1),this.updateAttributeData(Pde,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:a,max:s,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),h=e[0]/d,g=e[2]/d,x=o((h+u)/f)!==o((g+u)/f)?-d:a(l(h)*d,l(g)*d),v=o((h-u)/f)!==o((g-u)/f)?d:s(l(h)*d,l(g)*d),y=o((h+i)/f)!==o((g+i)/f)?d*2:s(d-c(h)*d,d-c(g)*d);r.min.set(x,e[1],n<0?-y:0),r.max.set(v,e[3],n<0?0:y)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(lU).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new yf(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Rde=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Ode=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Ide=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Nde=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Dde(t){const e=k2(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Ue},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new nn(0,0,0,0)},uTroikaClipRect:{value:new nn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Ue},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new st},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Ft},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Rde,vertexTransform:Ode,fragmentDefs:Ide,fragmentColorTransform:Nde,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(QG,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const EO=new _l({color:16777215,side:wa,transparent:!0}),cU=8421504,uU=new Ct,jx=new te,JM=new te,Cm=[],Lde=new te,QM="+x+y";function fU(t){return Array.isArray(t)?t[0]:t}let o$=()=>{const t=new er(new Fc(1,1),EO);return o$=()=>t,t},a$=()=>{const t=new er(new Fc(1,1,32,1),EO);return a$=()=>t,t};const kde={type:"syncstart"},Ude={type:"synccomplete"},s$=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Fde=s$.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let l$=class extends er{constructor(){const e=new Cde;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=cU,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=QM,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(kde),t$({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Ude),e&&e()})))}onBeforeRender(e,n,r,i,o,a){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Dde(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=EO.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return fU(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return fU(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,h,g,x=0,v=0;if(n){let{outlineWidth:_,outlineOffsetX:b,outlineOffsetY:w,outlineBlur:E,outlineOpacity:M}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(E)||0),d=M,x=this._parsePercent(b)||0,v=this._parsePercent(w)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??cU),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(x,v),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let y=this.clipRect;if(y&&Array.isArray(y)&&y.length===4)r.uTroikaClipRect.value.fromArray(y);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new st;(o!==s._input||typeof o=="object")&&s.set(s._input=o)}let a=this.orientation||QM;if(a!==e._orientation){let s=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==QM&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;jx.set(0,0,0)[u]=c==="-"?1:-1,JM.set(0,0,0)[d]=f==="-"?-1:1,uU.lookAt(Lde,jx.cross(JM),JM),s.setFromMatrix4(uU)}else s.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Ue){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Ue){return jx.copy(e),this.localPositionToTextCoords(this.worldToLocal(jx),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,a=i?a$():o$(),s=a.geometry,{position:l,uv:c}=s.attributes;for(let u=0;u<c.count;u++){let f=o[0]+c.getX(u)*(o[2]-o[0]);const d=o[1]+c.getY(u)*(o[3]-o[1]);let h=0;i&&(h=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,h)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,Cm.length=0,a.raycast(e,Cm);for(let u=0;u<Cm.length;u++)Cm[u].object=this,n.push(Cm[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,Fde.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};s$.forEach(t=>{const e="_private_"+t;Object.defineProperty(l$.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Yr;new st;const Bde=L.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:a,onSync:s,...l},c)=>{const u=Us(({invalidate:g})=>g),[f]=L.useState(()=>new l$),[d,h]=L.useMemo(()=>{const g=[];let x="";return L.Children.forEach(o,v=>{typeof v=="string"||typeof v=="number"?x+=v:g.push(v)}),[g,x]},[o]);return que(()=>new Promise(g=>Sde({font:r,characters:a},g)),["troika-text",r,a]),L.useLayoutEffect(()=>void f.sync(()=>{u(),s&&s(f)})),L.useEffect(()=>()=>f.dispose(),[f]),L.createElement("primitive",x_({object:f,ref:c,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)}),zde=L.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...c},u)=>{const f=Us(M=>M.invalidate),d=Us(M=>M.camera),h=Us(M=>M.gl),g=Us(M=>M.events),x=Us(M=>M.setEvents),v=Us(M=>M.set),y=Us(M=>M.get),_=Us(M=>M.performance),b=e||d,w=r||g.connected||h.domElement,E=L.useMemo(()=>new Gfe(b),[b]);return Dw(()=>{E.enabled&&E.update()},-1),L.useEffect(()=>(o&&E.connect(o===!0?w:o),E.connect(w),()=>void E.dispose()),[o,w,n,E,f]),L.useEffect(()=>{const M=P=>{f(),n&&_.regress(),a&&a(P)},T=P=>{s&&s(P)},O=P=>{l&&l(P)};return E.addEventListener("change",M),E.addEventListener("start",T),E.addEventListener("end",O),()=>{E.removeEventListener("start",T),E.removeEventListener("end",O),E.removeEventListener("change",M)}},[a,s,l,E,f,x]),L.useEffect(()=>{if(t){const M=y().controls;return v({controls:E}),()=>v({controls:M})}},[t,E]),L.createElement("primitive",x_({ref:u,object:E,enableDamping:i},c))});var c$={exports:{}},jde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Hde=jde,Vde=Hde;function u$(){}function f$(){}f$.resetWarningCache=u$;var Gde=function(){function t(r,i,o,a,s,l){if(l!==Vde){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:f$,resetWarningCache:u$};return n.PropTypes=n,n};c$.exports=Gde();var $de=c$.exports;const an=rn($de);function Hx({position:t,intensity:e,color:n}){const r=L.useRef(null),o=.15+e*.2;return Dw(a=>{r.current&&r.current.scale.setScalar(o+Math.sin(a.clock.elapsedTime*2)*.02*e)}),C.jsxs("mesh",{ref:r,position:t,children:[C.jsx("sphereGeometry",{args:[1,16,16]}),C.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5+e*.5,transparent:!0,opacity:.8})]})}function dU({position:t,bankGroups:e=8,banks:n=16,color:r="#3b82f6"}){const i=L.useRef(null);Dw(l=>{i.current&&(i.current.rotation.y=Math.sin(l.clock.elapsedTime*.3)*.02)});const o=Math.ceil(n/e),a=Math.ceil(e/4),s=Math.min(e,4);return C.jsxs("group",{ref:i,position:t,children:[C.jsxs("mesh",{position:[0,0,0],children:[C.jsx("boxGeometry",{args:[2.5,.15,1.8]}),C.jsx("meshStandardMaterial",{color:"#1a1a2e",metalness:.7,roughness:.3})]}),Array.from({length:e}).map((l,c)=>{const u=Math.floor(c/s),d=(c%s-(s-1)/2)*.55,h=(u-(a-1)/2)*.7,g=c<e-1?o:n-(e-1)*o,x=Math.ceil(Math.sqrt(g)),v=Math.ceil(g/x);return C.jsxs("group",{position:[d,.1,h],children:[C.jsxs("mesh",{position:[0,-.02,0],children:[C.jsx("boxGeometry",{args:[.45,.06,.55]}),C.jsx("meshStandardMaterial",{color:r,emissive:r,emissiveIntensity:.1,metalness:.3,roughness:.5,transparent:!0,opacity:.3})]}),Array.from({length:g}).map((y,_)=>{const b=Math.floor(_/v),E=(_%v-(v-1)/2)*.12,M=(b-(x-1)/2)*.12;return C.jsxs("mesh",{position:[E,.04,M],children:[C.jsx("boxGeometry",{args:[.1,.06,.1]}),C.jsx("meshStandardMaterial",{color:r,emissive:r,emissiveIntensity:.3,metalness:.6,roughness:.3})]},`bank-${_}`)})]},`group-${c}`)}),[-1.1,1.1].map((l,c)=>C.jsxs("mesh",{position:[l,.08,0],children:[C.jsx("boxGeometry",{args:[.2,.04,1.5]}),C.jsx("meshStandardMaterial",{color:"#fbbf24",metalness:.8,roughness:.2})]},`io-${c}`))]})}function Wde({powerResult:t,memspec:e}){const n=L.useRef(null);Dw(a=>{n.current&&(n.current.rotation.y=a.clock.elapsedTime*.1)});const r=L.useMemo(()=>{if(!t)return{vdd:0,vpp:0,read:0,write:0};const a=t.P_total_core||1;return{vdd:Math.min(t.P_VDD_core/a,1),vpp:Math.min(t.P_VPP_core/a,1),read:Math.min(t.P_RD_core/(a*.3),1),write:Math.min(t.P_WR_core/(a*.3),1)}},[t]),i=(e==null?void 0:e.memarchitecturespec.nbrOfBankGroups)||8,o=(e==null?void 0:e.memarchitecturespec.nbrOfBanks)||16;return C.jsxs("group",{ref:n,children:[C.jsxs("mesh",{position:[0,-.5,0],children:[C.jsx("boxGeometry",{args:[6,.12,2.5]}),C.jsx("meshStandardMaterial",{color:"#0d5c2e",metalness:.3,roughness:.7})]}),C.jsxs("mesh",{position:[0,-.6,0],children:[C.jsx("boxGeometry",{args:[5,.06,.4]}),C.jsx("meshStandardMaterial",{color:"#d4af37",metalness:.9,roughness:.1})]}),C.jsx(dU,{position:[-1.4,0,0],bankGroups:i,banks:o,color:"#3b82f6"}),C.jsx(dU,{position:[1.4,0,0],bankGroups:i,banks:o,color:"#3b82f6"}),C.jsxs("mesh",{position:[0,0,.8],children:[C.jsx("boxGeometry",{args:[.6,.2,.4]}),C.jsx("meshStandardMaterial",{color:"#1f2937",metalness:.6,roughness:.4})]}),C.jsx(Hx,{position:[-1.4,.6,0],intensity:r.vdd,color:"#3b82f6"}),C.jsx(Hx,{position:[1.4,.6,0],intensity:r.vpp,color:"#f97316"}),t&&C.jsxs(C.Fragment,{children:[C.jsx(Hx,{position:[-.7,.5,0],intensity:r.read,color:"#22c55e"}),C.jsx(Hx,{position:[.7,.5,0],intensity:r.write,color:"#a855f7"})]}),C.jsx(Bde,{position:[0,1.2,0],fontSize:.2,color:"#94a3b8",anchorX:"center",anchorY:"middle",children:(e==null?void 0:e.memoryId)||"DDR5 Module"})]})}function Xde({powerResult:t,memspec:e}){return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[C.jsx(QK,{className:"w-4 h-4 text-primary"}),"3D Visualization"]})}),C.jsxs(un,{className:"!p-0",children:[C.jsx("div",{className:"h-[300px] w-full",children:C.jsxs(kfe,{camera:{position:[4,3,4],fov:45},gl:{antialias:!0},children:[C.jsx("color",{attach:"background",args:["#111827"]}),C.jsx("ambientLight",{intensity:.4}),C.jsx("directionalLight",{position:[5,5,5],intensity:.8}),C.jsx("directionalLight",{position:[-5,3,-5],intensity:.4,color:"#3b82f6"}),C.jsx("pointLight",{position:[0,3,0],intensity:.5,color:"#10b981"}),C.jsx(Wde,{powerResult:t,memspec:e}),C.jsx(zde,{enablePan:!1,enableZoom:!0,minDistance:4,maxDistance:12,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2.2}),C.jsx("gridHelper",{args:[10,20,"#1e3a5f","#0f172a"],position:[0,-1,0]})]})}),C.jsxs("div",{className:"px-4 py-2 border-t border-border flex flex-wrap gap-3 justify-center text-xs",children:[C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-power-vdd"}),"VDD"]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-power-vpp"}),"VPP"]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-power-read"}),"Read"]}),C.jsxs("span",{className:"flex items-center gap-1",children:[C.jsx("span",{className:"w-2 h-2 rounded-full bg-power-write"}),"Write"]})]})]})]})}var qde=Array.isArray,oo=qde,Yde=typeof x0=="object"&&x0&&x0.Object===Object&&x0,d$=Yde,Kde=d$,Zde=typeof self=="object"&&self&&self.Object===Object&&self,Jde=Kde||Zde||Function("return this")(),hs=Jde,Qde=hs,ehe=Qde.Symbol,yy=ehe,hU=yy,h$=Object.prototype,the=h$.hasOwnProperty,nhe=h$.toString,Rm=hU?hU.toStringTag:void 0;function rhe(t){var e=the.call(t,Rm),n=t[Rm];try{t[Rm]=void 0;var r=!0}catch{}var i=nhe.call(t);return r&&(e?t[Rm]=n:delete t[Rm]),i}var ihe=rhe,ohe=Object.prototype,ahe=ohe.toString;function she(t){return ahe.call(t)}var lhe=she,pU=yy,che=ihe,uhe=lhe,fhe="[object Null]",dhe="[object Undefined]",mU=pU?pU.toStringTag:void 0;function hhe(t){return t==null?t===void 0?dhe:fhe:mU&&mU in Object(t)?che(t):uhe(t)}var bl=hhe;function phe(t){return t!=null&&typeof t=="object"}var wl=phe,mhe=bl,ghe=wl,vhe="[object Symbol]";function yhe(t){return typeof t=="symbol"||ghe(t)&&mhe(t)==vhe}var Sp=yhe,xhe=oo,_he=Sp,bhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,whe=/^\w*$/;function She(t,e){if(xhe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_he(t)?!0:whe.test(t)||!bhe.test(t)||e!=null&&t in Object(e)}var MO=She;function Ehe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var jc=Ehe;const Ep=rn(jc);var Mhe=bl,The=jc,Ahe="[object AsyncFunction]",Phe="[object Function]",Che="[object GeneratorFunction]",Rhe="[object Proxy]";function Ohe(t){if(!The(t))return!1;var e=Mhe(t);return e==Phe||e==Che||e==Ahe||e==Rhe}var TO=Ohe;const Rt=rn(TO);var Ihe=hs,Nhe=Ihe["__core-js_shared__"],Dhe=Nhe,eT=Dhe,gU=function(){var t=/[^.]+$/.exec(eT&&eT.keys&&eT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Lhe(t){return!!gU&&gU in t}var khe=Lhe,Uhe=Function.prototype,Fhe=Uhe.toString;function Bhe(t){if(t!=null){try{return Fhe.call(t)}catch{}try{return t+""}catch{}}return""}var p$=Bhe,zhe=TO,jhe=khe,Hhe=jc,Vhe=p$,Ghe=/[\\^$.*+?()[\]{}|]/g,$he=/^\[object .+?Constructor\]$/,Whe=Function.prototype,Xhe=Object.prototype,qhe=Whe.toString,Yhe=Xhe.hasOwnProperty,Khe=RegExp("^"+qhe.call(Yhe).replace(Ghe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zhe(t){if(!Hhe(t)||jhe(t))return!1;var e=zhe(t)?Khe:$he;return e.test(Vhe(t))}var Jhe=Zhe;function Qhe(t,e){return t==null?void 0:t[e]}var epe=Qhe,tpe=Jhe,npe=epe;function rpe(t,e){var n=npe(t,e);return tpe(n)?n:void 0}var Df=rpe,ipe=Df,ope=ipe(Object,"create"),kw=ope,vU=kw;function ape(){this.__data__=vU?vU(null):{},this.size=0}var spe=ape;function lpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var cpe=lpe,upe=kw,fpe="__lodash_hash_undefined__",dpe=Object.prototype,hpe=dpe.hasOwnProperty;function ppe(t){var e=this.__data__;if(upe){var n=e[t];return n===fpe?void 0:n}return hpe.call(e,t)?e[t]:void 0}var mpe=ppe,gpe=kw,vpe=Object.prototype,ype=vpe.hasOwnProperty;function xpe(t){var e=this.__data__;return gpe?e[t]!==void 0:ype.call(e,t)}var _pe=xpe,bpe=kw,wpe="__lodash_hash_undefined__";function Spe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bpe&&e===void 0?wpe:e,this}var Epe=Spe,Mpe=spe,Tpe=cpe,Ape=mpe,Ppe=_pe,Cpe=Epe;function Mp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mp.prototype.clear=Mpe;Mp.prototype.delete=Tpe;Mp.prototype.get=Ape;Mp.prototype.has=Ppe;Mp.prototype.set=Cpe;var Rpe=Mp;function Ope(){this.__data__=[],this.size=0}var Ipe=Ope;function Npe(t,e){return t===e||t!==t&&e!==e}var AO=Npe,Dpe=AO;function Lpe(t,e){for(var n=t.length;n--;)if(Dpe(t[n][0],e))return n;return-1}var Uw=Lpe,kpe=Uw,Upe=Array.prototype,Fpe=Upe.splice;function Bpe(t){var e=this.__data__,n=kpe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Fpe.call(e,n,1),--this.size,!0}var zpe=Bpe,jpe=Uw;function Hpe(t){var e=this.__data__,n=jpe(e,t);return n<0?void 0:e[n][1]}var Vpe=Hpe,Gpe=Uw;function $pe(t){return Gpe(this.__data__,t)>-1}var Wpe=$pe,Xpe=Uw;function qpe(t,e){var n=this.__data__,r=Xpe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Ype=qpe,Kpe=Ipe,Zpe=zpe,Jpe=Vpe,Qpe=Wpe,eme=Ype;function Tp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tp.prototype.clear=Kpe;Tp.prototype.delete=Zpe;Tp.prototype.get=Jpe;Tp.prototype.has=Qpe;Tp.prototype.set=eme;var Fw=Tp,tme=Df,nme=hs,rme=tme(nme,"Map"),PO=rme,yU=Rpe,ime=Fw,ome=PO;function ame(){this.size=0,this.__data__={hash:new yU,map:new(ome||ime),string:new yU}}var sme=ame;function lme(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var cme=lme,ume=cme;function fme(t,e){var n=t.__data__;return ume(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bw=fme,dme=Bw;function hme(t){var e=dme(this,t).delete(t);return this.size-=e?1:0,e}var pme=hme,mme=Bw;function gme(t){return mme(this,t).get(t)}var vme=gme,yme=Bw;function xme(t){return yme(this,t).has(t)}var _me=xme,bme=Bw;function wme(t,e){var n=bme(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Sme=wme,Eme=sme,Mme=pme,Tme=vme,Ame=_me,Pme=Sme;function Ap(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ap.prototype.clear=Eme;Ap.prototype.delete=Mme;Ap.prototype.get=Tme;Ap.prototype.has=Ame;Ap.prototype.set=Pme;var CO=Ap,m$=CO,Cme="Expected a function";function RO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cme);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(RO.Cache||m$),n}RO.Cache=m$;var g$=RO;const Rme=rn(g$);var Ome=g$,Ime=500;function Nme(t){var e=Ome(t,function(r){return n.size===Ime&&n.clear(),r}),n=e.cache;return e}var Dme=Nme,Lme=Dme,kme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ume=/\\(\\)?/g,Fme=Lme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kme,function(n,r,i,o){e.push(i?o.replace(Ume,"$1"):r||n)}),e}),Bme=Fme;function zme(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var OO=zme,xU=yy,jme=OO,Hme=oo,Vme=Sp,Gme=1/0,_U=xU?xU.prototype:void 0,bU=_U?_U.toString:void 0;function v$(t){if(typeof t=="string")return t;if(Hme(t))return jme(t,v$)+"";if(Vme(t))return bU?bU.call(t):"";var e=t+"";return e=="0"&&1/t==-Gme?"-0":e}var $me=v$,Wme=$me;function Xme(t){return t==null?"":Wme(t)}var y$=Xme,qme=oo,Yme=MO,Kme=Bme,Zme=y$;function Jme(t,e){return qme(t)?t:Yme(t,e)?[t]:Kme(Zme(t))}var x$=Jme,Qme=Sp,ege=1/0;function tge(t){if(typeof t=="string"||Qme(t))return t;var e=t+"";return e=="0"&&1/t==-ege?"-0":e}var zw=tge,nge=x$,rge=zw;function ige(t,e){e=nge(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[rge(e[n++])];return n&&n==r?t:void 0}var IO=ige,oge=IO;function age(t,e,n){var r=t==null?void 0:oge(t,e);return r===void 0?n:r}var _$=age;const Po=rn(_$);function sge(t){return t==null}var lge=sge;const $t=rn(lge);var cge=bl,uge=oo,fge=wl,dge="[object String]";function hge(t){return typeof t=="string"||!uge(t)&&fge(t)&&cge(t)==dge}var pge=hge;const _f=rn(pge);var b$={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO=Symbol.for("react.element"),DO=Symbol.for("react.portal"),jw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),$w=Symbol.for("react.context"),mge=Symbol.for("react.server_context"),Ww=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),qw=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),Kw=Symbol.for("react.lazy"),gge=Symbol.for("react.offscreen"),w$;w$=Symbol.for("react.module.reference");function ra(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NO:switch(t=t.type,t){case jw:case Vw:case Hw:case Xw:case qw:return t;default:switch(t=t&&t.$$typeof,t){case mge:case $w:case Ww:case Kw:case Yw:case Gw:return t;default:return e}}case DO:return e}}}pn.ContextConsumer=$w;pn.ContextProvider=Gw;pn.Element=NO;pn.ForwardRef=Ww;pn.Fragment=jw;pn.Lazy=Kw;pn.Memo=Yw;pn.Portal=DO;pn.Profiler=Vw;pn.StrictMode=Hw;pn.Suspense=Xw;pn.SuspenseList=qw;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(t){return ra(t)===$w};pn.isContextProvider=function(t){return ra(t)===Gw};pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NO};pn.isForwardRef=function(t){return ra(t)===Ww};pn.isFragment=function(t){return ra(t)===jw};pn.isLazy=function(t){return ra(t)===Kw};pn.isMemo=function(t){return ra(t)===Yw};pn.isPortal=function(t){return ra(t)===DO};pn.isProfiler=function(t){return ra(t)===Vw};pn.isStrictMode=function(t){return ra(t)===Hw};pn.isSuspense=function(t){return ra(t)===Xw};pn.isSuspenseList=function(t){return ra(t)===qw};pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jw||t===Vw||t===Hw||t===Xw||t===qw||t===gge||typeof t=="object"&&t!==null&&(t.$$typeof===Kw||t.$$typeof===Yw||t.$$typeof===Gw||t.$$typeof===$w||t.$$typeof===Ww||t.$$typeof===w$||t.getModuleId!==void 0)};pn.typeOf=ra;b$.exports=pn;var vge=b$.exports,yge=bl,xge=wl,_ge="[object Number]";function bge(t){return typeof t=="number"||xge(t)&&yge(t)==_ge}var S$=bge;const wge=rn(S$);var Sge=S$;function Ege(t){return Sge(t)&&t!=+t}var Mge=Ege;const xy=rn(Mge);var Di=function(e){return e===0?0:e>0?1:-1},Hu=function(e){return _f(e)&&e.indexOf("%")===e.length-1},tt=function(e){return wge(e)&&!xy(e)},Tge=function(e){return $t(e)},Tr=function(e){return tt(e)||_f(e)},Age=0,_y=function(e){var n=++Age;return"".concat(e||"").concat(n)},Li=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&!_f(e))return r;var o;if(Hu(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return xy(o)&&(o=r),i&&o>n&&(o=n),o},ec=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Pge=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ql=function(e,n){return tt(e)&&tt(n)?function(r){return e+r*(n-e)}:function(){return n}};function F2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Po(r,e))===n})}var Cge=function(e,n){return tt(e)&&tt(n)?e-n:_f(e)&&_f(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function hh(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function B2(t){"@babel/helpers - typeof";return B2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B2(t)}var Rge=["viewBox","children"],Oge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wU=["points","pathLength"],tT={svg:Rge,polygon:wU,polyline:wU},LO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],__=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),!Ep(r))return null;var i={};return Object.keys(r).forEach(function(o){LO.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Ige=function(e,n,r){return function(i){return e(n,r,i),null}},bf=function(e,n,r){if(!Ep(e)||B2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];LO.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Ige(a,n,r))}),i},Nge=["children"],Dge=["children"];function SU(t,e){if(t==null)return{};var n=Lge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EU={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},el=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MU=null,nT=null,kO=function t(e){if(e===MU&&Array.isArray(nT))return nT;var n=[];return L.Children.forEach(e,function(r){$t(r)||(vge.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),nT=n,MU=e,n};function Qo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return el(i)}):r=[el(e)],kO(t).forEach(function(i){var o=Po(i,"type.displayName")||Po(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function xo(t,e){var n=Qo(t,e);return n&&n[0]}var TU=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!tt(r)||r<=0||!tt(i)||i<=0)},kge=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uge=function(e){return e&&e.type&&_f(e.type)&&kge.indexOf(e.type)>=0},Fge=function(e,n,r,i){var o,a=(o=tT==null?void 0:tT[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Rt(e)&&(i&&a.includes(n)||Oge.includes(n))||r&&LO.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(L.isValidElement(e)&&(i=e.props),!Ep(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Fge((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},z2=function t(e,n){if(e===n)return!0;var r=L.Children.count(e);if(r!==L.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AU(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!AU(o,a))return!1}return!0},AU=function(e,n){if($t(e)&&$t(n))return!0;if(!$t(e)&&!$t(n)){var r=e.props||{},i=r.children,o=SU(r,Nge),a=n.props||{},s=a.children,l=SU(a,Dge);return i&&s?hh(o,l)&&z2(i,s):!i&&!s?hh(o,l):!1}return!1},PU=function(e,n){var r=[],i={};return kO(e).forEach(function(o,a){if(Uge(o))r.push(o);else if(o){var s=el(o.type),l=n[s]||{},c=l.handler,u=l.once;if(c&&(!u||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},Bge=function(e){var n=e&&e.type;return n&&EU[n]?EU[n]:null},zge=function(e,n){return kO(n).indexOf(e)},jge=["children","width","height","viewBox","className","style","title","desc"];function j2(){return j2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j2.apply(this,arguments)}function Hge(t,e){if(t==null)return{};var n=Vge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H2(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=Hge(t,jge),u=i||{width:n,height:r,x:0,y:0},f=zt("recharts-surface",o);return J.createElement("svg",j2({},Pt(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),J.createElement("title",null,s),J.createElement("desc",null,l),e)}var Gge=["children","className"];function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(this,arguments)}function $ge(t,e){if(t==null)return{};var n=Wge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fn=J.forwardRef(function(t,e){var n=t.children,r=t.className,i=$ge(t,Gge),o=zt("recharts-layer",r);return J.createElement("g",V2({className:o},Pt(i,!0),{ref:e}),n)}),Pa=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Xge(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var qge=Xge,Yge=qge;function Kge(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Yge(t,e,n)}var Zge=Kge,Jge="\\ud800-\\udfff",Qge="\\u0300-\\u036f",eve="\\ufe20-\\ufe2f",tve="\\u20d0-\\u20ff",nve=Qge+eve+tve,rve="\\ufe0e\\ufe0f",ive="\\u200d",ove=RegExp("["+ive+Jge+nve+rve+"]");function ave(t){return ove.test(t)}var E$=ave;function sve(t){return t.split("")}var lve=sve,M$="\\ud800-\\udfff",cve="\\u0300-\\u036f",uve="\\ufe20-\\ufe2f",fve="\\u20d0-\\u20ff",dve=cve+uve+fve,hve="\\ufe0e\\ufe0f",pve="["+M$+"]",G2="["+dve+"]",$2="\\ud83c[\\udffb-\\udfff]",mve="(?:"+G2+"|"+$2+")",T$="[^"+M$+"]",A$="(?:\\ud83c[\\udde6-\\uddff]){2}",P$="[\\ud800-\\udbff][\\udc00-\\udfff]",gve="\\u200d",C$=mve+"?",R$="["+hve+"]?",vve="(?:"+gve+"(?:"+[T$,A$,P$].join("|")+")"+R$+C$+")*",yve=R$+C$+vve,xve="(?:"+[T$+G2+"?",G2,A$,P$,pve].join("|")+")",_ve=RegExp($2+"(?="+$2+")|"+xve+yve,"g");function bve(t){return t.match(_ve)||[]}var wve=bve,Sve=lve,Eve=E$,Mve=wve;function Tve(t){return Eve(t)?Mve(t):Sve(t)}var Ave=Tve,Pve=Zge,Cve=E$,Rve=Ave,Ove=y$;function Ive(t){return function(e){e=Ove(e);var n=Cve(e)?Rve(e):void 0,r=n?n[0]:e.charAt(0),i=n?Pve(n,1).join(""):e.slice(1);return r[t]()+i}}var Nve=Ive,Dve=Nve,Lve=Dve("toUpperCase"),kve=Lve;const Zw=rn(kve);function En(t){return function(){return t}}const O$=Math.cos,b_=Math.sin,ka=Math.sqrt,w_=Math.PI,Jw=2*w_,W2=Math.PI,X2=2*W2,Ru=1e-6,Uve=X2-Ru;function I$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return I$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Bve{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?I$:Fve(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,u=a-e,f=s-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Ru)if(!(Math.abs(f*l-c*u)>Ru)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,g=i-s,x=l*l+c*c,v=h*h+g*g,y=Math.sqrt(x),_=Math.sqrt(d),b=o*Math.tan((W2-Math.acos((x+d-v)/(2*y*_)))/2),w=b/_,E=b/y;Math.abs(w-1)>Ru&&this._append`L${e+w*u},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>u*g)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,u=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Ru||Math.abs(this._y1-u)>Ru)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%X2+X2),d>Uve?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Ru&&this._append`A${r},${r},0,${+(d>=W2)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Bve(e)}function FO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function N$(t){this._context=t}N$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qw(t){return new N$(t)}function D$(t){return t[0]}function L$(t){return t[1]}function k$(t,e){var n=En(!0),r=null,i=Qw,o=null,a=UO(s);t=typeof t=="function"?t:t===void 0?D$:En(t),e=typeof e=="function"?e:e===void 0?L$:En(e);function s(l){var c,u=(l=FO(l)).length,f,d=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,c,l),+e(f,c,l));if(h)return o=null,h+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:En(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:En(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:En(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vx(t,e,n){var r=null,i=En(!0),o=null,a=Qw,s=null,l=UO(c);t=typeof t=="function"?t:t===void 0?D$:En(+t),e=typeof e=="function"?e:En(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?L$:En(+n);function c(f){var d,h,g,x=(f=FO(f)).length,v,y=!1,_,b=new Array(x),w=new Array(x);for(o==null&&(s=a(_=l())),d=0;d<=x;++d){if(!(d<x&&i(v=f[d],d,f))===y)if(y=!y)h=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=d-1;g>=h;--g)s.point(b[g],w[g]);s.lineEnd(),s.areaEnd()}y&&(b[d]=+t(v,d,f),w[d]=+e(v,d,f),s.point(r?+r(v,d,f):b[d],n?+n(v,d,f):w[d]))}if(_)return s=null,_+""||null}function u(){return k$().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:En(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:En(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:En(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:En(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:En(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:En(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class U${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zve(t){return new U$(t,!0)}function jve(t){return new U$(t,!1)}const BO={draw(t,e){const n=ka(e/w_);t.moveTo(n,0),t.arc(0,0,n,0,Jw)}},Hve={draw(t,e){const n=ka(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},F$=ka(1/3),Vve=F$*2,Gve={draw(t,e){const n=ka(e/Vve),r=n*F$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$ve={draw(t,e){const n=ka(e),r=-n/2;t.rect(r,r,n,n)}},Wve=.8908130915292852,B$=b_(w_/10)/b_(7*w_/10),Xve=b_(Jw/10)*B$,qve=-O$(Jw/10)*B$,Yve={draw(t,e){const n=ka(e*Wve),r=Xve*n,i=qve*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Jw*o/5,s=O$(a),l=b_(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},rT=ka(3),Kve={draw(t,e){const n=-ka(e/(rT*3));t.moveTo(0,n*2),t.lineTo(-rT*n,-n),t.lineTo(rT*n,-n),t.closePath()}},Ho=-.5,Vo=ka(3)/2,q2=1/ka(12),Zve=(q2/2+1)*3,Jve={draw(t,e){const n=ka(e/Zve),r=n/2,i=n*q2,o=r,a=n*q2+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Ho*r-Vo*i,Vo*r+Ho*i),t.lineTo(Ho*o-Vo*a,Vo*o+Ho*a),t.lineTo(Ho*s-Vo*l,Vo*s+Ho*l),t.lineTo(Ho*r+Vo*i,Ho*i-Vo*r),t.lineTo(Ho*o+Vo*a,Ho*a-Vo*o),t.lineTo(Ho*s+Vo*l,Ho*l-Vo*s),t.closePath()}};function Qve(t,e){let n=null,r=UO(i);t=typeof t=="function"?t:En(t||BO),e=typeof e=="function"?e:En(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:En(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:En(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function S_(){}function E_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function z$(t){this._context=t}z$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:E_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:E_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eye(t){return new z$(t)}function j$(t){this._context=t}j$.prototype={areaStart:S_,areaEnd:S_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:E_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tye(t){return new j$(t)}function H$(t){this._context=t}H$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:E_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nye(t){return new H$(t)}function V$(t){this._context=t}V$.prototype={areaStart:S_,areaEnd:S_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rye(t){return new V$(t)}function CU(t){return t<0?-1:1}function RU(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(CU(o)+CU(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function OU(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function iT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function M_(t){this._context=t}M_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iT(this,this._t0,OU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iT(this,OU(this,n=RU(this,t,e)),n);break;default:iT(this,this._t0,n=RU(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function G$(t){this._context=new $$(t)}(G$.prototype=Object.create(M_.prototype)).point=function(t,e){M_.prototype.point.call(this,e,t)};function $$(t){this._context=t}$$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function iye(t){return new M_(t)}function oye(t){return new G$(t)}function W$(t){this._context=t}W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=IU(t),i=IU(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function IU(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aye(t){return new W$(t)}function eS(t,e){this._context=t,this._t=e}eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sye(t){return new eS(t,.5)}function lye(t){return new eS(t,0)}function cye(t){return new eS(t,1)}function Bh(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Y2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function uye(t,e){return t[e]}function fye(t){const e=[];return e.key=t,e}function dye(){var t=En([]),e=Y2,n=Bh,r=uye;function i(o){var a=Array.from(t.apply(this,arguments),fye),s,l=a.length,c=-1,u;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,u=FO(e(a));s<l;++s)a[u[s]].index=s;return n(a,u),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:En(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:En(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Y2:typeof o=="function"?o:En(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Bh,i):n},i}function hye(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Bh(t,e)}}function pye(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Bh(t,e)}}function mye(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var u=t[e[s]],f=u[r][1]||0,d=u[r-1][1]||0,h=(f-d)/2,g=0;g<s;++g){var x=t[e[g]],v=x[r][1]||0,y=x[r-1][1]||0;h+=v-y}l+=f,c+=h*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Bh(t,e)}}function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}var gye=["type","size","sizeType"];function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(this,arguments)}function NU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NU(Object(n),!0).forEach(function(r){vye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vye(t,e,n){return e=yye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yye(t){var e=xye(t,"string");return uv(e)=="symbol"?e:e+""}function xye(t,e){if(uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ye(t,e){if(t==null)return{};var n=bye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var X$={symbolCircle:BO,symbolCross:Hve,symbolDiamond:Gve,symbolSquare:$ve,symbolStar:Yve,symbolTriangle:Kve,symbolWye:Jve},wye=Math.PI/180,Sye=function(e){var n="symbol".concat(Zw(e));return X$[n]||BO},Eye=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*wye;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mye=function(e,n){X$["symbol".concat(Zw(e))]=n},zO=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=_ye(e,gye),c=DU(DU({},l),{},{type:r,size:o,sizeType:s}),u=function(){var v=Sye(r),y=Qve().type(v).size(Eye(o,s,r));return y()},f=c.className,d=c.cx,h=c.cy,g=Pt(c,!0);return d===+d&&h===+h&&o===+o?J.createElement("path",K2({},g,{className:zt("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};zO.registerSymbol=Mye;function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z2.apply(this,arguments)}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y$(r.key),r)}}function Cye(t,e,n){return e&&Pye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rye(t,e,n){return e=T_(e),Oye(t,q$()?Reflect.construct(e,n||[],T_(t).constructor):e.apply(t,n))}function Oye(t,e){if(e&&(zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iye(t)}function Iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function T_(t){return T_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T_(t)}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J2(t,e)}function J2(t,e){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J2(t,e)}function fv(t,e,n){return e=Y$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y$(t){var e=Dye(t,"string");return zh(e)=="symbol"?e:e+""}function Dye(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Go=32,jO=function(t){function e(){return Aye(this,e),Rye(this,e,arguments)}return Nye(e,t),Cye(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Go/2,a=Go/6,s=Go/3,l=r.inactive?i:r.color;if(r.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Go,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Go,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return J.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Go/8,"h").concat(Go,"v").concat(Go*3/4,"h").concat(-Go,"z"),className:"recharts-legend-icon"});if(J.isValidElement(r.legendIcon)){var c=Tye({},r);return delete c.legendIcon,J.cloneElement(r.legendIcon,c)}return J.createElement(zO,{fill:l,cx:o,cy:o,size:Go,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Go,height:Go},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,g){var x=h.formatter||l,v=zt(fv(fv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Rt(h.value)?null:h.value;Pa(!Rt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=h.inactive?c:h.color;return J.createElement("li",Z2({className:v,style:f,key:"legend-item-".concat(g)},bf(r.props,h,g)),J.createElement(H2,{width:a,height:a,viewBox:u,style:d},r.renderIcon(h)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},x?x(y,h,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(L.PureComponent);fv(jO,"displayName","Legend");fv(jO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lye=Fw;function kye(){this.__data__=new Lye,this.size=0}var Uye=kye;function Fye(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Bye=Fye;function zye(t){return this.__data__.get(t)}var jye=zye;function Hye(t){return this.__data__.has(t)}var Vye=Hye,Gye=Fw,$ye=PO,Wye=CO,Xye=200;function qye(t,e){var n=this.__data__;if(n instanceof Gye){var r=n.__data__;if(!$ye||r.length<Xye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Wye(r)}return n.set(t,e),this.size=n.size,this}var Yye=qye,Kye=Fw,Zye=Uye,Jye=Bye,Qye=jye,e0e=Vye,t0e=Yye;function Pp(t){var e=this.__data__=new Kye(t);this.size=e.size}Pp.prototype.clear=Zye;Pp.prototype.delete=Jye;Pp.prototype.get=Qye;Pp.prototype.has=e0e;Pp.prototype.set=t0e;var K$=Pp,n0e="__lodash_hash_undefined__";function r0e(t){return this.__data__.set(t,n0e),this}var i0e=r0e;function o0e(t){return this.__data__.has(t)}var a0e=o0e,s0e=CO,l0e=i0e,c0e=a0e;function A_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new s0e;++e<n;)this.add(t[e])}A_.prototype.add=A_.prototype.push=l0e;A_.prototype.has=c0e;var Z$=A_;function u0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var J$=u0e;function f0e(t,e){return t.has(e)}var Q$=f0e,d0e=Z$,h0e=J$,p0e=Q$,m0e=1,g0e=2;function v0e(t,e,n,r,i,o){var a=n&m0e,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&g0e?new d0e:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var g=t[f],x=e[f];if(r)var v=a?r(x,g,f,e,t,o):r(g,x,f,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!h0e(e,function(y,_){if(!p0e(h,_)&&(g===y||i(g,y,n,r,o)))return h.push(_)})){d=!1;break}}else if(!(g===x||i(g,x,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var eW=v0e,y0e=hs,x0e=y0e.Uint8Array,_0e=x0e;function b0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var w0e=b0e;function S0e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HO=S0e,kU=yy,UU=_0e,E0e=AO,M0e=eW,T0e=w0e,A0e=HO,P0e=1,C0e=2,R0e="[object Boolean]",O0e="[object Date]",I0e="[object Error]",N0e="[object Map]",D0e="[object Number]",L0e="[object RegExp]",k0e="[object Set]",U0e="[object String]",F0e="[object Symbol]",B0e="[object ArrayBuffer]",z0e="[object DataView]",FU=kU?kU.prototype:void 0,oT=FU?FU.valueOf:void 0;function j0e(t,e,n,r,i,o,a){switch(n){case z0e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B0e:return!(t.byteLength!=e.byteLength||!o(new UU(t),new UU(e)));case R0e:case O0e:case D0e:return E0e(+t,+e);case I0e:return t.name==e.name&&t.message==e.message;case L0e:case U0e:return t==e+"";case N0e:var s=T0e;case k0e:var l=r&P0e;if(s||(s=A0e),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=C0e,a.set(t,e);var u=M0e(s(t),s(e),r,i,o,a);return a.delete(t),u;case F0e:if(oT)return oT.call(t)==oT.call(e)}return!1}var H0e=j0e;function V0e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var tW=V0e,G0e=tW,$0e=oo;function W0e(t,e,n){var r=e(t);return $0e(t)?r:G0e(r,n(t))}var X0e=W0e;function q0e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Y0e=q0e;function K0e(){return[]}var Z0e=K0e,J0e=Y0e,Q0e=Z0e,exe=Object.prototype,txe=exe.propertyIsEnumerable,BU=Object.getOwnPropertySymbols,nxe=BU?function(t){return t==null?[]:(t=Object(t),J0e(BU(t),function(e){return txe.call(t,e)}))}:Q0e,rxe=nxe;function ixe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var oxe=ixe,axe=bl,sxe=wl,lxe="[object Arguments]";function cxe(t){return sxe(t)&&axe(t)==lxe}var uxe=cxe,zU=uxe,fxe=wl,nW=Object.prototype,dxe=nW.hasOwnProperty,hxe=nW.propertyIsEnumerable,pxe=zU(function(){return arguments}())?zU:function(t){return fxe(t)&&dxe.call(t,"callee")&&!hxe.call(t,"callee")},VO=pxe,P_={exports:{}};function mxe(){return!1}var gxe=mxe;P_.exports;(function(t,e){var n=hs,r=gxe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(P_,P_.exports);var rW=P_.exports,vxe=9007199254740991,yxe=/^(?:0|[1-9]\d*)$/;function xxe(t,e){var n=typeof t;return e=e??vxe,!!e&&(n=="number"||n!="symbol"&&yxe.test(t))&&t>-1&&t%1==0&&t<e}var GO=xxe,_xe=9007199254740991;function bxe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_xe}var $O=bxe,wxe=bl,Sxe=$O,Exe=wl,Mxe="[object Arguments]",Txe="[object Array]",Axe="[object Boolean]",Pxe="[object Date]",Cxe="[object Error]",Rxe="[object Function]",Oxe="[object Map]",Ixe="[object Number]",Nxe="[object Object]",Dxe="[object RegExp]",Lxe="[object Set]",kxe="[object String]",Uxe="[object WeakMap]",Fxe="[object ArrayBuffer]",Bxe="[object DataView]",zxe="[object Float32Array]",jxe="[object Float64Array]",Hxe="[object Int8Array]",Vxe="[object Int16Array]",Gxe="[object Int32Array]",$xe="[object Uint8Array]",Wxe="[object Uint8ClampedArray]",Xxe="[object Uint16Array]",qxe="[object Uint32Array]",On={};On[zxe]=On[jxe]=On[Hxe]=On[Vxe]=On[Gxe]=On[$xe]=On[Wxe]=On[Xxe]=On[qxe]=!0;On[Mxe]=On[Txe]=On[Fxe]=On[Axe]=On[Bxe]=On[Pxe]=On[Cxe]=On[Rxe]=On[Oxe]=On[Ixe]=On[Nxe]=On[Dxe]=On[Lxe]=On[kxe]=On[Uxe]=!1;function Yxe(t){return Exe(t)&&Sxe(t.length)&&!!On[wxe(t)]}var Kxe=Yxe;function Zxe(t){return function(e){return t(e)}}var iW=Zxe,C_={exports:{}};C_.exports;(function(t,e){var n=d$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(C_,C_.exports);var Jxe=C_.exports,Qxe=Kxe,e1e=iW,jU=Jxe,HU=jU&&jU.isTypedArray,t1e=HU?e1e(HU):Qxe,oW=t1e,n1e=oxe,r1e=VO,i1e=oo,o1e=rW,a1e=GO,s1e=oW,l1e=Object.prototype,c1e=l1e.hasOwnProperty;function u1e(t,e){var n=i1e(t),r=!n&&r1e(t),i=!n&&!r&&o1e(t),o=!n&&!r&&!i&&s1e(t),a=n||r||i||o,s=a?n1e(t.length,String):[],l=s.length;for(var c in t)(e||c1e.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||a1e(c,l)))&&s.push(c);return s}var f1e=u1e,d1e=Object.prototype;function h1e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||d1e;return t===n}var p1e=h1e;function m1e(t,e){return function(n){return t(e(n))}}var aW=m1e,g1e=aW,v1e=g1e(Object.keys,Object),y1e=v1e,x1e=p1e,_1e=y1e,b1e=Object.prototype,w1e=b1e.hasOwnProperty;function S1e(t){if(!x1e(t))return _1e(t);var e=[];for(var n in Object(t))w1e.call(t,n)&&n!="constructor"&&e.push(n);return e}var E1e=S1e,M1e=TO,T1e=$O;function A1e(t){return t!=null&&T1e(t.length)&&!M1e(t)}var by=A1e,P1e=f1e,C1e=E1e,R1e=by;function O1e(t){return R1e(t)?P1e(t):C1e(t)}var tS=O1e,I1e=X0e,N1e=rxe,D1e=tS;function L1e(t){return I1e(t,D1e,N1e)}var k1e=L1e,VU=k1e,U1e=1,F1e=Object.prototype,B1e=F1e.hasOwnProperty;function z1e(t,e,n,r,i,o){var a=n&U1e,s=VU(t),l=s.length,c=VU(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:B1e.call(e,d)))return!1}var h=o.get(t),g=o.get(e);if(h&&g)return h==e&&g==t;var x=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){d=s[f];var y=t[d],_=e[d];if(r)var b=a?r(_,y,d,e,t,o):r(y,_,d,t,e,o);if(!(b===void 0?y===_||i(y,_,n,r,o):b)){x=!1;break}v||(v=d=="constructor")}if(x&&!v){var w=t.constructor,E=e.constructor;w!=E&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(x=!1)}return o.delete(t),o.delete(e),x}var j1e=z1e,H1e=Df,V1e=hs,G1e=H1e(V1e,"DataView"),$1e=G1e,W1e=Df,X1e=hs,q1e=W1e(X1e,"Promise"),Y1e=q1e,K1e=Df,Z1e=hs,J1e=K1e(Z1e,"Set"),sW=J1e,Q1e=Df,e_e=hs,t_e=Q1e(e_e,"WeakMap"),n_e=t_e,Q2=$1e,eP=PO,tP=Y1e,nP=sW,rP=n_e,lW=bl,Cp=p$,GU="[object Map]",r_e="[object Object]",$U="[object Promise]",WU="[object Set]",XU="[object WeakMap]",qU="[object DataView]",i_e=Cp(Q2),o_e=Cp(eP),a_e=Cp(tP),s_e=Cp(nP),l_e=Cp(rP),Ou=lW;(Q2&&Ou(new Q2(new ArrayBuffer(1)))!=qU||eP&&Ou(new eP)!=GU||tP&&Ou(tP.resolve())!=$U||nP&&Ou(new nP)!=WU||rP&&Ou(new rP)!=XU)&&(Ou=function(t){var e=lW(t),n=e==r_e?t.constructor:void 0,r=n?Cp(n):"";if(r)switch(r){case i_e:return qU;case o_e:return GU;case a_e:return $U;case s_e:return WU;case l_e:return XU}return e});var c_e=Ou,aT=K$,u_e=eW,f_e=H0e,d_e=j1e,YU=c_e,KU=oo,ZU=rW,h_e=oW,p_e=1,JU="[object Arguments]",QU="[object Array]",Gx="[object Object]",m_e=Object.prototype,eF=m_e.hasOwnProperty;function g_e(t,e,n,r,i,o){var a=KU(t),s=KU(e),l=a?QU:YU(t),c=s?QU:YU(e);l=l==JU?Gx:l,c=c==JU?Gx:c;var u=l==Gx,f=c==Gx,d=l==c;if(d&&ZU(t)){if(!ZU(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new aT),a||h_e(t)?u_e(t,e,n,r,i,o):f_e(t,e,l,n,r,i,o);if(!(n&p_e)){var h=u&&eF.call(t,"__wrapped__"),g=f&&eF.call(e,"__wrapped__");if(h||g){var x=h?t.value():t,v=g?e.value():e;return o||(o=new aT),i(x,v,n,r,o)}}return d?(o||(o=new aT),d_e(t,e,n,r,i,o)):!1}var v_e=g_e,y_e=v_e,tF=wl;function cW(t,e,n,r,i){return t===e?!0:t==null||e==null||!tF(t)&&!tF(e)?t!==t&&e!==e:y_e(t,e,n,r,cW,i)}var WO=cW,x_e=K$,__e=WO,b_e=1,w_e=2;function S_e(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new x_e;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?__e(u,c,b_e|w_e,r,f):d))return!1}}return!0}var E_e=S_e,M_e=jc;function T_e(t){return t===t&&!M_e(t)}var uW=T_e,A_e=uW,P_e=tS;function C_e(t){for(var e=P_e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,A_e(i)]}return e}var R_e=C_e;function O_e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var fW=O_e,I_e=E_e,N_e=R_e,D_e=fW;function L_e(t){var e=N_e(t);return e.length==1&&e[0][2]?D_e(e[0][0],e[0][1]):function(n){return n===t||I_e(n,t,e)}}var k_e=L_e;function U_e(t,e){return t!=null&&e in Object(t)}var F_e=U_e,B_e=x$,z_e=VO,j_e=oo,H_e=GO,V_e=$O,G_e=zw;function $_e(t,e,n){e=B_e(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=G_e(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&V_e(i)&&H_e(a,i)&&(j_e(t)||z_e(t)))}var W_e=$_e,X_e=F_e,q_e=W_e;function Y_e(t,e){return t!=null&&q_e(t,e,X_e)}var K_e=Y_e,Z_e=WO,J_e=_$,Q_e=K_e,ebe=MO,tbe=uW,nbe=fW,rbe=zw,ibe=1,obe=2;function abe(t,e){return ebe(t)&&tbe(e)?nbe(rbe(t),e):function(n){var r=J_e(n,t);return r===void 0&&r===e?Q_e(n,t):Z_e(e,r,ibe|obe)}}var sbe=abe;function lbe(t){return t}var Rp=lbe;function cbe(t){return function(e){return e==null?void 0:e[t]}}var ube=cbe,fbe=IO;function dbe(t){return function(e){return fbe(e,t)}}var hbe=dbe,pbe=ube,mbe=hbe,gbe=MO,vbe=zw;function ybe(t){return gbe(t)?pbe(vbe(t)):mbe(t)}var xbe=ybe,_be=k_e,bbe=sbe,wbe=Rp,Sbe=oo,Ebe=xbe;function Mbe(t){return typeof t=="function"?t:t==null?wbe:typeof t=="object"?Sbe(t)?bbe(t[0],t[1]):_be(t):Ebe(t)}var ps=Mbe;function Tbe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var dW=Tbe;function Abe(t){return t!==t}var Pbe=Abe;function Cbe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Rbe=Cbe,Obe=dW,Ibe=Pbe,Nbe=Rbe;function Dbe(t,e,n){return e===e?Nbe(t,e,n):Obe(t,Ibe,n)}var Lbe=Dbe,kbe=Lbe;function Ube(t,e){var n=t==null?0:t.length;return!!n&&kbe(t,e,0)>-1}var Fbe=Ube;function Bbe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var zbe=Bbe;function jbe(){}var Hbe=jbe,sT=sW,Vbe=Hbe,Gbe=HO,$be=1/0,Wbe=sT&&1/Gbe(new sT([,-0]))[1]==$be?function(t){return new sT(t)}:Vbe,Xbe=Wbe,qbe=Z$,Ybe=Fbe,Kbe=zbe,Zbe=Q$,Jbe=Xbe,Qbe=HO,ewe=200;function twe(t,e,n){var r=-1,i=Ybe,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Kbe;else if(o>=ewe){var c=e?null:Jbe(t);if(c)return Qbe(c);a=!1,i=Zbe,l=new qbe}else l=e?[]:s;e:for(;++r<o;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(u)}else i(l,f,n)||(l!==s&&l.push(f),s.push(u))}return s}var nwe=twe,rwe=ps,iwe=nwe;function owe(t,e){return t&&t.length?iwe(t,rwe(e)):[]}var awe=owe;const nF=rn(awe);function hW(t,e,n){return e===!0?nF(t,n):Rt(e)?nF(t,e):t}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}var swe=["ref"];function rF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(n),!0).forEach(function(r){nS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mW(r.key),r)}}function cwe(t,e,n){return e&&iF(t.prototype,e),n&&iF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,e,n){return e=R_(e),fwe(t,pW()?Reflect.construct(e,n||[],R_(t).constructor):e.apply(t,n))}function fwe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dwe(t)}function dwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!t})()}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R_(t)}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iP(t,e)}function iP(t,e){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iP(t,e)}function nS(t,e,n){return e=mW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mW(t){var e=pwe(t,"string");return jh(e)=="symbol"?e:e+""}function pwe(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mwe(t,e){if(t==null)return{};var n=gwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vwe(t){return t.value}function ywe(t,e){if(J.isValidElement(t))return J.cloneElement(t,e);if(typeof t=="function")return J.createElement(t,e);e.ref;var n=mwe(e,swe);return J.createElement(jO,n)}var oF=1,Sc=function(t){function e(){var n;lwe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uwe(this,e,[].concat(i)),nS(n,"lastBoundingBox",{width:-1,height:-1}),n}return hwe(e,t),cwe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oF||Math.abs(i.height-this.lastBoundingBox.height)>oF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ds({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();f={left:((c||0)-h.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();d={top:((u||0)-g.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ds(Ds({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=Ds(Ds({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return J.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},ywe(o,Ds(Ds({},this.props),{},{payload:hW(u,c,vwe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ds(Ds({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&tt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(L.PureComponent);nS(Sc,"displayName","Legend");nS(Sc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aF=yy,xwe=VO,_we=oo,sF=aF?aF.isConcatSpreadable:void 0;function bwe(t){return _we(t)||xwe(t)||!!(sF&&t&&t[sF])}var wwe=bwe,Swe=tW,Ewe=wwe;function gW(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ewe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?gW(s,e-1,n,r,i):Swe(i,s):r||(i[i.length]=s)}return i}var vW=gW;function Mwe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Twe=Mwe,Awe=Twe,Pwe=Awe(),Cwe=Pwe,Rwe=Cwe,Owe=tS;function Iwe(t,e){return t&&Rwe(t,e,Owe)}var yW=Iwe,Nwe=by;function Dwe(t,e){return function(n,r){if(n==null)return n;if(!Nwe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Lwe=Dwe,kwe=yW,Uwe=Lwe,Fwe=Uwe(kwe),XO=Fwe,Bwe=XO,zwe=by;function jwe(t,e){var n=-1,r=zwe(t)?Array(t.length):[];return Bwe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var xW=jwe;function Hwe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Vwe=Hwe,lF=Sp;function Gwe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=lF(t),a=e!==void 0,s=e===null,l=e===e,c=lF(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var $we=Gwe,Wwe=$we;function Xwe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Wwe(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var qwe=Xwe,lT=OO,Ywe=IO,Kwe=ps,Zwe=xW,Jwe=Vwe,Qwe=iW,eSe=qwe,tSe=Rp,nSe=oo;function rSe(t,e,n){e.length?e=lT(e,function(o){return nSe(o)?function(a){return Ywe(a,o.length===1?o[0]:o)}:o}):e=[tSe];var r=-1;e=lT(e,Qwe(Kwe));var i=Zwe(t,function(o,a,s){var l=lT(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Jwe(i,function(o,a){return eSe(o,a,n)})}var iSe=rSe;function oSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var aSe=oSe,sSe=aSe,cF=Math.max;function lSe(t,e,n){return e=cF(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=cF(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),sSe(t,this,s)}}var cSe=lSe;function uSe(t){return function(){return t}}var fSe=uSe,dSe=Df,hSe=function(){try{var t=dSe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_W=hSe,pSe=fSe,uF=_W,mSe=Rp,gSe=uF?function(t,e){return uF(t,"toString",{configurable:!0,enumerable:!1,value:pSe(e),writable:!0})}:mSe,vSe=gSe,ySe=800,xSe=16,_Se=Date.now;function bSe(t){var e=0,n=0;return function(){var r=_Se(),i=xSe-(r-n);if(n=r,i>0){if(++e>=ySe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wSe=bSe,SSe=vSe,ESe=wSe,MSe=ESe(SSe),TSe=MSe,ASe=Rp,PSe=cSe,CSe=TSe;function RSe(t,e){return CSe(PSe(t,e,ASe),t+"")}var OSe=RSe,ISe=AO,NSe=by,DSe=GO,LSe=jc;function kSe(t,e,n){if(!LSe(n))return!1;var r=typeof e;return(r=="number"?NSe(n)&&DSe(e,n.length):r=="string"&&e in n)?ISe(n[e],t):!1}var rS=kSe,USe=vW,FSe=iSe,BSe=OSe,fF=rS,zSe=BSe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&fF(t,e[0],e[1])?e=[]:n>2&&fF(e[0],e[1],e[2])&&(e=[e[0]]),FSe(t,USe(e,1),[])}),jSe=zSe;const qO=rn(jSe);function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function oP(){return oP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oP.apply(this,arguments)}function HSe(t,e){return WSe(t)||$Se(t,e)||GSe(t,e)||VSe()}function VSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GSe(t,e){if(t){if(typeof t=="string")return dF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dF(t,e)}}function dF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Se(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function WSe(t){if(Array.isArray(t))return t}function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){XSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XSe(t,e,n){return e=qSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qSe(t){var e=YSe(t,"string");return dv(e)=="symbol"?e:e+""}function YSe(t,e){if(dv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KSe(t){return Array.isArray(t)&&Tr(t[0])&&Tr(t[1])?t.join(" ~ "):t}var ZSe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,x=e.label,v=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,b=function(){if(u&&u.length){var D={padding:0,margin:0},G=(d?qO(u,d):u).map(function(N,$){if(N.type==="none")return null;var H=cT({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},s),K=N.formatter||f||KSe,U=N.value,F=N.name,j=U,z=F;if(K&&j!=null&&z!=null){var X=K(U,F,N,$,u);if(Array.isArray(X)){var q=HSe(X,2);j=q[0],z=q[1]}else j=X}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:H},Tr(z)?J.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Tr(z)?J.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,J.createElement("span",{className:"recharts-tooltip-item-value"},j),J.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:D},G)}return null},w=cT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=cT({margin:0},c),M=!$t(x),T=M?x:"",O=zt("recharts-default-tooltip",h),P=zt("recharts-tooltip-label",g);M&&v&&u!==void 0&&u!==null&&(T=v(x,u));var R=_?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",oP({className:O,style:w},R),J.createElement("p",{className:P,style:E},J.isValidElement(T)?T:"".concat(T)),b())};function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function $x(t,e,n){return e=JSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JSe(t){var e=QSe(t,"string");return hv(e)=="symbol"?e:e+""}function QSe(t,e){if(hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Om="recharts-tooltip-wrapper",eEe={visibility:"hidden"};function tEe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return zt(Om,$x($x($x($x({},"".concat(Om,"-right"),tt(n)&&e&&tt(e.x)&&n>=e.x),"".concat(Om,"-left"),tt(n)&&e&&tt(e.x)&&n<e.x),"".concat(Om,"-bottom"),tt(r)&&e&&tt(e.y)&&r>=e.y),"".concat(Om,"-top"),tt(r)&&e&&tt(e.y)&&r<e.y))}function pF(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&tt(o[r]))return o[r];var u=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var d=u,h=l[r];return d<h?Math.max(f,l[r]):Math.max(u,l[r])}var g=f+s,x=l[r]+c;return g>x?Math.max(u,l[r]):Math.max(f,l[r])}function nEe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rEe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=pF({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=pF({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=nEe({translateX:u,translateY:f,useTranslate3d:s})):c=eEe,{cssProperties:c,cssClasses:tEe({translateX:u,translateY:f,coordinate:n})}}function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function mF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(n),!0).forEach(function(r){sP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wW(r.key),r)}}function aEe(t,e,n){return e&&oEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sEe(t,e,n){return e=O_(e),lEe(t,bW()?Reflect.construct(e,n||[],O_(t).constructor):e.apply(t,n))}function lEe(t,e){if(e&&(Hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bW=function(){return!!t})()}function O_(t){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O_(t)}function uEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aP(t,e)}function aP(t,e){return aP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aP(t,e)}function sP(t,e,n){return e=wW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wW(t){var e=fEe(t,"string");return Hh(e)=="symbol"?e:e+""}function fEe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vF=1,dEe=function(t){function e(){var n;iEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sEe(this,e,[].concat(i)),sP(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sP(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return uEe(e,t),aEe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vF||Math.abs(r.height-this.state.lastBoundingBox.height)>vF)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,h=i.offset,g=i.position,x=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,b=rEe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:h,position:g,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),w=b.cssClasses,E=b.cssProperties,M=gF(gF({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return J.createElement("div",{tabIndex:-1,className:w,style:M,ref:function(O){r.wrapperNode=O}},c)}}])}(L.PureComponent),hEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tl={isSsr:hEe(),get:function(e){return tl[e]},set:function(e,n){if(typeof e=="string")tl[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){tl[i]=e[i]})}}};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){YO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EW(r.key),r)}}function gEe(t,e,n){return e&&mEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vEe(t,e,n){return e=I_(e),yEe(t,SW()?Reflect.construct(e,n||[],I_(t).constructor):e.apply(t,n))}function yEe(t,e){if(e&&(Vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(t)}function xEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!t})()}function I_(t){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I_(t)}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lP(t,e)}function YO(t,e,n){return e=EW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EW(t){var e=bEe(t,"string");return Vh(e)=="symbol"?e:e+""}function bEe(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wEe(t){return t.dataKey}function SEe(t,e){return J.isValidElement(t)?J.cloneElement(t,e):typeof t=="function"?J.createElement(t,e):J.createElement(ZSe,e)}var _o=function(t){function e(){return pEe(this,e),vEe(this,e,arguments)}return _Ee(e,t),gEe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,h=i.offset,g=i.payload,x=i.payloadUniqBy,v=i.position,y=i.reverseDirection,_=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,E=g??[];f&&E.length&&(E=hW(g.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),x,wEe));var M=E.length>0;return J.createElement(dEe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:u,hasPayload:M,offset:h,position:v,reverseDirection:y,useTranslate3d:_,viewBox:b,wrapperStyle:w},SEe(c,xF(xF({},this.props),{},{payload:E})))}}])}(L.PureComponent);YO(_o,"displayName","Tooltip");YO(_o,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var EEe=hs,MEe=function(){return EEe.Date.now()},TEe=MEe,AEe=/\s/;function PEe(t){for(var e=t.length;e--&&AEe.test(t.charAt(e)););return e}var CEe=PEe,REe=CEe,OEe=/^\s+/;function IEe(t){return t&&t.slice(0,REe(t)+1).replace(OEe,"")}var NEe=IEe,DEe=NEe,_F=jc,LEe=Sp,bF=NaN,kEe=/^[-+]0x[0-9a-f]+$/i,UEe=/^0b[01]+$/i,FEe=/^0o[0-7]+$/i,BEe=parseInt;function zEe(t){if(typeof t=="number")return t;if(LEe(t))return bF;if(_F(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_F(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=DEe(t);var n=UEe.test(t);return n||FEe.test(t)?BEe(t.slice(2),n?2:8):kEe.test(t)?bF:+t}var MW=zEe,jEe=jc,uT=TEe,wF=MW,HEe="Expected a function",VEe=Math.max,GEe=Math.min;function $Ee(t,e,n){var r,i,o,a,s,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(HEe);e=wF(e)||0,jEe(n)&&(u=!!n.leading,f="maxWait"in n,o=f?VEe(wF(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(M){var T=r,O=i;return r=i=void 0,c=M,a=t.apply(O,T),a}function g(M){return c=M,s=setTimeout(y,e),u?h(M):a}function x(M){var T=M-l,O=M-c,P=e-T;return f?GEe(P,o-O):P}function v(M){var T=M-l,O=M-c;return l===void 0||T>=e||T<0||f&&O>=o}function y(){var M=uT();if(v(M))return _(M);s=setTimeout(y,x(M))}function _(M){return s=void 0,d&&r?h(M):(r=i=void 0,a)}function b(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function w(){return s===void 0?a:_(uT())}function E(){var M=uT(),T=v(M);if(r=arguments,i=this,l=M,T){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(y,e),h(l)}return s===void 0&&(s=setTimeout(y,e)),a}return E.cancel=b,E.flush=w,E}var WEe=$Ee,XEe=WEe,qEe=jc,YEe="Expected a function";function KEe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(YEe);return qEe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),XEe(t,e,{leading:r,maxWait:e,trailing:i})}var ZEe=KEe;const TW=rn(ZEe);function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(r){JEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JEe(t,e,n){return e=QEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QEe(t){var e=eMe(t,"string");return pv(e)=="symbol"?e:e+""}function eMe(t,e){if(pv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tMe(t,e){return oMe(t)||iMe(t,e)||rMe(t,e)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(t,e){if(t){if(typeof t=="string")return EF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function oMe(t){if(Array.isArray(t))return t}var N_=L.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,h=t.children,g=t.debounce,x=g===void 0?0:g,v=t.id,y=t.className,_=t.onResize,b=t.style,w=b===void 0?{}:b,E=L.useRef(null),M=L.useRef();M.current=_,L.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=L.useState({containerWidth:i.width,containerHeight:i.height}),O=tMe(T,2),P=O[0],R=O[1],k=L.useCallback(function(G,N){R(function($){var H=Math.round(G),K=Math.round(N);return $.containerWidth===H&&$.containerHeight===K?$:{containerWidth:H,containerHeight:K}})},[]);L.useEffect(function(){var G=function(F){var j,z=F[0].contentRect,X=z.width,q=z.height;k(X,q),(j=M.current)===null||j===void 0||j.call(M,X,q)};x>0&&(G=TW(G,x,{trailing:!0,leading:!1}));var N=new ResizeObserver(G),$=E.current.getBoundingClientRect(),H=$.width,K=$.height;return k(H,K),N.observe(E.current),function(){N.disconnect()}},[k,x]);var D=L.useMemo(function(){var G=P.containerWidth,N=P.containerHeight;if(G<0||N<0)return null;Pa(Hu(a)||Hu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Pa(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Hu(a)?G:a,H=Hu(l)?N:l;n&&n>0&&($?H=$/n:H&&($=H*n),d&&H>d&&(H=d)),Pa($>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,a,l,u,f,n);var K=!Array.isArray(h)&&el(h.type).endsWith("Chart");return J.Children.map(h,function(U){return J.isValidElement(U)?L.cloneElement(U,Wx({width:$,height:H},K?{style:Wx({height:"100%",width:"100%",maxHeight:H,maxWidth:$},U.props.style)}:{})):U})},[n,h,l,d,f,u,P,a]);return J.createElement("div",{id:v?"".concat(v):void 0,className:zt("recharts-responsive-container",y),style:Wx(Wx({},w),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:E},D)}),wf=function(e){return null};wf.displayName="Cell";function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function MF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(n),!0).forEach(function(r){aMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aMe(t,e,n){return e=sMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sMe(t){var e=lMe(t,"string");return mv(e)=="symbol"?e:e+""}function lMe(t,e){if(mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Md={widthCache:{},cacheCount:0},cMe=2e3,uMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TF="recharts_measurement_span";function fMe(t){var e=cP({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ug=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||tl.isSsr)return{width:0,height:0};var r=fMe(n),i=JSON.stringify({text:e,copyStyle:r});if(Md.widthCache[i])return Md.widthCache[i];try{var o=document.getElementById(TF);o||(o=document.createElement("span"),o.setAttribute("id",TF),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=cP(cP({},uMe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Md.widthCache[i]=l,++Md.cacheCount>cMe&&(Md.cacheCount=0,Md.widthCache={}),l}catch{return{width:0,height:0}}},dMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function D_(t,e){return gMe(t)||mMe(t,e)||pMe(t,e)||hMe()}function hMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(t,e){if(t){if(typeof t=="string")return AF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AF(t,e)}}function AF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function gMe(t){if(Array.isArray(t))return t}function vMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xMe(r.key),r)}}function yMe(t,e,n){return e&&PF(t.prototype,e),n&&PF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xMe(t){var e=_Me(t,"string");return gv(e)=="symbol"?e:e+""}function _Me(t,e){if(gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},SMe=Object.keys(AW),Jd="NaN";function EMe(t,e){return t*AW[e]}var Xx=function(){function t(e,n){vMe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!bMe.test(n)&&(this.num=NaN,this.unit=""),SMe.includes(n)&&(this.num=EMe(e,n),this.unit="px")}return yMe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=wMe.exec(n))!==null&&r!==void 0?r:[],o=D_(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function PW(t){if(t.includes(Jd))return Jd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=CF.exec(e))!==null&&n!==void 0?n:[],i=D_(r,4),o=i[1],a=i[2],s=i[3],l=Xx.parse(o??""),c=Xx.parse(s??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Jd;e=e.replace(CF,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=RF.exec(e))!==null&&f!==void 0?f:[],h=D_(d,4),g=h[1],x=h[2],v=h[3],y=Xx.parse(g??""),_=Xx.parse(v??""),b=x==="+"?y.add(_):y.subtract(_);if(b.isNaN())return Jd;e=e.replace(RF,b.toString())}return e}var OF=/\(([^()]*)\)/;function MMe(t){for(var e=t;e.includes("(");){var n=OF.exec(e),r=D_(n,2),i=r[1];e=e.replace(OF,PW(i))}return e}function TMe(t){var e=t.replace(/\s+/g,"");return e=MMe(e),e=PW(e),e}function AMe(t){try{return TMe(t)}catch{return Jd}}function fT(t){var e=AMe(t.slice(5,-1));return e===Jd?"":e}var PMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],CMe=["dx","dy","angle","className","breakAll"];function uP(){return uP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uP.apply(this,arguments)}function IF(t,e){if(t==null)return{};var n=RMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NF(t,e){return DMe(t)||NMe(t,e)||IMe(t,e)||OMe()}function OMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IMe(t,e){if(t){if(typeof t=="string")return DF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DF(t,e)}}function DF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function DMe(t){if(Array.isArray(t))return t}var CW=/[ \f\n\r\t\v\u2028\u2029]+/,RW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];$t(n)||(r?o=n.toString().split(""):o=n.toString().split(CW));var a=o.map(function(l){return{word:l,width:ug(l,i).width}}),s=r?0:ug("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},LMe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,u=tt(a),f=s,d=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(H,K){var U=K.word,F=K.width,j=H[H.length-1];if(j&&(i==null||o||j.width+F+r<Number(i)))j.words.push(U),j.width+=F+r;else{var z={words:[U],width:F};H.push(z)}return H},[])},h=d(n),g=function($){return $.reduce(function(H,K){return H.width>K.width?H:K})};if(!u)return h;for(var x="",v=function($){var H=f.slice(0,$),K=RW({breakAll:c,style:l,children:H+x}).wordsWithComputedWidth,U=d(K),F=U.length>a||g(U).width>Number(i);return[F,U]},y=0,_=f.length-1,b=0,w;y<=_&&b<=f.length-1;){var E=Math.floor((y+_)/2),M=E-1,T=v(M),O=NF(T,2),P=O[0],R=O[1],k=v(E),D=NF(k,1),G=D[0];if(!P&&!G&&(y=E+1),P&&G&&(_=E-1),!P&&G){w=R;break}b++}return w||h},LF=function(e){var n=$t(e)?[]:e.toString().split(CW);return[{words:n}]},kMe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!tl.isSsr){var l,c,u=RW({breakAll:a,children:i,style:o});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return LF(i);return LMe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return LF(i)},kF="#808080",Sf=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,h=d===void 0?"start":d,g=e.verticalAnchor,x=g===void 0?"end":g,v=e.fill,y=v===void 0?kF:v,_=IF(e,PMe),b=L.useMemo(function(){return kMe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),w=_.dx,E=_.dy,M=_.angle,T=_.className,O=_.breakAll,P=IF(_,CMe);if(!Tr(r)||!Tr(o))return null;var R=r+(tt(w)?w:0),k=o+(tt(E)?E:0),D;switch(x){case"start":D=fT("calc(".concat(c,")"));break;case"middle":D=fT("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:D=fT("calc(".concat(b.length-1," * -").concat(s,")"));break}var G=[];if(f){var N=b[0].width,$=_.width;G.push("scale(".concat((tt($)?$/N:1)/N,")"))}return M&&G.push("rotate(".concat(M,", ").concat(R,", ").concat(k,")")),G.length&&(P.transform=G.join(" ")),J.createElement("text",uP({},Pt(P,!0),{x:R,y:k,className:zt("recharts-text",T),textAnchor:h,fill:y.includes("url")?kF:y}),b.map(function(H,K){var U=H.words.join(O?"":" ");return J.createElement("tspan",{x:R,dy:K===0?D:s,key:"".concat(U,"-").concat(K)},U)}))};function Ec(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KO(t){let e,n,r;t.length!==2?(e=Ec,n=(s,l)=>Ec(t(s),l),r=(s,l)=>t(s)-l):(e=t===Ec||t===UMe?t:FMe,n=t,r=t);function i(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function FMe(){return 0}function OW(t){return t===null?NaN:+t}function*BMe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zMe=KO(Ec),wy=zMe.right;KO(OW).center;class UF extends Map{constructor(e,n=VMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FF(this,e))}has(e){return super.has(FF(this,e))}set(e,n){return super.set(jMe(this,e),n)}delete(e){return super.delete(HMe(this,e))}}function FF({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function HMe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function VMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GMe(t=Ec){if(t===Ec)return IW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function IW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const $Me=Math.sqrt(50),WMe=Math.sqrt(10),XMe=Math.sqrt(2);function L_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=$Me?10:o>=WMe?5:o>=XMe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?L_(t,e,n*2):[s,l,c]}function fP(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?L_(e,t,n):L_(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function dP(t,e,n){return e=+e,t=+t,n=+n,L_(t,e,n)[2]}function hP(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?dP(e,t,n):dP(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BF(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zF(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function NW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?IW:GMe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*f/l+d)),g=Math.min(r,Math.floor(e+(l-c)*f/l+d));NW(t,e,h,g,i)}const o=t[e];let a=n,s=r;for(Im(t,n,e),i(t[r],o)>0&&Im(t,n,r);a<s;){for(Im(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Im(t,n,s):(++s,Im(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Im(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qMe(t,e,n){if(t=Float64Array.from(BMe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zF(t);if(e>=1)return BF(t);var r,i=(r-1)*e,o=Math.floor(i),a=BF(NW(t,o).subarray(0,o+1)),s=zF(t.subarray(o+1));return a+(s-a)*(i-o)}}function YMe(t,e,n=OW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function KMe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ia(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pP=Symbol("implicit");function ZO(){var t=new UF,e=[],n=[],r=pP;function i(o){let a=t.get(o);if(a===void 0){if(r!==pP)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new UF;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ZO(e,n).unknown(r)},ia.apply(i,arguments),i}function vv(){var t=ZO().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,h=i<r,g=h?i:r,x=h?r:i;o=(x-g)/Math.max(1,d-l+c*2),s&&(o=Math.floor(o)),g+=(x-g-o*(d-l))*u,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var v=KMe(d).map(function(y){return g+o*y});return n(h?v.reverse():v)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return vv(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},ia.apply(f(),arguments)}function DW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return DW(e())},t}function fg(){return DW(vv.apply(null,arguments).paddingInner(1))}function JO(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function LW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Sy(){}var yv=.7,k_=1/yv,ph="\\s*([+-]?\\d+)\\s*",xv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZMe=/^#([0-9a-f]{3,8})$/,JMe=new RegExp(`^rgb\\(${ph},${ph},${ph}\\)$`),QMe=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),eTe=new RegExp(`^rgba\\(${ph},${ph},${ph},${xv}\\)$`),tTe=new RegExp(`^rgba\\(${is},${is},${is},${xv}\\)$`),nTe=new RegExp(`^hsl\\(${xv},${is},${is}\\)$`),rTe=new RegExp(`^hsla\\(${xv},${is},${is},${xv}\\)$`),jF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JO(Sy,_v,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HF,formatHex:HF,formatHex8:iTe,formatHsl:oTe,formatRgb:VF,toString:VF});function HF(){return this.rgb().formatHex()}function iTe(){return this.rgb().formatHex8()}function oTe(){return kW(this).formatHsl()}function VF(){return this.rgb().formatRgb()}function _v(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ZMe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GF(e):n===3?new Qi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=JMe.exec(t))?new Qi(e[1],e[2],e[3],1):(e=QMe.exec(t))?new Qi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=eTe.exec(t))?qx(e[1],e[2],e[3],e[4]):(e=tTe.exec(t))?qx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nTe.exec(t))?XF(e[1],e[2]/100,e[3]/100,1):(e=rTe.exec(t))?XF(e[1],e[2]/100,e[3]/100,e[4]):jF.hasOwnProperty(t)?GF(jF[t]):t==="transparent"?new Qi(NaN,NaN,NaN,0):null}function GF(t){return new Qi(t>>16&255,t>>8&255,t&255,1)}function qx(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qi(t,e,n,r)}function aTe(t){return t instanceof Sy||(t=_v(t)),t?(t=t.rgb(),new Qi(t.r,t.g,t.b,t.opacity)):new Qi}function mP(t,e,n,r){return arguments.length===1?aTe(t):new Qi(t,e,n,r??1)}function Qi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JO(Qi,mP,LW(Sy,{brighter(t){return t=t==null?k_:Math.pow(k_,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yv:Math.pow(yv,t),new Qi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qi(lf(this.r),lf(this.g),lf(this.b),U_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$F,formatHex:$F,formatHex8:sTe,formatRgb:WF,toString:WF}));function $F(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}`}function sTe(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}${Vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function WF(){const t=U_(this.opacity);return`${t===1?"rgb(":"rgba("}${lf(this.r)}, ${lf(this.g)}, ${lf(this.b)}${t===1?")":`, ${t})`}`}function U_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Vu(t){return t=lf(t),(t<16?"0":"")+t.toString(16)}function XF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sa(t,e,n,r)}function kW(t){if(t instanceof Sa)return new Sa(t.h,t.s,t.l,t.opacity);if(t instanceof Sy||(t=_v(t)),!t)return new Sa;if(t instanceof Sa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Sa(a,s,l,t.opacity)}function lTe(t,e,n,r){return arguments.length===1?kW(t):new Sa(t,e,n,r??1)}function Sa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JO(Sa,lTe,LW(Sy,{brighter(t){return t=t==null?k_:Math.pow(k_,t),new Sa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yv:Math.pow(yv,t),new Sa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qi(dT(t>=240?t-240:t+120,i,r),dT(t,i,r),dT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sa(qF(this.h),Yx(this.s),Yx(this.l),U_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=U_(this.opacity);return`${t===1?"hsl(":"hsla("}${qF(this.h)}, ${Yx(this.s)*100}%, ${Yx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qF(t){return t=(t||0)%360,t<0?t+360:t}function Yx(t){return Math.max(0,Math.min(1,t||0))}function dT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const QO=t=>()=>t;function cTe(t,e){return function(n){return t+n*e}}function uTe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fTe(t){return(t=+t)==1?UW:function(e,n){return n-e?uTe(e,n,t):QO(isNaN(e)?n:e)}}function UW(t,e){var n=e-t;return n?cTe(t,n):QO(isNaN(t)?e:t)}const YF=function t(e){var n=fTe(e);function r(i,o){var a=n((i=mP(i)).r,(o=mP(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=UW(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function dTe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hTe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pTe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Op(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mTe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function F_(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gTe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Op(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var gP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hT=new RegExp(gP.source,"g");function vTe(t){return function(){return t}}function yTe(t){return function(e){return t(e)+""}}function xTe(t,e){var n=gP.lastIndex=hT.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=gP.exec(t))&&(i=hT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:F_(r,i)})),n=hT.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?yTe(l[0].x):vTe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function Op(t,e){var n=typeof e,r;return e==null||n==="boolean"?QO(e):(n==="number"?F_:n==="string"?(r=_v(e))?(e=r,YF):xTe:e instanceof _v?YF:e instanceof Date?mTe:hTe(e)?dTe:Array.isArray(e)?pTe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gTe:F_)(t,e)}function eI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function _Te(t,e){e===void 0&&(e=t,t=Op);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function bTe(t){return function(){return t}}function B_(t){return+t}var KF=[0,1];function ki(t){return t}function vP(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bTe(isNaN(e)?NaN:.5)}function wTe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function STe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=vP(i,r),o=n(a,o)):(r=vP(r,i),o=n(o,a)),function(s){return o(r(s))}}function ETe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=vP(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=wy(t,s,1,r)-1;return o[l](i[l](s))}}function Ey(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function iS(){var t=KF,e=KF,n=Op,r,i,o,a=ki,s,l,c;function u(){var d=Math.min(t.length,e.length);return a!==ki&&(a=wTe(t[0],t[d-1])),s=d>2?ETe:STe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=s(e,t.map(r),F_)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,B_),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=eI,u()},f.clamp=function(d){return arguments.length?(a=d?!0:ki,u()):a!==ki},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function tI(){return iS()(ki,ki)}function MTe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function z_(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gh(t){return t=z_(Math.abs(t)),t?t[1]:NaN}function TTe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function ATe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var PTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bv(t){if(!(e=PTe.exec(t)))throw new Error("invalid format: "+t);var e;return new nI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bv.prototype=nI.prototype;function nI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CTe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var FW;function RTe(t,e){var n=z_(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(FW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+z_(t,Math.max(0,e+o-1))[0]}function ZF(t,e){var n=z_(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:MTe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ZF(t*100,e),r:ZF,s:RTe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QF(t){return t}var e4=Array.prototype.map,t4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OTe(t){var e=t.grouping===void 0||t.thousands===void 0?QF:TTe(e4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?QF:ATe(e4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=bv(f);var d=f.fill,h=f.align,g=f.sign,x=f.symbol,v=f.zero,y=f.width,_=f.comma,b=f.precision,w=f.trim,E=f.type;E==="n"?(_=!0,E="g"):JF[E]||(b===void 0&&(b=12),w=!0,E="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var M=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=x==="$"?r:/[%p]/.test(E)?a:"",O=JF[E],P=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(k){var D=M,G=T,N,$,H;if(E==="c")G=O(k)+G,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:O(Math.abs(k),b),w&&(k=CTe(k)),K&&+k==0&&g!=="+"&&(K=!1),D=(K?g==="("?g:s:g==="-"||g==="("?"":g)+D,G=(E==="s"?t4[8+FW/3]:"")+G+(K&&g==="("?")":""),P){for(N=-1,$=k.length;++N<$;)if(H=k.charCodeAt(N),48>H||H>57){G=(H===46?i+k.slice(N+1):k.slice(N))+G,k=k.slice(0,N);break}}}_&&!v&&(k=e(k,1/0));var U=D.length+k.length+G.length,F=U<y?new Array(y-U+1).join(d):"";switch(_&&v&&(k=e(F+k,F.length?y-G.length:1/0),F=""),h){case"<":k=D+k+G+F;break;case"=":k=D+F+k+G;break;case"^":k=F.slice(0,U=F.length>>1)+D+k+G+F.slice(U);break;default:k=F+D+k+G;break}return o(k)}return R.toString=function(){return f+""},R}function u(f,d){var h=c((f=bv(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Gh(d)/3)))*3,x=Math.pow(10,-g),v=t4[8+g/3];return function(y){return h(x*y)+v}}return{format:c,formatPrefix:u}}var Kx,rI,BW;ITe({thousands:",",grouping:[3],currency:["$",""]});function ITe(t){return Kx=OTe(t),rI=Kx.format,BW=Kx.formatPrefix,Kx}function NTe(t){return Math.max(0,-Gh(Math.abs(t)))}function DTe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gh(e)/3)))*3-Gh(Math.abs(t)))}function LTe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gh(e)-Gh(t))+1}function zW(t,e,n,r){var i=hP(t,e,n),o;switch(r=bv(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=DTe(i,a))&&(r.precision=o),BW(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=LTe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NTe(i))&&(r.precision=o-(r.type==="%")*2);break}}return rI(r)}function Hc(t){var e=t.domain;return t.ticks=function(n){var r=e();return fP(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return zW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,u=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);u-- >0;){if(c=dP(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function j_(){var t=tI();return t.copy=function(){return Ey(t,j_())},ia.apply(t,arguments),Hc(t)}function jW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,B_),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jW(t).unknown(e)},t=arguments.length?Array.from(t,B_):[0,1],Hc(n)}function HW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function n4(t){return Math.log(t)}function r4(t){return Math.exp(t)}function kTe(t){return-Math.log(-t)}function UTe(t){return-Math.exp(-t)}function FTe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BTe(t){return t===10?FTe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zTe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function i4(t){return(e,n)=>-t(-e,n)}function iI(t){const e=t(n4,r4),n=e.domain;let r=10,i,o;function a(){return i=zTe(r),o=BTe(r),n()[0]<0?(i=i4(i),o=i4(o),t(kTe,UTe)):t(n4,r4),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),g,x;const v=s==null?10:+s;let y=[];if(!(r%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(g=1;g<r;++g)if(x=d<0?g/o(-d):g*o(d),!(x<c)){if(x>u)break;y.push(x)}}else for(;d<=h;++d)for(g=r-1;g>=1;--g)if(x=d>0?g/o(-d):g*o(d),!(x<c)){if(x>u)break;y.push(x)}y.length*2<v&&(y=fP(c,u,v))}else y=fP(d,h,Math.min(h-d,v)).map(o);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=bv(l)).precision==null&&(l.trim=!0),l=rI(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(HW(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function VW(){const t=iI(iS()).domain([1,10]);return t.copy=()=>Ey(t,VW()).base(t.base()),ia.apply(t,arguments),t}function o4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function a4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oI(t){var e=1,n=t(o4(e),a4(e));return n.constant=function(r){return arguments.length?t(o4(e=+r),a4(e)):e},Hc(n)}function GW(){var t=oI(iS());return t.copy=function(){return Ey(t,GW()).constant(t.constant())},ia.apply(t,arguments)}function s4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jTe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function HTe(t){return t<0?-t*t:t*t}function aI(t){var e=t(ki,ki),n=1;function r(){return n===1?t(ki,ki):n===.5?t(jTe,HTe):t(s4(n),s4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Hc(e)}function sI(){var t=aI(iS());return t.copy=function(){return Ey(t,sI()).exponent(t.exponent())},ia.apply(t,arguments),t}function VTe(){return sI.apply(null,arguments).exponent(.5)}function l4(t){return Math.sign(t)*t*t}function GTe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $W(){var t=tI(),e=[0,1],n=!1,r;function i(o){var a=GTe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(l4(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,B_)).map(l4)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $W(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ia.apply(i,arguments),Hc(i)}function WW(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=YMe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[wy(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ec),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return WW().domain(t).range(e).unknown(r)},ia.apply(o,arguments)}function XW(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[wy(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return XW().domain([t,e]).range(i).unknown(o)},ia.apply(Hc(a),arguments)}function qW(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[wy(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return qW().domain(t).range(e).unknown(n)},ia.apply(i,arguments)}const pT=new Date,mT=new Date;function Rr(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>Rr(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(pT.setTime(+o),mT.setTime(+a),t(pT),t(mT),Math.floor(n(pT,mT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const H_=Rr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);H_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):H_);H_.range;const Ys=1e3,Zo=Ys*60,Ks=Zo*60,hl=Ks*24,lI=hl*7,c4=hl*30,gT=hl*365,Gu=Rr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ys)},(t,e)=>(e-t)/Ys,t=>t.getUTCSeconds());Gu.range;const cI=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ys)},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getMinutes());cI.range;const uI=Rr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zo)},(t,e)=>(e-t)/Zo,t=>t.getUTCMinutes());uI.range;const fI=Rr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ys-t.getMinutes()*Zo)},(t,e)=>{t.setTime(+t+e*Ks)},(t,e)=>(e-t)/Ks,t=>t.getHours());fI.range;const dI=Rr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ks)},(t,e)=>(e-t)/Ks,t=>t.getUTCHours());dI.range;const My=Rr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zo)/hl,t=>t.getDate()-1);My.range;const oS=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hl,t=>t.getUTCDate()-1);oS.range;const YW=Rr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/hl,t=>Math.floor(t/hl));YW.range;function Lf(t){return Rr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zo)/lI)}const aS=Lf(0),V_=Lf(1),$Te=Lf(2),WTe=Lf(3),$h=Lf(4),XTe=Lf(5),qTe=Lf(6);aS.range;V_.range;$Te.range;WTe.range;$h.range;XTe.range;qTe.range;function kf(t){return Rr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lI)}const sS=kf(0),G_=kf(1),YTe=kf(2),KTe=kf(3),Wh=kf(4),ZTe=kf(5),JTe=kf(6);sS.range;G_.range;YTe.range;KTe.range;Wh.range;ZTe.range;JTe.range;const hI=Rr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());hI.range;const pI=Rr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pI.range;const pl=Rr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());pl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});pl.range;const ml=Rr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ml.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ml.range;function KW(t,e,n,r,i,o){const a=[[Gu,1,Ys],[Gu,5,5*Ys],[Gu,15,15*Ys],[Gu,30,30*Ys],[o,1,Zo],[o,5,5*Zo],[o,15,15*Zo],[o,30,30*Zo],[i,1,Ks],[i,3,3*Ks],[i,6,6*Ks],[i,12,12*Ks],[r,1,hl],[r,2,2*hl],[n,1,lI],[e,1,c4],[e,3,3*c4],[t,1,gT]];function s(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),g=h?h.range(c,+u+1):[];return d?g.reverse():g}function l(c,u,f){const d=Math.abs(u-c)/f,h=KO(([,,v])=>v).right(a,d);if(h===a.length)return t.every(hP(c/gT,u/gT,f));if(h===0)return H_.every(Math.max(hP(c,u,f),1));const[g,x]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return g.every(x)}return[s,l]}const[QTe,eAe]=KW(ml,pI,sS,YW,dI,uI),[tAe,nAe]=KW(pl,hI,aS,My,fI,cI);function vT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Nm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rAe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Dm(i),u=Lm(i),f=Dm(o),d=Lm(o),h=Dm(a),g=Lm(a),x=Dm(s),v=Lm(s),y=Dm(l),_=Lm(l),b={a:K,A:U,b:F,B:j,c:null,d:m4,e:m4,f:TAe,g:kAe,G:FAe,H:SAe,I:EAe,j:MAe,L:ZW,m:AAe,M:PAe,p:z,q:X,Q:y4,s:x4,S:CAe,u:RAe,U:OAe,V:IAe,w:NAe,W:DAe,x:null,X:null,y:LAe,Y:UAe,Z:BAe,"%":v4},w={a:q,A:Z,b:ne,B:se,c:null,d:g4,e:g4,f:VAe,g:QAe,G:t2e,H:zAe,I:jAe,j:HAe,L:QW,m:GAe,M:$Ae,p:ae,q:ge,Q:y4,s:x4,S:WAe,u:XAe,U:qAe,V:YAe,w:KAe,W:ZAe,x:null,X:null,y:JAe,Y:e2e,Z:n2e,"%":v4},E={a:R,A:k,b:D,B:G,c:N,d:h4,e:h4,f:xAe,g:d4,G:f4,H:p4,I:p4,j:mAe,L:yAe,m:pAe,M:gAe,p:P,q:hAe,Q:bAe,s:wAe,S:vAe,u:lAe,U:cAe,V:uAe,w:sAe,W:fAe,x:$,X:H,y:d4,Y:f4,Z:dAe,"%":_Ae};b.x=M(n,b),b.X=M(r,b),b.c=M(e,b),w.x=M(n,w),w.X=M(r,w),w.c=M(e,w);function M(ce,ve){return function(he){var V=[],ye=-1,le=0,we=ce.length,ue,Fe,xe;for(he instanceof Date||(he=new Date(+he));++ye<we;)ce.charCodeAt(ye)===37&&(V.push(ce.slice(le,ye)),(Fe=u4[ue=ce.charAt(++ye)])!=null?ue=ce.charAt(++ye):Fe=ue==="e"?" ":"0",(xe=ve[ue])&&(ue=xe(he,Fe)),V.push(ue),le=ye+1);return V.push(ce.slice(le,ye)),V.join("")}}function T(ce,ve){return function(he){var V=Nm(1900,void 0,1),ye=O(V,ce,he+="",0),le,we;if(ye!=he.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ve&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(le=yT(Nm(V.y,0,1)),we=le.getUTCDay(),le=we>4||we===0?G_.ceil(le):G_(le),le=oS.offset(le,(V.V-1)*7),V.y=le.getUTCFullYear(),V.m=le.getUTCMonth(),V.d=le.getUTCDate()+(V.w+6)%7):(le=vT(Nm(V.y,0,1)),we=le.getDay(),le=we>4||we===0?V_.ceil(le):V_(le),le=My.offset(le,(V.V-1)*7),V.y=le.getFullYear(),V.m=le.getMonth(),V.d=le.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),we="Z"in V?yT(Nm(V.y,0,1)).getUTCDay():vT(Nm(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(we+5)%7:V.w+V.U*7-(we+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,yT(V)):vT(V)}}function O(ce,ve,he,V){for(var ye=0,le=ve.length,we=he.length,ue,Fe;ye<le;){if(V>=we)return-1;if(ue=ve.charCodeAt(ye++),ue===37){if(ue=ve.charAt(ye++),Fe=E[ue in u4?ve.charAt(ye++):ue],!Fe||(V=Fe(ce,he,V))<0)return-1}else if(ue!=he.charCodeAt(V++))return-1}return V}function P(ce,ve,he){var V=c.exec(ve.slice(he));return V?(ce.p=u.get(V[0].toLowerCase()),he+V[0].length):-1}function R(ce,ve,he){var V=h.exec(ve.slice(he));return V?(ce.w=g.get(V[0].toLowerCase()),he+V[0].length):-1}function k(ce,ve,he){var V=f.exec(ve.slice(he));return V?(ce.w=d.get(V[0].toLowerCase()),he+V[0].length):-1}function D(ce,ve,he){var V=y.exec(ve.slice(he));return V?(ce.m=_.get(V[0].toLowerCase()),he+V[0].length):-1}function G(ce,ve,he){var V=x.exec(ve.slice(he));return V?(ce.m=v.get(V[0].toLowerCase()),he+V[0].length):-1}function N(ce,ve,he){return O(ce,e,ve,he)}function $(ce,ve,he){return O(ce,n,ve,he)}function H(ce,ve,he){return O(ce,r,ve,he)}function K(ce){return a[ce.getDay()]}function U(ce){return o[ce.getDay()]}function F(ce){return l[ce.getMonth()]}function j(ce){return s[ce.getMonth()]}function z(ce){return i[+(ce.getHours()>=12)]}function X(ce){return 1+~~(ce.getMonth()/3)}function q(ce){return a[ce.getUTCDay()]}function Z(ce){return o[ce.getUTCDay()]}function ne(ce){return l[ce.getUTCMonth()]}function se(ce){return s[ce.getUTCMonth()]}function ae(ce){return i[+(ce.getUTCHours()>=12)]}function ge(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ve=M(ce+="",b);return ve.toString=function(){return ce},ve},parse:function(ce){var ve=T(ce+="",!1);return ve.toString=function(){return ce},ve},utcFormat:function(ce){var ve=M(ce+="",w);return ve.toString=function(){return ce},ve},utcParse:function(ce){var ve=T(ce+="",!0);return ve.toString=function(){return ce},ve}}}var u4={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,iAe=/^%/,oAe=/[\\^$*+?|[\]().{}]/g;function tn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function aAe(t){return t.replace(oAe,"\\$&")}function Dm(t){return new RegExp("^(?:"+t.map(aAe).join("|")+")","i")}function Lm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function sAe(t,e,n){var r=jr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function lAe(t,e,n){var r=jr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function f4(t,e,n){var r=jr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d4(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dAe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hAe(t,e,n){var r=jr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function h4(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function mAe(t,e,n){var r=jr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function p4(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function gAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vAe(t,e,n){var r=jr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function yAe(t,e,n){var r=jr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function xAe(t,e,n){var r=jr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _Ae(t,e,n){var r=iAe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bAe(t,e,n){var r=jr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wAe(t,e,n){var r=jr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function m4(t,e){return tn(t.getDate(),e,2)}function SAe(t,e){return tn(t.getHours(),e,2)}function EAe(t,e){return tn(t.getHours()%12||12,e,2)}function MAe(t,e){return tn(1+My.count(pl(t),t),e,3)}function ZW(t,e){return tn(t.getMilliseconds(),e,3)}function TAe(t,e){return ZW(t,e)+"000"}function AAe(t,e){return tn(t.getMonth()+1,e,2)}function PAe(t,e){return tn(t.getMinutes(),e,2)}function CAe(t,e){return tn(t.getSeconds(),e,2)}function RAe(t){var e=t.getDay();return e===0?7:e}function OAe(t,e){return tn(aS.count(pl(t)-1,t),e,2)}function JW(t){var e=t.getDay();return e>=4||e===0?$h(t):$h.ceil(t)}function IAe(t,e){return t=JW(t),tn($h.count(pl(t),t)+(pl(t).getDay()===4),e,2)}function NAe(t){return t.getDay()}function DAe(t,e){return tn(V_.count(pl(t)-1,t),e,2)}function LAe(t,e){return tn(t.getFullYear()%100,e,2)}function kAe(t,e){return t=JW(t),tn(t.getFullYear()%100,e,2)}function UAe(t,e){return tn(t.getFullYear()%1e4,e,4)}function FAe(t,e){var n=t.getDay();return t=n>=4||n===0?$h(t):$h.ceil(t),tn(t.getFullYear()%1e4,e,4)}function BAe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+tn(e/60|0,"0",2)+tn(e%60,"0",2)}function g4(t,e){return tn(t.getUTCDate(),e,2)}function zAe(t,e){return tn(t.getUTCHours(),e,2)}function jAe(t,e){return tn(t.getUTCHours()%12||12,e,2)}function HAe(t,e){return tn(1+oS.count(ml(t),t),e,3)}function QW(t,e){return tn(t.getUTCMilliseconds(),e,3)}function VAe(t,e){return QW(t,e)+"000"}function GAe(t,e){return tn(t.getUTCMonth()+1,e,2)}function $Ae(t,e){return tn(t.getUTCMinutes(),e,2)}function WAe(t,e){return tn(t.getUTCSeconds(),e,2)}function XAe(t){var e=t.getUTCDay();return e===0?7:e}function qAe(t,e){return tn(sS.count(ml(t)-1,t),e,2)}function e7(t){var e=t.getUTCDay();return e>=4||e===0?Wh(t):Wh.ceil(t)}function YAe(t,e){return t=e7(t),tn(Wh.count(ml(t),t)+(ml(t).getUTCDay()===4),e,2)}function KAe(t){return t.getUTCDay()}function ZAe(t,e){return tn(G_.count(ml(t)-1,t),e,2)}function JAe(t,e){return tn(t.getUTCFullYear()%100,e,2)}function QAe(t,e){return t=e7(t),tn(t.getUTCFullYear()%100,e,2)}function e2e(t,e){return tn(t.getUTCFullYear()%1e4,e,4)}function t2e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wh(t):Wh.ceil(t),tn(t.getUTCFullYear()%1e4,e,4)}function n2e(){return"+0000"}function v4(){return"%"}function y4(t){return+t}function x4(t){return Math.floor(+t/1e3)}var Td,t7,n7;r2e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r2e(t){return Td=rAe(t),t7=Td.format,Td.parse,n7=Td.utcFormat,Td.utcParse,Td}function i2e(t){return new Date(t)}function o2e(t){return t instanceof Date?+t:+new Date(+t)}function mI(t,e,n,r,i,o,a,s,l,c){var u=tI(),f=u.invert,d=u.domain,h=c(".%L"),g=c(":%S"),x=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),_=c("%b %d"),b=c("%B"),w=c("%Y");function E(M){return(l(M)<M?h:s(M)<M?g:a(M)<M?x:o(M)<M?v:r(M)<M?i(M)<M?y:_:n(M)<M?b:w)(M)}return u.invert=function(M){return new Date(f(M))},u.domain=function(M){return arguments.length?d(Array.from(M,o2e)):d().map(i2e)},u.ticks=function(M){var T=d();return t(T[0],T[T.length-1],M??10)},u.tickFormat=function(M,T){return T==null?E:c(T)},u.nice=function(M){var T=d();return(!M||typeof M.range!="function")&&(M=e(T[0],T[T.length-1],M??10)),M?d(HW(T,M)):u},u.copy=function(){return Ey(u,mI(t,e,n,r,i,o,a,s,l,c))},u}function a2e(){return ia.apply(mI(tAe,nAe,pl,hI,aS,My,fI,cI,Gu,t7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function s2e(){return ia.apply(mI(QTe,eAe,ml,pI,sS,oS,dI,uI,Gu,n7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lS(){var t=0,e=1,n,r,i,o,a=ki,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var h,g;return arguments.length?([h,g]=d,a=f(h,g),c):[a(0),a(1)]}}return c.range=u(Op),c.rangeRound=u(eI),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Vc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function r7(){var t=Hc(lS()(ki));return t.copy=function(){return Vc(t,r7())},Sl.apply(t,arguments)}function i7(){var t=iI(lS()).domain([1,10]);return t.copy=function(){return Vc(t,i7()).base(t.base())},Sl.apply(t,arguments)}function o7(){var t=oI(lS());return t.copy=function(){return Vc(t,o7()).constant(t.constant())},Sl.apply(t,arguments)}function gI(){var t=aI(lS());return t.copy=function(){return Vc(t,gI()).exponent(t.exponent())},Sl.apply(t,arguments)}function l2e(){return gI.apply(null,arguments).exponent(.5)}function a7(){var t=[],e=ki;function n(r){if(r!=null&&!isNaN(r=+r))return e((wy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ec),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qMe(t,o/r))},n.copy=function(){return a7(e).domain(t)},Sl.apply(n,arguments)}function cS(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=ki,u,f=!1,d;function h(x){return isNaN(x=+x)?d:(x=.5+((x=+u(x))-o)*(r*x<r*o?s:l),c(f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([t,e,n]=x,i=u(t=+t),o=u(e=+e),a=u(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(c=x,h):c};function g(x){return function(v){var y,_,b;return arguments.length?([y,_,b]=v,c=_Te(x,[y,_,b]),h):[c(0),c(.5),c(1)]}}return h.range=g(Op),h.rangeRound=g(eI),h.unknown=function(x){return arguments.length?(d=x,h):d},function(x){return u=x,i=x(t),o=x(e),a=x(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function s7(){var t=Hc(cS()(ki));return t.copy=function(){return Vc(t,s7())},Sl.apply(t,arguments)}function l7(){var t=iI(cS()).domain([.1,1,10]);return t.copy=function(){return Vc(t,l7()).base(t.base())},Sl.apply(t,arguments)}function c7(){var t=oI(cS());return t.copy=function(){return Vc(t,c7()).constant(t.constant())},Sl.apply(t,arguments)}function vI(){var t=aI(cS());return t.copy=function(){return Vc(t,vI()).exponent(t.exponent())},Sl.apply(t,arguments)}function c2e(){return vI.apply(null,arguments).exponent(.5)}const _4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vv,scaleDiverging:s7,scaleDivergingLog:l7,scaleDivergingPow:vI,scaleDivergingSqrt:c2e,scaleDivergingSymlog:c7,scaleIdentity:jW,scaleImplicit:pP,scaleLinear:j_,scaleLog:VW,scaleOrdinal:ZO,scalePoint:fg,scalePow:sI,scaleQuantile:WW,scaleQuantize:XW,scaleRadial:$W,scaleSequential:r7,scaleSequentialLog:i7,scaleSequentialPow:gI,scaleSequentialQuantile:a7,scaleSequentialSqrt:l2e,scaleSequentialSymlog:o7,scaleSqrt:VTe,scaleSymlog:GW,scaleThreshold:qW,scaleTime:a2e,scaleUtc:s2e,tickFormat:zW},Symbol.toStringTag,{value:"Module"}));var u2e=Sp;function f2e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!u2e(a):n(a,s)))var s=a,l=o}return l}var uS=f2e;function d2e(t,e){return t>e}var u7=d2e,h2e=uS,p2e=u7,m2e=Rp;function g2e(t){return t&&t.length?h2e(t,m2e,p2e):void 0}var v2e=g2e;const fS=rn(v2e);function y2e(t,e){return t<e}var f7=y2e,x2e=uS,_2e=f7,b2e=Rp;function w2e(t){return t&&t.length?x2e(t,b2e,_2e):void 0}var S2e=w2e;const dS=rn(S2e);var E2e=OO,M2e=ps,T2e=xW,A2e=oo;function P2e(t,e){var n=A2e(t)?E2e:T2e;return n(t,M2e(e))}var C2e=P2e,R2e=vW,O2e=C2e;function I2e(t,e){return R2e(O2e(t,e),1)}var N2e=I2e;const D2e=rn(N2e);var L2e=WO;function k2e(t,e){return L2e(t,e)}var U2e=k2e;const hS=rn(U2e);var Ip=1e9,F2e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xI,Un=!0,na="[DecimalError] ",cf=na+"Invalid argument: ",yI=na+"Exponent out of range: ",Np=Math.floor,Iu=Math.pow,B2e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,So,Ur=1e7,Nn=7,d7=9007199254740991,$_=Np(d7/Nn),ft={};ft.absoluteValue=ft.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ft.comparedTo=ft.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(t){return nl(this,new this.constructor(t))};ft.dividedToIntegerBy=ft.idiv=function(t){var e=this,n=e.constructor;return _n(nl(e,new n(t),0,1),n.precision)};ft.equals=ft.eq=function(t){return!this.cmp(t)};ft.exponent=function(){return yr(this)};ft.greaterThan=ft.gt=function(t){return this.cmp(t)>0};ft.greaterThanOrEqualTo=ft.gte=function(t){return this.cmp(t)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(t){return this.cmp(t)<0};ft.lessThanOrEqualTo=ft.lte=function(t){return this.cmp(t)<1};ft.logarithm=ft.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(So))throw Error(na+"NaN");if(n.s<1)throw Error(na+(n.s?"NaN":"-Infinity"));return n.eq(So)?new r(0):(Un=!1,e=nl(wv(n,o),wv(t,o),o),Un=!0,_n(e,i))};ft.minus=ft.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m7(e,t):h7(e,(t.s=-t.s,t))};ft.modulo=ft.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(na+"NaN");return n.s?(Un=!1,e=nl(n,t,0,1).times(t),Un=!0,n.minus(e)):_n(new r(n),i)};ft.naturalExponential=ft.exp=function(){return p7(this)};ft.naturalLogarithm=ft.ln=function(){return wv(this)};ft.negated=ft.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ft.plus=ft.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h7(e,t):m7(e,(t.s=-t.s,t))};ft.precision=ft.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cf+t);if(e=yr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ft.squareRoot=ft.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(na+"NaN")}for(t=yr(s),Un=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Za(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Np((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(nl(s,o,a+2)).times(.5),Za(o.d).slice(0,a)===(e=Za(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(_n(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Un=!0,_n(r,n)};ft.times=ft.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,f=u.constructor,d=u.d,h=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=h.length,l<c&&(o=d,d=h,h=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%Ur|0,e=s/Ur|0;o[i]=(o[i]+e)%Ur|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Un?_n(t,f.precision):t};ft.toDecimalPlaces=ft.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(us(t,0,Ip),e===void 0?e=r.rounding:us(e,0,8),_n(n,t+yr(n)+1,e))};ft.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ef(r,!0):(us(t,0,Ip),e===void 0?e=i.rounding:us(e,0,8),r=_n(new i(r),t+1,e),n=Ef(r,!0,t+1)),n};ft.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ef(i):(us(t,0,Ip),e===void 0?e=o.rounding:us(e,0,8),r=_n(new o(i),t+yr(i)+1,e),n=Ef(r.abs(),!1,t+yr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var t=this,e=t.constructor;return _n(new e(t),yr(t)+1,e.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(So);if(s=new l(s),!s.s){if(t.s<1)throw Error(na+"Infinity");return s}if(s.eq(So))return s;if(r=l.precision,t.eq(So))return _n(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=u<0?-u:u)<=d7){for(i=new l(So),e=Math.ceil(r/Nn+4),Un=!1;n%2&&(i=i.times(s),w4(i.d,e)),n=Np(n/2),n!==0;)s=s.times(s),w4(s.d,e);return Un=!0,t.s<0?new l(So).div(i):_n(i,r)}}else if(o<0)throw Error(na+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Un=!1,i=t.times(wv(s,r+c)),Un=!0,i=p7(i),i.s=o,i};ft.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=yr(i),r=Ef(i,n<=o.toExpNeg||n>=o.toExpPos)):(us(t,1,Ip),e===void 0?e=o.rounding:us(e,0,8),i=_n(new o(i),t,e),n=yr(i),r=Ef(i,t<=n||n<=o.toExpNeg,t)),r};ft.toSignificantDigits=ft.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(us(t,1,Ip),e===void 0?e=r.rounding:us(e,0,8)),_n(new r(n),t,e)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yr(t),n=t.constructor;return Ef(t,e<=n.toExpNeg||e>=n.toExpPos)};function h7(t,e){var n,r,i,o,a,s,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Un?_n(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/Nn),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/Ur|0,l[o]%=Ur;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Un?_n(e,f):e}function us(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cf+t)}function Za(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(o+=Yl(n)),o+=r;a=t[e],r=a+"",n=Nn-r.length,n&&(o+=Yl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var nl=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ur|0,a=o/Ur|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ur+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,u,f,d,h,g,x,v,y,_,b,w,E,M,T,O,P=r.constructor,R=r.s==i.s?1:-1,k=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(na+"Division by zero");for(l=r.e-i.e,T=D.length,E=k.length,h=new P(R),g=h.d=[],c=0;D[c]==(k[c]||0);)++c;if(D[c]>(k[c]||0)&&--l,o==null?_=o=P.precision:a?_=o+(yr(r)-yr(i))+1:_=o,_<0)return new P(0);if(_=_/Nn+2|0,c=0,T==1)for(u=0,D=D[0],_++;(c<E||u)&&_--;c++)b=u*Ur+(k[c]||0),g[c]=b/D|0,u=b%D|0;else{for(u=Ur/(D[0]+1)|0,u>1&&(D=t(D,u),k=t(k,u),T=D.length,E=k.length),w=T,x=k.slice(0,T),v=x.length;v<T;)x[v++]=0;O=D.slice(),O.unshift(0),M=D[0],D[1]>=Ur/2&&++M;do u=0,s=e(D,x,T,v),s<0?(y=x[0],T!=v&&(y=y*Ur+(x[1]||0)),u=y/M|0,u>1?(u>=Ur&&(u=Ur-1),f=t(D,u),d=f.length,v=x.length,s=e(f,x,d,v),s==1&&(u--,n(f,T<d?O:D,d))):(u==0&&(s=u=1),f=D.slice()),d=f.length,d<v&&f.unshift(0),n(x,f,v),s==-1&&(v=x.length,s=e(D,x,T,v),s<1&&(u++,n(x,T<v?O:D,v))),v=x.length):s===0&&(u++,x=[0]),g[c++]=u,s&&x[0]?x[v++]=k[w]||0:(x=[k[w]],v=1);while((w++<E||x[0]!==void 0)&&_--)}return g[0]||g.shift(),h.e=l,_n(h,a?o+yr(h)+1:o)}}();function p7(t,e){var n,r,i,o,a,s,l=0,c=0,u=t.constructor,f=u.precision;if(yr(t)>16)throw Error(yI+yr(t));if(!t.s)return new u(So);for(e==null?(Un=!1,s=f):s=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Iu(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new u(So),u.precision=s;;){if(i=_n(i.times(t),s),n=n.times(++l),a=o.plus(nl(i,n,s)),Za(a.d).slice(0,s)===Za(o.d).slice(0,s)){for(;c--;)o=_n(o.times(o),s);return u.precision=f,e==null?(Un=!0,_n(o,f)):o}o=a}}function yr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function xT(t,e,n){if(e>t.LN10.sd())throw Un=!0,n&&(t.precision=n),Error(na+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function Yl(t){for(var e="";t--;)e+="0";return e}function wv(t,e){var n,r,i,o,a,s,l,c,u,f=1,d=10,h=t,g=h.d,x=h.constructor,v=x.precision;if(h.s<1)throw Error(na+(h.s?"NaN":"-Infinity"));if(h.eq(So))return new x(0);if(e==null?(Un=!1,c=v):c=e,h.eq(10))return e==null&&(Un=!0),xT(x,c);if(c+=d,x.precision=c,n=Za(g),r=n.charAt(0),o=yr(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Za(h.d),r=n.charAt(0),f++;o=yr(h),r>1?(h=new x("0."+n),o++):h=new x(r+"."+n.slice(1))}else return l=xT(x,c+2,v).times(o+""),h=wv(new x(r+"."+n.slice(1)),c-d).plus(l),x.precision=v,e==null?(Un=!0,_n(h,v)):h;for(s=a=h=nl(h.minus(So),h.plus(So),c),u=_n(h.times(h),c),i=3;;){if(a=_n(a.times(u),c),l=s.plus(nl(a,new x(i),c)),Za(l.d).slice(0,c)===Za(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(xT(x,c+2,v).times(o+""))),s=nl(s,new x(f),c),x.precision=v,e==null?(Un=!0,_n(s,v)):s;s=l,i+=2}}function b4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Np(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Un&&(t.e>$_||t.e<-$_))throw Error(yI+n)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,n){var r,i,o,a,s,l,c,u,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=Nn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Nn),o=f.length,u>=o)return t;for(c=o=f[u],a=1;o>=10;o/=10)a++;r%=Nn,i=r-Nn+a}if(n!==void 0&&(o=Iu(10,a-i-1),s=c/o%10|0,l=e<0||f[u+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/Iu(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=yr(t),f.length=1,e=e-o-1,f[0]=Iu(10,(Nn-e%Nn)%Nn),t.e=Np(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,o=1,u--):(f.length=u+1,o=Iu(10,Nn-r),f[u]=i>0?(c/Iu(10,a-i)%Iu(10,i)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==Ur&&(f[0]=1,++t.e);break}else{if(f[u]+=o,f[u]!=Ur)break;f[u--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Un&&(t.e>$_||t.e<-$_))throw Error(yI+yr(t));return t}function m7(t,e){var n,r,i,o,a,s,l,c,u,f,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Un?_n(e,h):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(h/Nn),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ur-1;--l[o],l[i]+=Ur}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Un?_n(e,h):e):new d(0)}function Ef(t,e,n){var r,i=yr(t),o=Za(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Yl(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Yl(-i-1)+o,n&&(r=n-a)>0&&(o+=Yl(r))):i>=a?(o+=Yl(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Yl(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Yl(r))),t.s<0?"-"+o:o}function w4(t,e){if(t.length>e)return t.length=e,!0}function g7(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(cf+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return b4(a,o.toString())}else if(typeof o!="string")throw Error(cf+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,B2e.test(o))b4(a,o);else throw Error(cf+o)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g7,i.config=i.set=z2e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function z2e(t){if(!t||typeof t!="object")throw Error(na+"Object expected");var e,n,r,i=["precision",1,Ip,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Np(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(cf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cf+n+": "+r);return this}var xI=g7(F2e);So=new xI(1);const vn=xI;function j2e(t){return $2e(t)||G2e(t)||V2e(t)||H2e()}function H2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V2e(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function G2e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function $2e(t){if(Array.isArray(t))return yP(t)}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W2e=function(e){return e},v7={"@@functional/placeholder":!0},y7=function(e){return e===v7},S4=function(e){return function n(){return arguments.length===0||arguments.length===1&&y7(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},X2e=function t(e,n){return e===1?n:S4(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==v7}).length;return a>=e?n.apply(void 0,i):t(e-a,S4(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=i.map(function(f){return y7(f)?l.shift():f});return n.apply(void 0,j2e(u).concat(l))}))})},pS=function(e){return X2e(e.length,e)},xP=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},q2e=pS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Y2e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return W2e;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},_P=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},x7=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function K2e(t){var e;return t===0?e=1:e=Math.floor(new vn(t).abs().log(10).toNumber())+1,e}function Z2e(t,e,n){for(var r=new vn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var J2e=pS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Q2e=pS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ePe=pS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const mS={rangeStep:Z2e,getDigitCount:K2e,interpolateNumber:J2e,uninterpolateNumber:Q2e,uninterpolateTruncation:ePe};function bP(t){return rPe(t)||nPe(t)||_7(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function rPe(t){if(Array.isArray(t))return wP(t)}function Sv(t,e){return aPe(t)||oPe(t,e)||_7(t,e)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _7(t,e){if(t){if(typeof t=="string")return wP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(t,e)}}function wP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oPe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function aPe(t){if(Array.isArray(t))return t}function b7(t){var e=Sv(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function w7(t,e,n){if(t.lte(0))return new vn(0);var r=mS.getDigitCount(t.toNumber()),i=new vn(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new vn(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new vn(Math.ceil(l))}function sPe(t,e,n){var r=1,i=new vn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new vn(10).pow(mS.getDigitCount(t)-1),i=new vn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new vn(Math.floor(t)))}else t===0?i=new vn(Math.floor((e-1)/2)):n||(i=new vn(Math.floor(t)));var a=Math.floor((e-1)/2),s=Y2e(q2e(function(l){return i.add(new vn(l-a).mul(r)).toNumber()}),xP);return s(0,e)}function S7(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vn(0),tickMin:new vn(0),tickMax:new vn(0)};var o=w7(new vn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new vn(0):(a=new vn(t).add(e).div(2),a=a.sub(new vn(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new vn(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?S7(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new vn(s).mul(o)),tickMax:a.add(new vn(l).mul(o))})}function lPe(t){var e=Sv(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=b7([n,r]),l=Sv(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(bP(xP(0,i-1).map(function(){return 1/0}))):[].concat(bP(xP(0,i-1).map(function(){return-1/0})),[u]);return n>r?_P(f):f}if(c===u)return sPe(c,i,o);var d=S7(c,u,a,o),h=d.step,g=d.tickMin,x=d.tickMax,v=mS.rangeStep(g,x.add(new vn(.1).mul(h)),h);return n>r?_P(v):v}function cPe(t,e){var n=Sv(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=b7([r,i]),s=Sv(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=w7(new vn(c).sub(l).div(u-1),o,0),d=[].concat(bP(mS.rangeStep(new vn(l),new vn(c).sub(new vn(.99).mul(f)),f)),[c]);return r>i?_P(d):d}var uPe=x7(lPe),fPe=x7(cPe),dPe="Invariant failed";function Mf(t,e){throw new Error(dPe)}var hPe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function pPe(t,e){return yPe(t)||vPe(t,e)||gPe(t,e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(t,e){if(t){if(typeof t=="string")return E4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E4(t,e)}}function E4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function yPe(t){if(Array.isArray(t))return t}function xPe(t,e){if(t==null)return{};var n=_Pe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T7(r.key),r)}}function SPe(t,e,n){return e&&wPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EPe(t,e,n){return e=X_(e),MPe(t,E7()?Reflect.construct(e,n||[],X_(t).constructor):e.apply(t,n))}function MPe(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TPe(t)}function TPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X_(t)}function APe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SP(t,e)}function SP(t,e){return SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SP(t,e)}function M7(t,e,n){return e=T7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T7(t){var e=PPe(t,"string");return Xh(e)=="symbol"?e:e+""}function PPe(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gS=function(t){function e(){return bPe(this,e),EPe(this,e,arguments)}return APe(e,t),SPe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,d=xPe(r,hPe),h=Pt(d,!1);this.props.direction==="x"&&u.type!=="number"&&Mf();var g=l.map(function(x){var v=c(x,s),y=v.x,_=v.y,b=v.value,w=v.errorVal;if(!w)return null;var E=[],M,T;if(Array.isArray(w)){var O=pPe(w,2);M=O[0],T=O[1]}else M=T=w;if(o==="vertical"){var P=u.scale,R=_+i,k=R+a,D=R-a,G=P(b-M),N=P(b+T);E.push({x1:N,y1:k,x2:N,y2:D}),E.push({x1:G,y1:R,x2:N,y2:R}),E.push({x1:G,y1:k,x2:G,y2:D})}else if(o==="horizontal"){var $=f.scale,H=y+i,K=H-a,U=H+a,F=$(b-M),j=$(b+T);E.push({x1:K,y1:j,x2:U,y2:j}),E.push({x1:H,y1:F,x2:H,y2:j}),E.push({x1:K,y1:F,x2:U,y2:F})}return J.createElement(fn,W_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},h),E.map(function(z){return J.createElement("line",W_({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return J.createElement(fn,{className:"recharts-errorBars"},g)}}])}(J.Component);M7(gS,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});M7(gS,"displayName","ErrorBar");function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){CPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CPe(t,e,n){return e=RPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RPe(t){var e=OPe(t,"string");return Ev(e)=="symbol"?e:e+""}function OPe(t,e){if(Ev(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A7=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=xo(n,Sc);if(!a)return null;var s=Sc.defaultProps,l=s!==void 0?_u(_u({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(u,f){var d=f.item,h=f.props,g=h.sectors||h.data||[];return u.concat(g.map(function(x){return{type:a.props.iconType||d.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(u){var f=u.item,d=f.type.defaultProps,h=d!==void 0?_u(_u({},d),f.props):{},g=h.dataKey,x=h.name,v=h.legendType,y=h.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:_I(f),value:x||g,payload:h}}),_u(_u(_u({},l),Sc.getWithHeight(a,i)),{},{payload:c,item:a})};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function T4(t){return LPe(t)||DPe(t)||NPe(t)||IPe()}function IPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(t,e){if(t){if(typeof t=="string")return EP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EP(t,e)}}function DPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LPe(t){if(Array.isArray(t))return EP(t)}function EP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mh(t,e,n){return e=kPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kPe(t){var e=UPe(t,"string");return Mv(e)=="symbol"?e:e+""}function UPe(t,e){if(Mv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mi(t,e,n){return $t(t)||$t(e)?n:Tr(e)?Po(t,e,n):Rt(e)?e(t):n}function dg(t,e,n,r){var i=D2e(t,function(s){return mi(s,e)});if(n==="number"){var o=i.filter(function(s){return tt(s)||parseFloat(s)});return o.length?[dS(o),fS(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!$t(s)}):i;return a.map(function(s){return Tr(s)||s instanceof Date?s:""})}var FPe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var u=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,d=c>=s-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Di(f-u)!==Di(d-f)){var g=[];if(Di(d-f)===Di(l[1]-l[0])){h=d;var x=f+l[1]-l[0];g[0]=Math.min(x,(x+u)/2),g[1]=Math.max(x,(x+u)/2)}else{h=u;var v=d+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){a=i[c].index;break}}else{var _=Math.min(u,d),b=Math.max(u,d);if(e>(_+f)/2&&e<=(b+f)/2){a=i[c].index;break}}}else for(var w=0;w<s;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===s-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){a=r[w].index;break}return a},_I=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jn(Jn({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},BPe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var u=o[s[l]].stackGroups,f=Object.keys(u),d=0,h=f.length;d<h;d++){var g=u[f[d]],x=g.items,v=g.cateAxisId,y=x.filter(function(T){return el(T.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,b=_!==void 0?Jn(Jn({},_),y[0].props):y[0].props,w=b.barSize,E=b[v];a[E]||(a[E]=[]);var M=$t(w)?n:w;a[E].push({item:y[0],stackList:y.slice(1),barSize:$t(M)?void 0:Li(M,r,0)})}}return a},zPe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=Li(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=i/l,g=a.reduce(function(w,E){return w+E.barSize||0},0);g+=(l-1)*c,g>=i&&(g-=(l-1)*c,c=0),g>=i&&h>0&&(d=!0,h*=.9,g=l*h);var x=(i-g)/2>>0,v={offset:x-c,size:0};u=a.reduce(function(w,E){var M={item:E.item,position:{offset:v.offset+v.size+c,size:d?h:E.barSize}},T=[].concat(T4(w),[M]);return v=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){T.push({item:O,position:v})}),T},f)}else{var y=Li(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var _=(i-2*y-(l-1)*c)/l;_>1&&(_>>=0);var b=s===+s?Math.min(_,s):_;u=a.reduce(function(w,E,M){var T=[].concat(T4(w),[{item:E.item,position:{offset:y+(_+c)*M+(_-b)/2,size:b}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},f)}return u},jPe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=A7({children:o,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,h=c.align,g=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&g==="middle")&&h!=="center"&&tt(e[h]))return Jn(Jn({},e),{},mh({},h,e[h]+(f||0)));if((x==="horizontal"||x==="vertical"&&h==="center")&&g!=="middle"&&tt(e[g]))return Jn(Jn({},e),{},mh({},g,e[g]+(d||0)))}return e},HPe=function(e,n,r){return $t(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},P7=function(e,n,r,i,o){var a=n.props.children,s=Qo(a,gS).filter(function(c){return HPe(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=mi(u,r);if($t(f))return c;var d=Array.isArray(f)?[dS(f),fS(f)]:[f,f],h=l.reduce(function(g,x){var v=mi(u,x,0),y=d[0]-Math.abs(Array.isArray(v)?v[0]:v),_=d[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},VPe=function(e,n,r,i,o){var a=n.map(function(s){return P7(e,s,r,o,i)}).filter(function(s){return!$t(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},C7=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&P7(e,l,c,i)||dg(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)s[c[u]]||(s[c[u]]=!0,l.push(c[u]));return l},[])},R7=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},O7=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Zs=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Di(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!xy(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:o?o[f]:f,index:d,offset:c}})},_T=new WeakMap,Zx=function(e,n){if(typeof n!="function")return e;_T.has(e)||_T.set(e,new WeakMap);var r=_T.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},I7=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:vv(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:j_(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fg(),realScaleType:"point"}:o==="category"?{scale:vv(),realScaleType:"band"}:{scale:j_(),realScaleType:"linear"};if(_f(i)){var l="scale".concat(Zw(i));return{scale:(_4[l]||fg)(),realScaleType:_4[l]?l:"point"}}return Rt(i)?{scale:i}:{scale:fg(),realScaleType:"point"}},P4=1e-4,N7=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-P4,a=Math.max(i[0],i[1])+P4,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},GPe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},$Pe=function(e,n){if(!n||n.length!==2||!tt(n[0])||!tt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!tt(e[0])||e[0]<r)&&(o[0]=r),(!tt(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},WPe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=xy(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},XPe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=xy(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},qPe={sign:WPe,expand:hye,none:Bh,silhouette:pye,wiggle:mye,positive:XPe},YPe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=qPe[r],a=dye().keys(i).value(function(s,l){return+mi(s,l,0)}).order(Y2).offset(o);return a(e)},KPe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,d){var h,g=(h=d.type)!==null&&h!==void 0&&h.defaultProps?Jn(Jn({},d.type.defaultProps),d.props):d.props,x=g.stackId,v=g.hide;if(v)return f;var y=g[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Tr(x)){var b=_.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(d),_.hasStack=!0,_.stackGroups[x]=b}else _.stackGroups[_y("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Jn(Jn({},f),{},mh({},y,_))},l),u={};return Object.keys(c).reduce(function(f,d){var h=c[d];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(x,v){var y=h.stackGroups[v];return Jn(Jn({},x),{},mh({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:YPe(e,y.items,o)}))},g)}return Jn(Jn({},f),{},mh({},d,h))},u)},D7=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=uPe(c,o,s);return e.domain([dS(u),fS(u)]),{niceTicks:u}}if(o&&i==="number"){var f=e.domain(),d=fPe(f,o,s);return{niceTicks:d}}return null},C4=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=mi(a,n.dataKey,n.domain[s]);return $t(l)?null:n.scale(l)-o/2+i},ZPe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},JPe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jn(Jn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Tr(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},QPe=function(e){return e.reduce(function(n,r){return[dS(r.concat([n[0]]).filter(tt)),fS(r.concat([n[1]]).filter(tt))]},[1/0,-1/0])},L7=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,u){var f=QPe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},R4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,O4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MP=function(e,n,r){if(Rt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(tt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(R4.test(e[0])){var o=+R4.exec(e[0])[1];i[0]=n[0]-o}else Rt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(tt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(O4.test(e[1])){var a=+O4.exec(e[1])[1];i[1]=n[1]+a}else Rt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},q_=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=qO(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],u=o[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},I4=function(e,n,r){return!e||!e.length||hS(e,Po(r,"type.defaultProps.domain"))?n:e},k7=function(e,n){var r=e.type.defaultProps?Jn(Jn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Jn(Jn({},Pt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:_I(e),value:mi(n,i),type:l,payload:n,chartType:c,hide:u})};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){U7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U7(t,e,n){return e=eCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eCe(t){var e=tCe(t,"string");return Tv(e)=="symbol"?e:e+""}function tCe(t,e){if(Tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nCe(t,e){return aCe(t)||oCe(t,e)||iCe(t,e)||rCe()}function rCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iCe(t,e){if(t){if(typeof t=="string")return D4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D4(t,e)}}function D4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function aCe(t){if(Array.isArray(t))return t}var Y_=Math.PI/180,sCe=function(e){return e*180/Math.PI},Pn=function(e,n,r,i){return{x:e+Math.cos(-Y_*i)*r,y:n+Math.sin(-Y_*i)*r}},F7=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lCe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,c=e.endAngle,u=Li(e.cx,a,a/2),f=Li(e.cy,s,s/2),d=F7(a,s,r),h=Li(e.innerRadius,d,0),g=Li(e.outerRadius,d,d*.8),x=Object.keys(n);return x.reduce(function(v,y){var _=n[y],b=_.domain,w=_.reversed,E;if($t(_.range))i==="angleAxis"?E=[l,c]:i==="radiusAxis"&&(E=[h,g]),w&&(E=[E[1],E[0]]);else{E=_.range;var M=E,T=nCe(M,2);l=T[0],c=T[1]}var O=I7(_,o),P=O.realScaleType,R=O.scale;R.domain(b).range(E),N7(R);var k=D7(R,Bs(Bs({},_),{},{realScaleType:P})),D=Bs(Bs(Bs({},_),k),{},{range:E,radius:g,realScaleType:P,scale:R,cx:u,cy:f,innerRadius:h,outerRadius:g,startAngle:l,endAngle:c});return Bs(Bs({},v),{},U7({},y,D))},{})},cCe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},uCe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=cCe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:sCe(c),angleInRadian:c}},fCe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},dCe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},L4=function(e,n){var r=e.x,i=e.y,o=uCe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=fCe(n),f=u.startAngle,d=u.endAngle,h=s,g;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}return g?Bs(Bs({},n),{},{radius:a,angle:dCe(h,n)}):null},B7=function(e){return!L.isValidElement(e)&&!Rt(e)&&typeof e!="boolean"?e.className:""};function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}var hCe=["offset"];function pCe(t){return yCe(t)||vCe(t)||gCe(t)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gCe(t,e){if(t){if(typeof t=="string")return TP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TP(t,e)}}function vCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yCe(t){if(Array.isArray(t))return TP(t)}function TP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xCe(t,e){if(t==null)return{};var n=_Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){bCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bCe(t,e,n){return e=wCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wCe(t){var e=SCe(t,"string");return Av(e)=="symbol"?e:e+""}function SCe(t,e){if(Av(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Av(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}var ECe=function(e){var n=e.value,r=e.formatter,i=$t(e.children)?n:e.children;return Rt(r)?r(i):i},MCe=function(e,n){var r=Di(n-e),i=Math.min(Math.abs(n-e),360);return r*i},TCe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,h=l.startAngle,g=l.endAngle,x=l.clockWise,v=(f+d)/2,y=MCe(h,g),_=y>=0?1:-1,b,w;i==="insideStart"?(b=h+_*a,w=x):i==="insideEnd"?(b=g-_*a,w=!x):i==="end"&&(b=g+_*a,w=x),w=y<=0?w:!w;var E=Pn(c,u,v,b),M=Pn(c,u,v,b+(w?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(w?0:1,`,
    `).concat(M.x,",").concat(M.y),O=$t(e.id)?_y("recharts-radial-line-"):e.id;return J.createElement("text",Pv({},r,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",s)}),J.createElement("defs",null,J.createElement("path",{id:O,d:T})),J.createElement("textPath",{xlinkHref:"#".concat(O)},n))},ACe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,f=o.endAngle,d=(u+f)/2;if(i==="outside"){var h=Pn(a,s,c+r,d),g=h.x,x=h.y;return{x:g,y:x,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Pn(a,s,v,d),_=y.x,b=y.y;return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},PCe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,d=f*i,h=f>0?"end":"start",g=f>0?"start":"end",x=c>=0?1:-1,v=x*i,y=x>0?"end":"start",_=x>0?"start":"end";if(o==="top"){var b={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:h};return wr(wr({},b),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var w={x:s+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:g};return wr(wr({},w),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var E={x:s-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return wr(wr({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(o==="right"){var M={x:s+c+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"};return wr(wr({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:u}:{})}var T=r?{width:c,height:u}:{};return o==="insideLeft"?wr({x:s+v,y:l+u/2,textAnchor:_,verticalAnchor:"middle"},T):o==="insideRight"?wr({x:s+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):o==="insideTop"?wr({x:s+c/2,y:l+d,textAnchor:"middle",verticalAnchor:g},T):o==="insideBottom"?wr({x:s+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:h},T):o==="insideTopLeft"?wr({x:s+v,y:l+d,textAnchor:_,verticalAnchor:g},T):o==="insideTopRight"?wr({x:s+c-v,y:l+d,textAnchor:y,verticalAnchor:g},T):o==="insideBottomLeft"?wr({x:s+v,y:l+u-d,textAnchor:_,verticalAnchor:h},T):o==="insideBottomRight"?wr({x:s+c-v,y:l+u-d,textAnchor:y,verticalAnchor:h},T):Ep(o)&&(tt(o.x)||Hu(o.x))&&(tt(o.y)||Hu(o.y))?wr({x:s+Li(o.x,c),y:l+Li(o.y,u),textAnchor:"end",verticalAnchor:"end"},T):wr({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},CCe=function(e){return"cx"in e&&tt(e.cx)};function Br(t){var e=t.offset,n=e===void 0?5:e,r=xCe(t,hCe),i=wr({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!o||$t(s)&&$t(l)&&!L.isValidElement(c)&&!Rt(c))return null;if(L.isValidElement(c))return L.cloneElement(c,i);var h;if(Rt(c)){if(h=L.createElement(c,i),L.isValidElement(h))return h}else h=ECe(i);var g=CCe(o),x=Pt(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return TCe(i,h,x);var v=g?ACe(i):PCe(i);return J.createElement(Sf,Pv({className:zt("recharts-label",f)},x,v,{breakAll:d}),h)}Br.displayName="Label";var z7=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,h=e.top,g=e.left,x=e.width,v=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(tt(x)&&tt(v)){if(tt(f)&&tt(d))return{x:f,y:d,width:x,height:v};if(tt(h)&&tt(g))return{x:h,y:g,width:x,height:v}}return tt(f)&&tt(d)?{x:f,y:d,width:0,height:0}:tt(n)&&tt(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},RCe=function(e,n){return e?e===!0?J.createElement(Br,{key:"label-implicit",viewBox:n}):Tr(e)?J.createElement(Br,{key:"label-implicit",viewBox:n,value:e}):L.isValidElement(e)?e.type===Br?L.cloneElement(e,{key:"label-implicit",viewBox:n}):J.createElement(Br,{key:"label-implicit",content:e,viewBox:n}):Rt(e)?J.createElement(Br,{key:"label-implicit",content:e,viewBox:n}):Ep(e)?J.createElement(Br,Pv({viewBox:n},e,{key:"label-implicit"})):null:null},OCe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=z7(e),a=Qo(i,Br).map(function(l,c){return L.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=RCe(e.label,n||o);return[s].concat(pCe(a))};Br.parseViewBox=z7;Br.renderCallByParent=OCe;function ICe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var NCe=ICe;const DCe=rn(NCe);function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}var LCe=["valueAccessor"],kCe=["data","dataKey","clockWise","id","textBreakAll"];function UCe(t){return jCe(t)||zCe(t)||BCe(t)||FCe()}function FCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BCe(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function zCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jCe(t){if(Array.isArray(t))return AP(t)}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){HCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HCe(t,e,n){return e=VCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VCe(t){var e=GCe(t,"string");return Cv(e)=="symbol"?e:e+""}function GCe(t,e){if(Cv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B4(t,e){if(t==null)return{};var n=$Ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WCe=function(e){return Array.isArray(e.value)?DCe(e.value):e.value};function Mc(t){var e=t.valueAccessor,n=e===void 0?WCe:e,r=B4(t,LCe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=B4(r,kCe);return!i||!i.length?null:J.createElement(fn,{className:"recharts-label-list"},i.map(function(u,f){var d=$t(o)?n(u,f):mi(u&&u.payload,o),h=$t(s)?{}:{id:"".concat(s,"-").concat(f)};return J.createElement(Br,K_({},Pt(u,!0),c,h,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:Br.parseViewBox($t(a)?u:F4(F4({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Mc.displayName="LabelList";function XCe(t,e){return t?t===!0?J.createElement(Mc,{key:"labelList-implicit",data:e}):J.isValidElement(t)||Rt(t)?J.createElement(Mc,{key:"labelList-implicit",data:e,content:t}):Ep(t)?J.createElement(Mc,K_({data:e},t,{key:"labelList-implicit"})):null:null}function qCe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Qo(r,Mc).map(function(a,s){return L.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=XCe(t.label,e);return[o].concat(UCe(i))}Mc.renderCallByParent=qCe;function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function PP(){return PP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PP.apply(this,arguments)}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){YCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YCe(t,e,n){return e=KCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KCe(t){var e=ZCe(t,"string");return Rv(e)=="symbol"?e:e+""}function ZCe(t,e){if(Rv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JCe=function(e,n){var r=Di(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Jx=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(s?1:-1)+i,f=Math.asin(l/u)/Y_,d=c?o:o+a*f,h=Pn(n,r,u,d),g=Pn(n,r,i,d),x=c?o-a*f:o,v=Pn(n,r,u*Math.cos(f*Y_),x);return{center:h,circleTangency:g,lineTangency:v,theta:f}},j7=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=JCe(a,s),c=a+l,u=Pn(n,r,o,a),f=Pn(n,r,o,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=Pn(n,r,i,a),g=Pn(n,r,i,c);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},QCe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Di(u-c),d=Jx({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),h=d.circleTangency,g=d.lineTangency,x=d.theta,v=Jx({cx:n,cy:r,radius:o,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,_=v.lineTangency,b=v.theta,w=l?Math.abs(c-u):Math.abs(c-u)-x-b;if(w<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):j7({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var M=Jx({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=M.circleTangency,O=M.lineTangency,P=M.theta,R=Jx({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=R.circleTangency,D=R.lineTangency,G=R.theta,N=l?Math.abs(c-u):Math.abs(c-u)-P-G;if(N<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},eRe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H7=function(e){var n=j4(j4({},eRe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,d=n.className;if(a<o||u===f)return null;var h=zt("recharts-sector",d),g=a-o,x=Li(s,g,0,!0),v;return x>0&&Math.abs(u-f)<360?v=QCe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(x,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=j7({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:u,endAngle:f}),J.createElement("path",PP({},Pt(n,!0),{className:h,d:v,role:"img"}))};function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function CP(){return CP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CP.apply(this,arguments)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){tRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tRe(t,e,n){return e=nRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nRe(t){var e=rRe(t,"string");return Ov(e)=="symbol"?e:e+""}function rRe(t,e){if(Ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G4={curveBasisClosed:tye,curveBasisOpen:nye,curveBasis:eye,curveBumpX:zve,curveBumpY:jve,curveLinearClosed:rye,curveLinear:Qw,curveMonotoneX:iye,curveMonotoneY:oye,curveNatural:aye,curveStep:sye,curveStepAfter:cye,curveStepBefore:lye},Qx=function(e){return e.x===+e.x&&e.y===+e.y},km=function(e){return e.x},Um=function(e){return e.y},iRe=function(e,n){if(Rt(e))return e;var r="curve".concat(Zw(e));return(r==="curveMonotone"||r==="curveBump")&&n?G4["".concat(r).concat(n==="vertical"?"Y":"X")]:G4[r]||Qw},oRe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=iRe(r,s),f=c?o.filter(function(x){return Qx(x)}):o,d;if(Array.isArray(a)){var h=c?a.filter(function(x){return Qx(x)}):a,g=f.map(function(x,v){return V4(V4({},x),{},{base:h[v]})});return s==="vertical"?d=Vx().y(Um).x1(km).x0(function(x){return x.base.x}):d=Vx().x(km).y1(Um).y0(function(x){return x.base.y}),d.defined(Qx).curve(u),d(g)}return s==="vertical"&&tt(a)?d=Vx().y(Um).x1(km).x0(a):tt(a)?d=Vx().x(km).y1(Um).y0(a):d=k$().x(km).y(Um),d.defined(Qx).curve(u),d(f)},RP=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?oRe(e):i;return L.createElement("path",CP({},Pt(e,!1),__(e),{className:zt("recharts-curve",n),d:a,ref:o}))},aRe=Object.getOwnPropertyNames,sRe=Object.getOwnPropertySymbols,lRe=Object.prototype.hasOwnProperty;function $4(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function e1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function W4(t){return aRe(t).concat(sRe(t))}var cRe=Object.hasOwn||function(t,e){return lRe.call(t,e)};function Uf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var uRe="__v",fRe="__o",dRe="_owner",X4=Object.getOwnPropertyDescriptor,q4=Object.keys;function hRe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function pRe(t,e){return Uf(t.getTime(),e.getTime())}function mRe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function gRe(t,e){return t===e}function Y4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),a,s,l=0;(a=o.next())&&!a.done;){for(var c=e.entries(),u=!1,f=0;(s=c.next())&&!s.done;){if(i[f]){f++;continue}var d=a.value,h=s.value;if(n.equals(d[0],h[0],l,f,t,e,n)&&n.equals(d[1],h[1],d[0],h[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var vRe=Uf;function yRe(t,e,n){var r=q4(t),i=r.length;if(q4(e).length!==i)return!1;for(;i-- >0;)if(!V7(t,e,n,r[i]))return!1;return!0}function Fm(t,e,n){var r=W4(t),i=r.length;if(W4(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],!V7(t,e,n,o)||(a=X4(t,o),s=X4(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function xRe(t,e){return Uf(t.valueOf(),e.valueOf())}function _Re(t,e){return t.source===e.source&&t.flags===e.flags}function K4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),a,s;(a=o.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(s=l.next())&&!s.done;){if(!i[u]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function bRe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function wRe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function V7(t,e,n,r){return(r===dRe||r===fRe||r===uRe)&&(t.$$typeof||e.$$typeof)?!0:cRe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var SRe="[object Arguments]",ERe="[object Boolean]",MRe="[object Date]",TRe="[object Error]",ARe="[object Map]",PRe="[object Number]",CRe="[object Object]",RRe="[object RegExp]",ORe="[object Set]",IRe="[object String]",NRe="[object URL]",DRe=Array.isArray,Z4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,J4=Object.assign,LRe=Object.prototype.toString.call.bind(Object.prototype.toString);function kRe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(g,x,v){if(g===x)return!0;if(g==null||x==null)return!1;var y=typeof g;if(y!==typeof x)return!1;if(y!=="object")return y==="number"?a(g,x,v):y==="function"?i(g,x,v):!1;var _=g.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(g,x,v);if(DRe(g))return e(g,x,v);if(Z4!=null&&Z4(g))return f(g,x,v);if(_===Date)return n(g,x,v);if(_===RegExp)return c(g,x,v);if(_===Map)return o(g,x,v);if(_===Set)return u(g,x,v);var b=LRe(g);return b===MRe?n(g,x,v):b===RRe?c(g,x,v):b===ARe?o(g,x,v):b===ORe?u(g,x,v):b===CRe?typeof g.then!="function"&&typeof x.then!="function"&&s(g,x,v):b===NRe?d(g,x,v):b===TRe?r(g,x,v):b===SRe?s(g,x,v):b===ERe||b===PRe||b===IRe?l(g,x,v):!1}}function URe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Fm:hRe,areDatesEqual:pRe,areErrorsEqual:mRe,areFunctionsEqual:gRe,areMapsEqual:r?$4(Y4,Fm):Y4,areNumbersEqual:vRe,areObjectsEqual:r?Fm:yRe,arePrimitiveWrappersEqual:xRe,areRegExpsEqual:_Re,areSetsEqual:r?$4(K4,Fm):K4,areTypedArraysEqual:r?Fm:bRe,areUrlsEqual:wRe};if(n&&(i=J4({},i,n(i))),e){var o=e1(i.areArraysEqual),a=e1(i.areMapsEqual),s=e1(i.areObjectsEqual),l=e1(i.areSetsEqual);i=J4({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function FRe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function BRe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,h=u.meta;return n(l,c,{cache:d,equals:i,meta:h,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var zRe=Gc();Gc({strict:!0});Gc({circular:!0});Gc({circular:!0,strict:!0});Gc({createInternalComparator:function(){return Uf}});Gc({strict:!0,createInternalComparator:function(){return Uf}});Gc({circular:!0,createInternalComparator:function(){return Uf}});Gc({circular:!0,createInternalComparator:function(){return Uf},strict:!0});function Gc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=URe(t),l=kRe(s),c=r?r(l):FRe(l);return BRe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function jRe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Q4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):jRe(i)};requestAnimationFrame(r)}function OP(t){"@babel/helpers - typeof";return OP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OP(t)}function HRe(t){return WRe(t)||$Re(t)||GRe(t)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GRe(t,e){if(t){if(typeof t=="string")return eB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eB(t,e)}}function eB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WRe(t){if(Array.isArray(t))return t}function XRe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=HRe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){Q4(i.bind(null,c),l);return}i(l),Q4(i.bind(null,c));return}OP(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function tB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(n),!0).forEach(function(r){G7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G7(t,e,n){return e=qRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qRe(t){var e=YRe(t,"string");return Iv(e)==="symbol"?e:String(e)}function YRe(t,e){if(Iv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Iv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KRe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},ZRe=function(e){return e},JRe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hg=function(e,n){return Object.keys(n).reduce(function(r,i){return nB(nB({},r),{},G7({},i,e(i,n[i])))},{})},rB=function(e,n,r){return e.map(function(i){return"".concat(JRe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function QRe(t,e){return nOe(t)||tOe(t,e)||$7(t,e)||eOe()}function eOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function nOe(t){if(Array.isArray(t))return t}function rOe(t){return aOe(t)||oOe(t)||$7(t)||iOe()}function iOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7(t,e){if(t){if(typeof t=="string")return IP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IP(t,e)}}function oOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aOe(t){if(Array.isArray(t))return IP(t)}function IP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z_=1e-4,W7=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},X7=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},iB=function(e,n){return function(r){var i=W7(e,n);return X7(i,r)}},sOe=function(e,n){return function(r){var i=W7(e,n),o=[].concat(rOe(i.map(function(a,s){return a*s}).slice(1)),[0]);return X7(o,r)}},oB=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=QRe(c,4);i=u[0],o=u[1],a=u[2],s=u[3]}}}var f=iB(i,a),d=iB(o,s),h=sOe(i,a),g=function(y){return y>1?1:y<0?0:y},x=function(y){for(var _=y>1?1:y,b=_,w=0;w<8;++w){var E=f(b)-_,M=h(b);if(Math.abs(E-_)<Z_||M<Z_)return d(b);b=g(b-E/M)}return d(b)};return x.isStepper=!1,x},lOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(u,f,d){var h=-(u-f)*r,g=d*o,x=d+(h-g)*s/1e3,v=d*s/1e3+u;return Math.abs(v-f)<Z_&&Math.abs(x)<Z_?[f,0]:[v,x]};return l.isStepper=!0,l.dt=s,l},cOe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oB(i);case"spring":return lOe();default:if(i.split("(")[0]==="cubic-bezier")return oB(i)}return typeof i=="function"?i:null};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function aB(t){return dOe(t)||fOe(t)||q7(t)||uOe()}function uOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dOe(t){if(Array.isArray(t))return DP(t)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){NP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NP(t,e,n){return e=hOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hOe(t){var e=pOe(t,"string");return Nv(e)==="symbol"?e:String(e)}function pOe(t,e){if(Nv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mOe(t,e){return yOe(t)||vOe(t,e)||q7(t,e)||gOe()}function gOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q7(t,e){if(t){if(typeof t=="string")return DP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DP(t,e)}}function DP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function yOe(t){if(Array.isArray(t))return t}var J_=function(e,n,r){return e+(n-e)*r},LP=function(e){var n=e.from,r=e.to;return n!==r},xOe=function t(e,n,r){var i=hg(function(o,a){if(LP(a)){var s=e(a.from,a.to,a.velocity),l=mOe(s,2),c=l[0],u=l[1];return Wr(Wr({},a),{},{from:c,velocity:u})}return a},n);return r<1?hg(function(o,a){return LP(a)?Wr(Wr({},a),{},{velocity:J_(a.velocity,i[o].velocity,r),from:J_(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const _Oe=function(t,e,n,r,i){var o=KRe(t,e),a=o.reduce(function(v,y){return Wr(Wr({},v),{},NP({},y,[t[y],e[y]]))},{}),s=o.reduce(function(v,y){return Wr(Wr({},v),{},NP({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return hg(function(y,_){return _.from},s)},h=function(){return!Object.values(s).filter(LP).length},g=function(y){c||(c=y);var _=y-c,b=_/n.dt;s=xOe(n,s,b),i(Wr(Wr(Wr({},t),e),d())),c=y,h()||(l=requestAnimationFrame(f))},x=function(y){u||(u=y);var _=(y-u)/r,b=hg(function(E,M){return J_.apply(void 0,aB(M).concat([n(_)]))},a);if(i(Wr(Wr(Wr({},t),e),b)),_<1)l=requestAnimationFrame(f);else{var w=hg(function(E,M){return J_.apply(void 0,aB(M).concat([n(1)]))},a);i(Wr(Wr(Wr({},t),e),w))}};return f=n.isStepper?g:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}var bOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wOe(t,e){if(t==null)return{};var n=SOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SOe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bT(t){return AOe(t)||TOe(t)||MOe(t)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function TOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AOe(t){if(Array.isArray(t))return kP(t)}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(n),!0).forEach(function(r){$m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $m(t,e,n){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function POe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function COe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y7(r.key),r)}}function ROe(t,e,n){return e&&COe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y7(t){var e=OOe(t,"string");return qh(e)==="symbol"?e:String(e)}function OOe(t,e){if(qh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UP(t,e)}function UP(t,e){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UP(t,e)}function NOe(t){var e=DOe();return function(){var r=Q_(t),i;if(e){var o=Q_(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return FP(this,i)}}function FP(t,e){if(e&&(qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BP(t)}function BP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q_(t)}var gl=function(t){IOe(n,t);var e=NOe(n);function n(r,i){var o;POe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,d=a.children,h=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(BP(o)),o.changeStyle=o.changeStyle.bind(BP(o)),!s||h<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:u}),FP(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof d=="function")return o.state={style:c},FP(o);o.state={style:l?$m({},l,c):c}}else o.state={style:{}};return o}return ROe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,f=o.from,d=this.state.style;if(s){if(!a){var h={style:l?$m({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(h);return}if(!(zRe(i.to,u)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||c?f:i.to;if(this.state&&d){var v={style:l?$m({},l,x):x};(l&&d[l]!==x||!l&&d!==x)&&this.setState(v)}this.runAnimation(da(da({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,h=_Oe(a,s,cOe(c),l,this.changeStyle),g=function(){o.stopJSAnimation=h()};this.manager.start([d,u,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,d=f===void 0?0:f,h=function(x,v,y){if(y===0)return x;var _=v.duration,b=v.easing,w=b===void 0?"ease":b,E=v.style,M=v.properties,T=v.onAnimationEnd,O=y>0?a[y-1]:v,P=M||Object.keys(E);if(typeof w=="function"||w==="spring")return[].concat(bT(x),[o.runJSAnimation.bind(o,{from:O.style,to:E,duration:_,easing:w}),_]);var R=rB(P,_,w),k=da(da(da({},O.style),E),{},{transition:R});return[].concat(bT(x),[k,_,T]).filter(ZRe)};return this.manager.start([l].concat(bT(a.reduce(h,[u,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=XRe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var x=s?$m({},s,l):l,v=rB(Object.keys(x),a,c);g.start([u,o,da(da({},x),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=wOe(i,bOe),c=L.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!s||c===0||a<=0)return o;var f=function(h){var g=h.props,x=g.style,v=x===void 0?{}:x,y=g.className,_=L.cloneElement(h,da(da({},l),{},{style:da(da({},v),u),className:y}));return _};return c===1?f(L.Children.only(o)):J.createElement("div",null,L.Children.map(o,function(d){return f(d)}))}}]),n}(L.PureComponent);gl.displayName="Animate";gl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gl.propTypes={from:an.oneOfType([an.object,an.string]),to:an.oneOfType([an.object,an.string]),attributeName:an.string,duration:an.number,begin:an.number,easing:an.oneOfType([an.string,an.func]),steps:an.arrayOf(an.shape({duration:an.number.isRequired,style:an.object.isRequired,easing:an.oneOfType([an.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),an.func]),properties:an.arrayOf("string"),onAnimationEnd:an.func})),children:an.oneOfType([an.node,an.func]),isActive:an.bool,canBegin:an.bool,onAnimationEnd:an.func,shouldReAnimate:an.bool,onAnimationStart:an.func,onAnimationReStart:an.func};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function eb(){return eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eb.apply(this,arguments)}function LOe(t,e){return BOe(t)||FOe(t,e)||UOe(t,e)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UOe(t,e){if(t){if(typeof t=="string")return cB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cB(t,e)}}function cB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function BOe(t){if(Array.isArray(t))return t}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){zOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zOe(t,e,n){return e=jOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jOe(t){var e=HOe(t,"string");return Dv(e)=="symbol"?e:e+""}function HOe(t,e){if(Dv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dB=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,h=4;d<h;d++)f[d]=o[d]>a?a:o[d];u="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),u+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);u="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*g," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},VOe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),u=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=d}return!1},GOe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bI=function(e){var n=fB(fB({},GOe),e),r=L.useRef(),i=L.useState(-1),o=LOe(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,d=n.radius,h=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var b=zt("recharts-rectangle",h);return _?J.createElement(gl,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:x,animationEasing:g,isActive:_},function(w){var E=w.width,M=w.height,T=w.x,O=w.y;return J.createElement(gl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:y,easing:g},J.createElement("path",eb({},Pt(n,!0),{className:b,d:dB(T,O,E,M,d),ref:r})))}):J.createElement("path",eb({},Pt(n,!0),{className:b,d:dB(l,c,u,f,d)}))},$Oe=["points","className","baseLinePoints","connectNulls"];function Qd(){return Qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function WOe(t,e){if(t==null)return{};var n=XOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hB(t){return ZOe(t)||KOe(t)||YOe(t)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YOe(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function KOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZOe(t){if(Array.isArray(t))return zP(t)}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pB=function(e){return e&&e.x===+e.x&&e.y===+e.y},JOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){pB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),pB(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pg=function(e,n){var r=JOe(e);n&&(r=[r.reduce(function(o,a){return[].concat(hB(o),hB(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},QOe=function(e,n,r){var i=pg(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(pg(n.reverse(),r).slice(1))},eIe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=WOe(e,$Oe);if(!n||!n.length)return null;var s=zt("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=QOe(n,i,o);return J.createElement("g",{className:s},J.createElement("path",Qd({},Pt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?J.createElement("path",Qd({},Pt(a,!0),{fill:"none",d:pg(n,o)})):null,l?J.createElement("path",Qd({},Pt(a,!0),{fill:"none",d:pg(i,o)})):null)}var u=pg(n,o);return J.createElement("path",Qd({},Pt(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function jP(){return jP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jP.apply(this,arguments)}var wI=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=zt("recharts-dot",o);return n===+n&&r===+r&&i===+i?L.createElement("circle",jP({},Pt(e,!1),__(e),{className:a,cx:n,cy:r,r:i})):null};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}var tIe=["x","y","top","left","width","height","className"];function HP(){return HP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HP.apply(this,arguments)}function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nIe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){rIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rIe(t,e,n){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iIe(t){var e=oIe(t,"string");return Lv(e)=="symbol"?e:e+""}function oIe(t,e){if(Lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aIe(t,e){if(t==null)return{};var n=sIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lIe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},cIe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,h=d===void 0?0:d,g=e.className,x=aIe(e,tIe),v=nIe({x:r,y:o,top:s,left:c,width:f,height:h},x);return!tt(r)||!tt(o)||!tt(f)||!tt(h)||!tt(s)||!tt(c)?null:J.createElement("path",HP({},Pt(v,!0),{className:zt("recharts-cross",g),d:lIe(r,o,f,h,s,c)}))},uIe=uS,fIe=u7,dIe=ps;function hIe(t,e){return t&&t.length?uIe(t,dIe(e),fIe):void 0}var pIe=hIe;const mIe=rn(pIe);var gIe=uS,vIe=ps,yIe=f7;function xIe(t,e){return t&&t.length?gIe(t,vIe(e),yIe):void 0}var _Ie=xIe;const bIe=rn(_Ie);var wIe=["cx","cy","angle","ticks","axisLine"],SIe=["ticks","tick","angle","tickFormatter","stroke"];function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){vS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vB(t,e){if(t==null)return{};var n=EIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z7(r.key),r)}}function TIe(t,e,n){return e&&yB(t.prototype,e),n&&yB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function AIe(t,e,n){return e=tb(e),PIe(t,K7()?Reflect.construct(e,n||[],tb(t).constructor):e.apply(t,n))}function PIe(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CIe(t)}function CIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tb(t)}function RIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VP(t,e)}function VP(t,e){return VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VP(t,e)}function vS(t,e,n){return e=Z7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z7(t){var e=OIe(t,"string");return Yh(e)=="symbol"?e:e+""}function OIe(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yS=function(t){function e(){return MIe(this,e),AIe(this,e,arguments)}return RIe(e,t),TIe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Pn(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=mIe(s,function(u){return u.coordinate||0}),c=bIe(s,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,c=vB(r,wIe),u=s.reduce(function(g,x){return[Math.min(g[0],x.coordinate),Math.max(g[1],x.coordinate)]},[1/0,-1/0]),f=Pn(i,o,u[0],a),d=Pn(i,o,u[1],a),h=bu(bu(bu({},Pt(c,!1)),{},{fill:"none"},Pt(l,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return J.createElement("line",mg({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,c=i.stroke,u=vB(i,SIe),f=this.getTickTextAnchor(),d=Pt(u,!1),h=Pt(a,!1),g=o.map(function(x,v){var y=r.getTickValueCoord(x),_=bu(bu(bu(bu({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(y.x,", ").concat(y.y,")")},d),{},{stroke:"none",fill:c},h),{},{index:v},y),{},{payload:x});return J.createElement(fn,mg({className:zt("recharts-polar-radius-axis-tick",B7(a)),key:"tick-".concat(x.coordinate)},bf(r.props,x,v)),e.renderTickItem(a,_,l?l(x.value,v):x.value))});return J.createElement(fn,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:J.createElement(fn,{className:zt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return J.isValidElement(r)?a=J.cloneElement(r,i):Rt(r)?a=r(i):a=J.createElement(Sf,mg({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(L.PureComponent);vS(yS,"displayName","PolarRadiusAxis");vS(yS,"axisType","radiusAxis");vS(yS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){xS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q7(r.key),r)}}function NIe(t,e,n){return e&&_B(t.prototype,e),n&&_B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DIe(t,e,n){return e=nb(e),LIe(t,J7()?Reflect.construct(e,n||[],nb(t).constructor):e.apply(t,n))}function LIe(t,e){if(e&&(Kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kIe(t)}function kIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!t})()}function nb(t){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nb(t)}function UIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GP(t,e)}function GP(t,e){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GP(t,e)}function xS(t,e,n){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q7(t){var e=FIe(t,"string");return Kh(e)=="symbol"?e:e+""}function FIe(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BIe=Math.PI/180,bB=1e-5,_S=function(t){function e(){return IIe(this,e),DIe(this,e,arguments)}return UIe(e,t),NIe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,c=i.tickSize,u=c||8,f=Pn(o,a,s,r.coordinate),d=Pn(o,a,s+(l==="inner"?-1:1)*u,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*BIe),a;return o>bB?a=i==="outer"?"start":"end":o<-bB?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,c=wu(wu({},Pt(this.props,!1)),{},{fill:"none"},Pt(s,!1));if(l==="circle")return J.createElement(wI,Du({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:a}));var u=this.props.ticks,f=u.map(function(d){return Pn(i,o,a,d.coordinate)});return J.createElement(eIe,Du({className:"recharts-polar-angle-axis-line"},c,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Pt(this.props,!1),f=Pt(a,!1),d=wu(wu({},u),{},{fill:"none"},Pt(s,!1)),h=o.map(function(g,x){var v=r.getTickLineCoord(g),y=r.getTickTextAnchor(g),_=wu(wu(wu({textAnchor:y},u),{},{stroke:"none",fill:c},f),{},{index:x,payload:g,x:v.x2,y:v.y2});return J.createElement(fn,Du({className:zt("recharts-polar-angle-axis-tick",B7(a)),key:"tick-".concat(g.coordinate)},bf(r.props,g,x)),s&&J.createElement("line",Du({className:"recharts-polar-angle-axis-tick-line"},d,v)),a&&e.renderTickItem(a,_,l?l(g.value,x):g.value))});return J.createElement(fn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:J.createElement(fn,{className:zt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return J.isValidElement(r)?a=J.cloneElement(r,i):Rt(r)?a=r(i):a=J.createElement(Sf,Du({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(L.PureComponent);xS(_S,"displayName","PolarAngleAxis");xS(_S,"axisType","angleAxis");xS(_S,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zIe=aW,jIe=zIe(Object.getPrototypeOf,Object),HIe=jIe,VIe=bl,GIe=HIe,$Ie=wl,WIe="[object Object]",XIe=Function.prototype,qIe=Object.prototype,e9=XIe.toString,YIe=qIe.hasOwnProperty,KIe=e9.call(Object);function ZIe(t){if(!$Ie(t)||VIe(t)!=WIe)return!1;var e=GIe(t);if(e===null)return!0;var n=YIe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&e9.call(n)==KIe}var JIe=ZIe;const QIe=rn(JIe);var eNe=bl,tNe=wl,nNe="[object Boolean]";function rNe(t){return t===!0||t===!1||tNe(t)&&eNe(t)==nNe}var iNe=rNe;const oNe=rn(iNe);function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function aNe(t,e){return uNe(t)||cNe(t,e)||lNe(t,e)||sNe()}function sNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(t,e){if(t){if(typeof t=="string")return wB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wB(t,e)}}function wB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function uNe(t){if(Array.isArray(t))return t}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){fNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fNe(t,e,n){return e=dNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dNe(t){var e=hNe(t,"string");return kv(e)=="symbol"?e:e+""}function hNe(t,e){if(kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MB=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},pNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mNe=function(e){var n=EB(EB({},pNe),e),r=L.useRef(),i=L.useState(-1),o=aNe(i,2),a=o[0],s=o[1];L.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,d=n.height,h=n.className,g=n.animationEasing,x=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var _=zt("recharts-trapezoid",h);return y?J.createElement(gl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:x,animationEasing:g,isActive:y},function(b){var w=b.upperWidth,E=b.lowerWidth,M=b.height,T=b.x,O=b.y;return J.createElement(gl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:g},J.createElement("path",rb({},Pt(n,!0),{className:_,d:MB(T,O,w,E,M),ref:r})))}):J.createElement("g",null,J.createElement("path",rb({},Pt(n,!0),{className:_,d:MB(l,c,u,f,d)})))},gNe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function vNe(t,e){if(t==null)return{};var n=yNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){xNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xNe(t,e,n){return e=_Ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ne(t){var e=bNe(t,"string");return Uv(e)=="symbol"?e:e+""}function bNe(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wNe(t,e){return ib(ib({},e),t)}function SNe(t,e){return t==="symbols"}function AB(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return J.createElement(bI,n);case"trapezoid":return J.createElement(mNe,n);case"sector":return J.createElement(H7,n);case"symbols":if(SNe(e))return J.createElement(zO,n);break;default:return null}}function ENe(t){return L.isValidElement(t)?t.props:t}function t9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?wNe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=vNe(t,gNe),c;if(L.isValidElement(e))c=L.cloneElement(e,ib(ib({},l),ENe(e)));else if(Rt(e))c=e(l);else if(QIe(e)&&!oNe(e)){var u=i(e,l);c=J.createElement(AB,{shapeType:n,elementProps:u})}else{var f=l;c=J.createElement(AB,{shapeType:n,elementProps:f})}return s?J.createElement(fn,{className:a},c):c}function bS(t,e){return e!=null&&"trapezoids"in t.props}function wS(t,e){return e!=null&&"sectors"in t.props}function Fv(t,e){return e!=null&&"points"in t.props}function MNe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function TNe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ANe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function PNe(t,e){var n;return bS(t,e)?n=MNe:wS(t,e)?n=TNe:Fv(t,e)&&(n=ANe),n}function CNe(t,e){var n;return bS(t,e)?n="trapezoids":wS(t,e)?n="sectors":Fv(t,e)&&(n="points"),n}function RNe(t,e){if(bS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(wS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Fv(t,e)?e.payload:{}}function ONe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=CNe(n,e),o=RNe(n,e),a=r.filter(function(l,c){var u=hS(o,l),f=n.props[i].filter(function(g){var x=PNe(n,e);return x(g,e)}),d=n.props[i].indexOf(f[f.length-1]),h=c===d;return u&&h}),s=r.indexOf(a[a.length-1]);return s}var I1;function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function INe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function NNe(t,e,n){return e&&CB(t.prototype,e),n&&CB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DNe(t,e,n){return e=ob(e),LNe(t,n9()?Reflect.construct(e,n||[],ob(t).constructor):e.apply(t,n))}function LNe(t,e){if(e&&(Zh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kNe(t)}function kNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function ob(t){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ob(t)}function UNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$P(t,e)}function $P(t,e){return $P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$P(t,e)}function Yo(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=FNe(t,"string");return Zh(e)=="symbol"?e:e+""}function FNe(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ms=function(t){function e(n){var r;return INe(this,e),r=DNe(this,e,[n]),Yo(r,"pieRef",null),Yo(r,"sectorRefs",[]),Yo(r,"id",_y("recharts-pie-")),Yo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Rt(i)&&i()}),Yo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Rt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return UNe(e,t),NNe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,c=o.valueKey,u=Pt(this.props,!1),f=Pt(a,!1),d=Pt(s,!1),h=a&&a.offsetRadius||20,g=r.map(function(x,v){var y=(x.startAngle+x.endAngle)/2,_=Pn(x.cx,x.cy,x.outerRadius+h,y),b=Sn(Sn(Sn(Sn({},u),x),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,x.cx)},_),w=Sn(Sn(Sn(Sn({},u),x),{},{fill:"none",stroke:x.fill},d),{},{index:v,points:[Pn(x.cx,x.cy,x.outerRadius,y),_]}),E=l;return $t(l)&&$t(c)?E="value":$t(l)&&(E=c),J.createElement(fn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,w,"line"),e.renderLabelItem(a,b,mi(x,E)))});return J.createElement(fn,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(u),d=l&&i.hasActiveIndex()?l:null,h=f?a:d,g=Sn(Sn({},c),{},{stroke:s?c.fill:c.stroke,tabIndex:-1});return J.createElement(fn,eh({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},bf(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),J.createElement(t9,eh({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,f=this.state,d=f.prevSectors,h=f.prevIsAnimationActive;return J.createElement(gl,{begin:s,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var x=g.t,v=[],y=o&&o[0],_=y.startAngle;return o.forEach(function(b,w){var E=d&&d[w],M=w>0?Po(b,"paddingAngle",0):0;if(E){var T=ql(E.endAngle-E.startAngle,b.endAngle-b.startAngle),O=Sn(Sn({},b),{},{startAngle:_+M,endAngle:_+T(x)+M});v.push(O),_=O.endAngle}else{var P=b.endAngle,R=b.startAngle,k=ql(0,P-R),D=k(x),G=Sn(Sn({},b),{},{startAngle:_+M,endAngle:_+D+M});v.push(G),_=G.endAngle}}),J.createElement(fn,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!hS(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,c=i.cx,u=i.cy,f=i.innerRadius,d=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!tt(c)||!tt(u)||!tt(f)||!tt(d))return null;var x=zt("recharts-pie",s);return J.createElement(fn,{tabIndex:this.props.rootTabIndex,className:x,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(a),Br.renderCallByParent(this.props,null,!1),(!h||g)&&Mc.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(J.isValidElement(r))return J.cloneElement(r,i);if(Rt(r))return r(i);var a=zt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return J.createElement(RP,eh({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(J.isValidElement(r))return J.cloneElement(r,i);var a=o;if(Rt(r)&&(a=r(i),J.isValidElement(a)))return a;var s=zt("recharts-pie-label-text",typeof r!="boolean"&&!Rt(r)?r.className:"");return J.createElement(Sf,eh({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(L.PureComponent);I1=ms;Yo(ms,"displayName","Pie");Yo(ms,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!tl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yo(ms,"parseDeltaAngle",function(t,e){var n=Di(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Yo(ms,"getRealPieData",function(t){var e=t.data,n=t.children,r=Pt(t,!1),i=Qo(n,wf);return e&&e.length?e.map(function(o,a){return Sn(Sn(Sn({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Sn(Sn({},r),o.props)}):[]});Yo(ms,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=F7(i,o),s=r+Li(t.cx,i,i/2),l=n+Li(t.cy,o,o/2),c=Li(t.innerRadius,a,0),u=Li(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:c,outerRadius:u,maxRadius:f}});Yo(ms,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Sn(Sn({},e.type.defaultProps),e.props):e.props,i=I1.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,f=r.valueKey,d=r.tooltipType,h=Math.abs(r.minAngle),g=I1.parseCoordinateOfPie(r,n),x=I1.parseDeltaAngle(a,s),v=Math.abs(x),y=c;$t(c)&&$t(f)?(Pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):$t(c)&&(Pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var _=i.filter(function(O){return mi(O,y,0)!==0}).length,b=(v>=360?_:_-1)*l,w=v-_*h-b,E=i.reduce(function(O,P){var R=mi(P,y,0);return O+(tt(R)?R:0)},0),M;if(E>0){var T;M=i.map(function(O,P){var R=mi(O,y,0),k=mi(O,u,P),D=(tt(R)?R:0)/E,G;P?G=T.endAngle+Di(x)*l*(R!==0?1:0):G=a;var N=G+Di(x)*((R!==0?h:0)+D*w),$=(G+N)/2,H=(g.innerRadius+g.outerRadius)/2,K=[{name:k,value:R,payload:O,dataKey:y,type:d}],U=Pn(g.cx,g.cy,H,$);return T=Sn(Sn(Sn({percent:D,cornerRadius:o,name:k,tooltipPayload:K,midAngle:$,middleRadius:H,tooltipPosition:U},O),g),{},{value:mi(O,y),startAngle:G,endAngle:N,payload:O,paddingAngle:Di(x)*l}),T})}return Sn(Sn({},g),{},{sectors:M,data:i})});var BNe=Math.ceil,zNe=Math.max;function jNe(t,e,n,r){for(var i=-1,o=zNe(BNe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var HNe=jNe,VNe=MW,RB=1/0,GNe=17976931348623157e292;function $Ne(t){if(!t)return t===0?t:0;if(t=VNe(t),t===RB||t===-RB){var e=t<0?-1:1;return e*GNe}return t===t?t:0}var i9=$Ne,WNe=HNe,XNe=rS,wT=i9;function qNe(t){return function(e,n,r){return r&&typeof r!="number"&&XNe(e,n,r)&&(n=r=void 0),e=wT(e),n===void 0?(n=e,e=0):n=wT(n),r=r===void 0?e<n?1:-1:wT(r),WNe(e,n,r,t)}}var YNe=qNe,KNe=YNe,ZNe=KNe(),JNe=ZNe;const ab=rn(JNe);function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return e=QNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QNe(t){var e=e3e(t,"string");return Bv(e)=="symbol"?e:e+""}function e3e(t,e){if(Bv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t3e=["Webkit","Moz","O","ms"],n3e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=t3e.reduce(function(o,a){return IB(IB({},o),{},o9({},a+r,n))},{});return i[e]=n,i};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s9(r.key),r)}}function i3e(t,e,n){return e&&DB(t.prototype,e),n&&DB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o3e(t,e,n){return e=lb(e),a3e(t,a9()?Reflect.construct(e,n||[],lb(t).constructor):e.apply(t,n))}function a3e(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(t)}function s3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function lb(t){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lb(t)}function l3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WP(t,e)}function vo(t,e,n){return e=s9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=c3e(t,"string");return Jh(e)=="symbol"?e:e+""}function c3e(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u3e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=fg().domain(ab(0,l)).range([o,o+a-s]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},LB=function(e){return e.changedTouches&&!!e.changedTouches.length},Qh=function(t){function e(n){var r;return r3e(this,e),r=o3e(this,e,[n]),vo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),vo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),vo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),vo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vo(r,"handleSlideDragStart",function(i){var o=LB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return l3e(e,t),i3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,u=c.length-1,f=Math.min(i,o),d=Math.max(i,o),h=e.getIndexInRange(a,f),g=e.getIndexInRange(a,d);return{startIndex:h-h%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=mi(o[r],s,r);return Rt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,h=l.endIndex,g=l.onChange,x=r.pageX-o;x>0?x=Math.min(x,c+u-f-s,c+u-f-a):x<0&&(x=Math.max(x,c-a,c-s));var v=this.getIndex({startX:a+x,endX:s+x});(v.startIndex!==d||v.endIndex!==h)&&g&&g(v),this.setState({startX:a+x,endX:s+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=LB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,d=u.width,h=u.travellerWidth,g=u.onChange,x=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-h-c):_<0&&(_=Math.max(_,f-c)),y[a]=c+_;var b=this.getIndex(y),w=b.startIndex,E=b.endIndex,M=function(){var O=v.length-1;return a==="startX"&&(s>l?w%x===0:E%x===0)||s<l&&E===O||a==="endX"&&(s>l?E%x===0:w%x===0)||s>l&&E===O};this.setState(vo(vo({},a,c+_),"brushMoveStartX",r.pageX),function(){g&&M()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=s.indexOf(u);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var h=s[d];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(vo({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return J.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,u=r.padding,f=L.Children.only(c);return f?J.cloneElement(f,{x:i,y:o,width:a,height:s,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,h=l.ariaLabel,g=l.data,x=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),_=ST(ST({},Pt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),b=h||"Min value: ".concat((o=g[x])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return J.createElement(fn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,d=u.endX,h=5,g={pointerEvents:"none",fill:c};return J.createElement(fn,{className:"recharts-brush-texts"},J.createElement(Sf,sb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-h,y:a+s/2},g),this.getTextOfTick(i)),J.createElement(Sf,sb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+h,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,d=this.state,h=d.startX,g=d.endX,x=d.isTextActive,v=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!tt(s)||!tt(l)||!tt(c)||!tt(u)||c<=0||u<=0)return null;var b=zt("recharts-brush",o),w=J.Children.count(a)===1,E=n3e("userSelect","none");return J.createElement(fn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(x||v||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),J.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return J.isValidElement(r)?o=J.cloneElement(r,i):Rt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return ST({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?u3e({data:o,width:a,x:s,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(L.PureComponent);vo(Qh,"displayName","Brush");vo(Qh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var f3e=XO;function d3e(t,e){var n;return f3e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var h3e=d3e,p3e=J$,m3e=ps,g3e=h3e,v3e=oo,y3e=rS;function x3e(t,e,n){var r=v3e(t)?p3e:g3e;return n&&y3e(t,e,n)&&(e=void 0),r(t,m3e(e))}var _3e=x3e;const b3e=rn(_3e);var os=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},kB=_W;function w3e(t,e,n){e=="__proto__"&&kB?kB(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var S3e=w3e,E3e=S3e,M3e=yW,T3e=ps;function A3e(t,e){var n={};return e=T3e(e),M3e(t,function(r,i,o){E3e(n,i,e(r,i,o))}),n}var P3e=A3e;const C3e=rn(P3e);function R3e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var O3e=R3e,I3e=XO;function N3e(t,e){var n=!0;return I3e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var D3e=N3e,L3e=O3e,k3e=D3e,U3e=ps,F3e=oo,B3e=rS;function z3e(t,e,n){var r=F3e(t)?L3e:k3e;return n&&B3e(t,e,n)&&(e=void 0),r(t,U3e(e))}var j3e=z3e;const l9=rn(j3e);var H3e=["x","y"];function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(n),!0).forEach(function(r){V3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V3e(t,e,n){return e=G3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3e(t){var e=$3e(t,"string");return zv(e)=="symbol"?e:e+""}function $3e(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W3e(t,e){if(t==null)return{};var n=X3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function X3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function q3e(t,e){var n=t.x,r=t.y,i=W3e(t,H3e),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Bm(Bm(Bm(Bm(Bm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function FB(t){return J.createElement(t9,XP({shapeType:"rectangle",propTransformer:q3e,activeClassName:"recharts-active-bar"},t))}var Y3e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=tt(r)||Tge(r);return o?e(r,i):(o||Mf(),n)}},K3e=["value","background"],c9;function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function Z3e(t,e){if(t==null)return{};var n=J3e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function BB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(n),!0).forEach(function(r){cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f9(r.key),r)}}function eDe(t,e,n){return e&&zB(t.prototype,e),n&&zB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tDe(t,e,n){return e=ub(e),nDe(t,u9()?Reflect.construct(e,n||[],ub(t).constructor):e.apply(t,n))}function nDe(t,e){if(e&&(ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rDe(t)}function rDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!t})()}function ub(t){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ub(t)}function iDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qP(t,e)}function qP(t,e){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qP(t,e)}function cc(t,e,n){return e=f9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f9(t){var e=oDe(t,"string");return ep(e)=="symbol"?e:e+""}function oDe(t,e){if(ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $c=function(t){function e(){var n;Q3e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=tDe(this,e,[].concat(i)),cc(n,"state",{isAnimationFinished:!1}),cc(n,"id",_y("recharts-bar-")),cc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),cc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return iDe(e,t),eDe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Pt(this.props,!1);return r&&r.map(function(f,d){var h=d===l,g=h?c:a,x=gr(gr(gr({},u),f),{},{isActive:h,option:g,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return J.createElement(fn,cb({className:"recharts-bar-rectangle"},bf(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),J.createElement(FB,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return J.createElement(gl,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,x=o.map(function(v,y){var _=d&&d[y];if(_){var b=ql(_.x,v.x),w=ql(_.y,v.y),E=ql(_.width,v.width),M=ql(_.height,v.height);return gr(gr({},v),{},{x:b(g),y:w(g),width:E(g),height:M(g)})}if(a==="horizontal"){var T=ql(0,v.height),O=T(g);return gr(gr({},v),{},{y:v.y+v.height-O,height:O})}var P=ql(0,v.width),R=P(g);return gr(gr({},v),{},{width:R})});return J.createElement(fn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!hS(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Pt(this.props.background,!1);return o.map(function(c,u){c.value;var f=c.background,d=Z3e(c,K3e);if(!f)return null;var h=gr(gr(gr(gr(gr({},d),{},{fill:"#eee"},f),l),bf(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return J.createElement(FB,cb({key:"background-bar-".concat(u),option:r.props.background,isActive:u===s},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,f=Qo(u,gS);if(!f)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,h=function(v,y){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:mi(v,y)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return J.createElement(fn,g,f.map(function(x){return J.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:d,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,d=r.height,h=r.isAnimationActive,g=r.background,x=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,y=zt("recharts-bar",a),_=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=_||b,E=$t(x)?this.id:x;return J.createElement(fn,{className:y},_||b?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(E)},J.createElement("rect",{x:_?c:c-f/2,y:b?u:u-d/2,width:_?f:f*2,height:b?d:d*2}))):null,J.createElement(fn,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,E),(!h||v)&&Mc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(L.PureComponent);c9=$c;cc($c,"displayName","Bar");cc($c,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cc($c,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,h=GPe(r,n);if(!h)return null;var g=e.layout,x=n.type.defaultProps,v=x!==void 0?gr(gr({},x),n.props):n.props,y=v.dataKey,_=v.children,b=v.minPointSize,w=g==="horizontal"?a:o,E=c?w.scale.domain():null,M=ZPe({numericAxis:w}),T=Qo(_,wf),O=f.map(function(P,R){var k,D,G,N,$,H;c?k=$Pe(c[u+R],E):(k=mi(P,y),Array.isArray(k)||(k=[M,k]));var K=Y3e(b,c9.defaultProps.minPointSize)(k[1],R);if(g==="horizontal"){var U,F=[a.scale(k[0]),a.scale(k[1])],j=F[0],z=F[1];D=C4({axis:o,ticks:s,bandSize:i,offset:h.offset,entry:P,index:R}),G=(U=z??j)!==null&&U!==void 0?U:void 0,N=h.size;var X=j-z;if($=Number.isNaN(X)?0:X,H={x:D,y:a.y,width:N,height:a.height},Math.abs(K)>0&&Math.abs($)<Math.abs(K)){var q=Di($||K)*(Math.abs(K)-Math.abs($));G-=q,$+=q}}else{var Z=[o.scale(k[0]),o.scale(k[1])],ne=Z[0],se=Z[1];if(D=ne,G=C4({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:P,index:R}),N=se-ne,$=h.size,H={x:o.x,y:G,width:o.width,height:$},Math.abs(K)>0&&Math.abs(N)<Math.abs(K)){var ae=Di(N||K)*(Math.abs(K)-Math.abs(N));N+=ae}}return gr(gr(gr({},P),{},{x:D,y:G,width:N,height:$,value:c?k:k[1],payload:P,background:H},T&&T[R]&&T[R].props),{},{tooltipPayload:[k7(n,P)],tooltipPosition:{x:D+N/2,y:G+$/2}})});return gr({data:O,layout:g},d)});function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function aDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d9(r.key),r)}}function sDe(t,e,n){return e&&jB(t.prototype,e),n&&jB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(n),!0).forEach(function(r){SS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SS(t,e,n){return e=d9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d9(t){var e=lDe(t,"string");return jv(e)=="symbol"?e:e+""}function lDe(t,e){if(jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cDe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!xo(c,$c);return u.reduce(function(h,g){var x=n[g],v=x.orientation,y=x.domain,_=x.padding,b=_===void 0?{}:_,w=x.mirror,E=x.reversed,M="".concat(v).concat(w?"Mirror":""),T,O,P,R,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=y[1]-y[0],G=1/0,N=x.categoricalDomain.sort(Cge);if(N.forEach(function(Z,ne){ne>0&&(G=Math.min((Z||0)-(N[ne-1]||0),G))}),Number.isFinite(G)){var $=G/D,H=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(T=$*H/2),x.padding==="no-gap"){var K=Li(e.barCategoryGap,$*H),U=$*H/2;T=U-K-(U-K)/H*K}}}i==="xAxis"?O=[r.left+(b.left||0)+(T||0),r.left+r.width-(b.right||0)-(T||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(T||0),r.top+r.height-(b.bottom||0)-(T||0)]:O=x.range,E&&(O=[O[1],O[0]]);var F=I7(x,o,d),j=F.scale,z=F.realScaleType;j.domain(y).range(O),N7(j);var X=D7(j,xa(xa({},x),{},{realScaleType:z}));i==="xAxis"?(k=v==="top"&&!w||v==="bottom"&&w,P=r.left,R=f[M]-k*x.height):i==="yAxis"&&(k=v==="left"&&!w||v==="right"&&w,P=f[M]-k*x.width,R=r.top);var q=xa(xa(xa({},x),X),{},{realScaleType:z,x:P,y:R,scale:j,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return q.bandSize=q_(q,X),!x.hide&&i==="xAxis"?f[M]+=(k?-1:1)*q.height:x.hide||(f[M]+=(k?-1:1)*q.width),xa(xa({},h),{},SS({},g,q))},{})},h9=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},uDe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return h9({x:n,y:r},{x:i,y:o})},p9=function(){function t(e){aDe(this,t),this.scale=e}return sDe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();SS(p9,"EPS",1e-4);var SI=function(e){var n=Object.keys(e).reduce(function(r,i){return xa(xa({},r),{},SS({},i,p9.create(e[i])))},{});return xa(xa({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return C3e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return l9(i,function(o,a){return n[a].isInRange(o)})}})};function fDe(t){return(t%180+180)%180}var dDe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fDe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},hDe=ps,pDe=by,mDe=tS;function gDe(t){return function(e,n,r){var i=Object(e);if(!pDe(e)){var o=hDe(n);e=mDe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var vDe=gDe,yDe=i9;function xDe(t){var e=yDe(t),n=e%1;return e===e?n?e-n:e:0}var _De=xDe,bDe=dW,wDe=ps,SDe=_De,EDe=Math.max;function MDe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:SDe(n);return i<0&&(i=EDe(r+i,0)),bDe(t,wDe(e),i)}var TDe=MDe,ADe=vDe,PDe=TDe,CDe=ADe(PDe),RDe=CDe;const ODe=rn(RDe);var IDe=Rme(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),EI=L.createContext(void 0),MI=L.createContext(void 0),m9=L.createContext(void 0),g9=L.createContext({}),v9=L.createContext(void 0),y9=L.createContext(0),x9=L.createContext(0),VB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=IDe(o);return J.createElement(EI.Provider,{value:r},J.createElement(MI.Provider,{value:i},J.createElement(g9.Provider,{value:o},J.createElement(m9.Provider,{value:u},J.createElement(v9.Provider,{value:a},J.createElement(y9.Provider,{value:c},J.createElement(x9.Provider,{value:l},s)))))))},NDe=function(){return L.useContext(v9)},_9=function(e){var n=L.useContext(EI);n==null&&Mf();var r=n[e];return r==null&&Mf(),r},DDe=function(){var e=L.useContext(EI);return ec(e)},LDe=function(){var e=L.useContext(MI),n=ODe(e,function(r){return l9(r.domain,Number.isFinite)});return n||ec(e)},b9=function(e){var n=L.useContext(MI);n==null&&Mf();var r=n[e];return r==null&&Mf(),r},kDe=function(){var e=L.useContext(m9);return e},UDe=function(){return L.useContext(g9)},TI=function(){return L.useContext(x9)},AI=function(){return L.useContext(y9)};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function FDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S9(r.key),r)}}function zDe(t,e,n){return e&&BDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jDe(t,e,n){return e=fb(e),HDe(t,w9()?Reflect.construct(e,n||[],fb(t).constructor):e.apply(t,n))}function HDe(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(t)}function VDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w9=function(){return!!t})()}function fb(t){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fb(t)}function GDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YP(t,e)}function YP(t,e){return YP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YP(t,e)}function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){PI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PI(t,e,n){return e=S9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S9(t){var e=$De(t,"string");return tp(e)=="symbol"?e:e+""}function $De(t,e){if(tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WDe(t,e){return KDe(t)||YDe(t,e)||qDe(t,e)||XDe()}function XDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(t,e){if(t){if(typeof t=="string")return WB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WB(t,e)}}function WB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function KDe(t){if(Array.isArray(t))return t}function KP(){return KP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KP.apply(this,arguments)}var ZDe=function(e,n){var r;return J.isValidElement(e)?r=J.cloneElement(e,n):Rt(e)?r=e(n):r=J.createElement("line",KP({},n,{className:"recharts-reference-line-line"})),r},JDe=function(e,n,r,i,o,a,s,l,c){var u=o.x,f=o.y,d=o.width,h=o.height;if(r){var g=c.y,x=e.y.apply(g,{position:a});if(os(c,"discard")&&!e.y.isInRange(x))return null;var v=[{x:u+d,y:x},{x:u,y:x}];return l==="left"?v.reverse():v}if(n){var y=c.x,_=e.x.apply(y,{position:a});if(os(c,"discard")&&!e.x.isInRange(_))return null;var b=[{x:_,y:f+h},{x:_,y:f}];return s==="top"?b.reverse():b}if(i){var w=c.segment,E=w.map(function(M){return e.apply(M,{position:a})});return os(c,"discard")&&b3e(E,function(M){return!e.isInRange(M)})?null:E}return null};function QDe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=NDe(),u=_9(i),f=b9(o),d=kDe();if(!c||!d)return null;Pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=SI({x:u.scale,y:f.scale}),g=Tr(e),x=Tr(n),v=r&&r.length===2,y=JDe(h,g,x,v,d,t.position,u.orientation,f.orientation,t);if(!y)return null;var _=WDe(y,2),b=_[0],w=b.x,E=b.y,M=_[1],T=M.x,O=M.y,P=os(t,"hidden")?"url(#".concat(c,")"):void 0,R=$B($B({clipPath:P},Pt(t,!0)),{},{x1:w,y1:E,x2:T,y2:O});return J.createElement(fn,{className:zt("recharts-reference-line",s)},ZDe(a,R),Br.renderCallByParent(t,uDe({x1:w,y1:E,x2:T,y2:O})))}var CI=function(t){function e(){return FDe(this,e),jDe(this,e,arguments)}return GDe(e,t),zDe(e,[{key:"render",value:function(){return J.createElement(QDe,this.props)}}])}(J.Component);PI(CI,"displayName","ReferenceLine");PI(CI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZP.apply(this,arguments)}function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){ES(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function nLe(t,e,n){return e&&tLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rLe(t,e,n){return e=db(e),iLe(t,E9()?Reflect.construct(e,n||[],db(t).constructor):e.apply(t,n))}function iLe(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(t)}function oLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!t})()}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},db(t)}function aLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JP(t,e)}function JP(t,e){return JP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JP(t,e)}function ES(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=sLe(t,"string");return np(e)=="symbol"?e:e+""}function sLe(t,e){if(np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lLe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=SI({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return os(e,"discard")&&!a.isInRange(s)?null:s},MS=function(t){function e(){return eLe(this,e),rLe(this,e,arguments)}return aLe(e,t),nLe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=Tr(i),u=Tr(o);if(Pa(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=lLe(this.props);if(!f)return null;var d=f.x,h=f.y,g=this.props,x=g.shape,v=g.className,y=os(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=qB(qB({clipPath:y},Pt(this.props,!0)),{},{cx:d,cy:h});return J.createElement(fn,{className:zt("recharts-reference-dot",v)},e.renderDot(x,_),Br.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}])}(J.Component);ES(MS,"displayName","ReferenceDot");ES(MS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ES(MS,"renderDot",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Rt(t)?n=t(e):n=J.createElement(wI,ZP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function QP(){return QP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QP.apply(this,arguments)}function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){TS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A9(r.key),r)}}function fLe(t,e,n){return e&&uLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dLe(t,e,n){return e=hb(e),hLe(t,T9()?Reflect.construct(e,n||[],hb(t).constructor):e.apply(t,n))}function hLe(t,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pLe(t)}function pLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T9=function(){return!!t})()}function hb(t){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(t)}function mLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eC(t,e)}function TS(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=gLe(t,"string");return rp(e)=="symbol"?e:e+""}function gLe(t,e){if(rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vLe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var d=SI({x:u.scale,y:f.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return os(o,"discard")&&(!d.isInRange(h)||!d.isInRange(g))?null:h9(h,g)},AS=function(t){function e(){return cLe(this,e),dLe(this,e,arguments)}return mLe(e,t),fLe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Pa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tr(i),d=Tr(o),h=Tr(a),g=Tr(s),x=this.props.shape;if(!f&&!d&&!h&&!g&&!x)return null;var v=vLe(f,d,h,g,this.props);if(!v&&!x)return null;var y=os(this.props,"hidden")?"url(#".concat(u,")"):void 0;return J.createElement(fn,{className:zt("recharts-reference-area",l)},e.renderRect(x,KB(KB({clipPath:y},Pt(this.props,!0)),v)),Br.renderCallByParent(this.props,v))}}])}(J.Component);TS(AS,"displayName","ReferenceArea");TS(AS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});TS(AS,"renderRect",function(t,e){var n;return J.isValidElement(t)?n=J.cloneElement(t,e):Rt(t)?n=t(e):n=J.createElement(bI,QP({},e,{className:"recharts-reference-area-rect"})),n});function P9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function yLe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return dDe(r,n)}function xLe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function pb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function _Le(t,e){return P9(t,e+1)}function bLe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,u=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:P9(r,c)};var x=l,v,y=function(){return v===void 0&&(v=n(g,x)),v},_=g.coordinate,b=l===0||pb(t,_,y,u,s);b||(l=0,u=a,c+=1),b&&(u=_+t*(y()/2+i),l+=c)},d;c<=o.length;)if(d=f(),d)return d.v;return[]}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){wLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wLe(t,e,n){return e=SLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SLe(t){var e=ELe(t,"string");return Hv(e)=="symbol"?e:e+""}function ELe(t,e){if(Hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MLe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(d){var h=o[d],g,x=function(){return g===void 0&&(g=n(h,d)),g};if(d===a-1){var v=t*(h.coordinate+t*x()/2-l);o[d]=h=fi(fi({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else o[d]=h=fi(fi({},h),{},{tickCoord:h.coordinate});var y=pb(t,h.tickCoord,x,s,l);y&&(l=h.tickCoord-t*(x()/2+i),o[d]=fi(fi({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}function TLe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],f=n(u,s-1),d=t*(u.coordinate+t*f/2-c);a[s-1]=u=fi(fi({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var h=pb(t,u.tickCoord,function(){return f},l,c);h&&(c=u.tickCoord-t*(f/2+i),a[s-1]=fi(fi({},u),{},{isShow:!0}))}for(var g=o?s-1:s,x=function(_){var b=a[_],w,E=function(){return w===void 0&&(w=n(b,_)),w};if(_===0){var M=t*(b.coordinate-t*E()/2-l);a[_]=b=fi(fi({},b),{},{tickCoord:M<0?b.coordinate-M*t:b.coordinate})}else a[_]=b=fi(fi({},b),{},{tickCoord:b.coordinate});var T=pb(t,b.tickCoord,E,l,c);T&&(l=b.tickCoord+t*(E()/2+i),a[_]=fi(fi({},b),{},{isShow:!0}))},v=0;v<g;v++)x(v);return a}function RI(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(tt(l)||tl.isSsr)return _Le(i,typeof l=="number"&&tt(l)?l:0);var d=[],h=s==="top"||s==="bottom"?"width":"height",g=u&&h==="width"?ug(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(b,w){var E=Rt(c)?c(b.value,w):b.value;return h==="width"?yLe(ug(E,{fontSize:e,letterSpacing:n}),g,f):ug(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?Di(i[1].coordinate-i[0].coordinate):1,y=xLe(o,v,h);return l==="equidistantPreserveStart"?bLe(v,y,x,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=TLe(v,y,x,i,a,l==="preserveStartEnd"):d=MLe(v,y,x,i,a),d.filter(function(_){return _.isShow}))}var ALe=["viewBox"],PLe=["viewBox"],CLe=["ticks"];function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){OI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ET(t,e){if(t==null)return{};var n=RLe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R9(r.key),r)}}function ILe(t,e,n){return e&&QB(t.prototype,e),n&&QB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NLe(t,e,n){return e=mb(e),DLe(t,C9()?Reflect.construct(e,n||[],mb(t).constructor):e.apply(t,n))}function DLe(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LLe(t)}function LLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!t})()}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(t)}function kLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tC(t,e)}function OI(t,e,n){return e=R9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9(t){var e=ULe(t,"string");return ip(e)=="symbol"?e:e+""}function ULe(t,e){if(ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dp=function(t){function e(n){var r;return OLe(this,e),r=NLe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kLe(e,t),ILe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=ET(r,ALe),s=this.props,l=s.viewBox,c=ET(s,PLe);return!hh(o,l)||!hh(a,c)||!hh(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,h,g,x,v,y,_,b=f?-1:1,w=r.tickSize||u,E=tt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=g=r.coordinate,v=a+ +!f*l,x=v-b*w,_=x-b*d,y=E;break;case"left":x=v=r.coordinate,g=o+ +!f*s,h=g-b*w,y=h-b*d,_=E;break;case"right":x=v=r.coordinate,g=o+ +f*s,h=g+b*w,y=h+b*d,_=E;break;default:h=g=r.coordinate,v=a+ +f*l,x=v+b*w,_=x+b*d,y=E;break}return{line:{x1:h,y1:x,x2:g,y2:v},tick:{x:y,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=br(br(br({},Pt(this.props,!1)),Pt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=br(br({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=br(br({},f),{},{x1:i+h*a,y1:o,x2:i+h*a,y2:o+s})}return J.createElement("line",th({},f,{className:zt("recharts-cartesian-axis-line",Po(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,u=s.tick,f=s.tickFormatter,d=s.unit,h=RI(br(br({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Pt(this.props,!1),y=Pt(u,!1),_=br(br({},v),{},{fill:"none"},Pt(l,!1)),b=h.map(function(w,E){var M=a.getTickLineCoord(w),T=M.line,O=M.tick,P=br(br(br(br({textAnchor:g,verticalAnchor:x},v),{},{stroke:"none",fill:c},y),O),{},{index:E,payload:w,visibleTicksCount:h.length,tickFormatter:f});return J.createElement(fn,th({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},bf(a.props,w,E)),l&&J.createElement("line",th({},_,T,{className:zt("recharts-cartesian-axis-tick-line",Po(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Rt(f)?f(w.value,E):w.value).concat(d||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,h=ET(f,CLe),g=d;return Rt(l)&&(g=d&&d.length>0?l(this.props):l(h)),a<=0||s<=0||!g||!g.length?null:J.createElement(fn,{className:zt("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Br.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=zt(i.className,"recharts-cartesian-axis-tick-value");return J.isValidElement(r)?a=J.cloneElement(r,br(br({},i),{},{className:s})):Rt(r)?a=r(br(br({},i),{},{className:s})):a=J.createElement(Sf,th({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(L.Component);OI(Dp,"displayName","CartesianAxis");OI(Dp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FLe=["x1","y1","x2","y2","key"],BLe=["offset"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){zLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zLe(t,e,n){return e=jLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jLe(t){var e=HLe(t,"string");return Tf(e)=="symbol"?e:e+""}function HLe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(this,arguments)}function tz(t,e){if(t==null)return{};var n=VLe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var GLe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return J.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function O9(t,e){var n;if(J.isValidElement(t))n=J.cloneElement(t,e);else if(Rt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=tz(e,FLe),c=Pt(l,!1);c.offset;var u=tz(c,BLe);n=J.createElement("line",$u({},u,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function $Le(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=hi(hi({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return O9(i,c)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function WLe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=hi(hi({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return O9(i,c)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function XLe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,h){return d-h});i!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var g=!u[h+1],x=g?i+a-d:u[h+1]-d;if(x<=0)return null;var v=h%e.length;return J.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:x,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function qLe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+o-o)}).sort(function(d,h){return d-h});o!==u[0]&&u.unshift(0);var f=u.map(function(d,h){var g=!u[h+1],x=g?o+s-d:u[h+1]-d;if(x<=0)return null;var v=h%r.length;return J.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:x,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var YLe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return O7(RI(hi(hi(hi({},Dp.defaultProps),r),{},{ticks:Zs(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},KLe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return O7(RI(hi(hi(hi({},Dp.defaultProps),r),{},{ticks:Zs(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ad={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function II(t){var e,n,r,i,o,a,s=TI(),l=AI(),c=UDe(),u=hi(hi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ad.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ad.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ad.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ad.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ad.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ad.verticalFill,x:tt(t.x)?t.x:c.left,y:tt(t.y)?t.y:c.top,width:tt(t.width)?t.width:c.width,height:tt(t.height)?t.height:c.height}),f=u.x,d=u.y,h=u.width,g=u.height,x=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,_=DDe(),b=LDe();if(!tt(h)||h<=0||!tt(g)||g<=0||!tt(f)||f!==+f||!tt(d)||d!==+d)return null;var w=u.verticalCoordinatesGenerator||YLe,E=u.horizontalCoordinatesGenerator||KLe,M=u.horizontalPoints,T=u.verticalPoints;if((!M||!M.length)&&Rt(E)){var O=v&&v.length,P=E({yAxis:b?hi(hi({},b),{},{ticks:O?v:b.ticks}):void 0,width:s,height:l,offset:c},O?!0:x);Pa(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(P),"]")),Array.isArray(P)&&(M=P)}if((!T||!T.length)&&Rt(w)){var R=y&&y.length,k=w({xAxis:_?hi(hi({},_),{},{ticks:R?y:_.ticks}):void 0,width:s,height:l,offset:c},R?!0:x);Pa(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tf(k),"]")),Array.isArray(k)&&(T=k)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(GLe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),J.createElement($Le,$u({},u,{offset:c,horizontalPoints:M,xAxis:_,yAxis:b})),J.createElement(WLe,$u({},u,{offset:c,verticalPoints:T,xAxis:_,yAxis:b})),J.createElement(XLe,$u({},u,{horizontalPoints:M})),J.createElement(qLe,$u({},u,{verticalPoints:T})))}II.displayName="CartesianGrid";function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function ZLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D9(r.key),r)}}function QLe(t,e,n){return e&&JLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eke(t,e,n){return e=gb(e),tke(t,I9()?Reflect.construct(e,n||[],gb(t).constructor):e.apply(t,n))}function tke(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nke(t)}function nke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function gb(t){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gb(t)}function rke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function N9(t,e,n){return e=D9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D9(t){var e=ike(t,"string");return op(e)=="symbol"?e:e+""}function ike(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rC.apply(this,arguments)}function oke(t){var e=t.xAxisId,n=TI(),r=AI(),i=_9(e);return i==null?null:L.createElement(Dp,rC({},i,{className:zt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Zs(a,!0)}}))}var Ty=function(t){function e(){return ZLe(this,e),eke(this,e,arguments)}return rke(e,t),QLe(e,[{key:"render",value:function(){return L.createElement(oke,this.props)}}])}(L.Component);N9(Ty,"displayName","XAxis");N9(Ty,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function ake(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ske(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U9(r.key),r)}}function lke(t,e,n){return e&&ske(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cke(t,e,n){return e=vb(e),uke(t,L9()?Reflect.construct(e,n||[],vb(t).constructor):e.apply(t,n))}function uke(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fke(t)}function fke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vb(t)}function dke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iC(t,e)}function k9(t,e,n){return e=U9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U9(t){var e=hke(t,"string");return ap(e)=="symbol"?e:e+""}function hke(t,e){if(ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}var pke=function(e){var n=e.yAxisId,r=TI(),i=AI(),o=b9(n);return o==null?null:L.createElement(Dp,oC({},o,{className:zt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Zs(s,!0)}}))},Ay=function(t){function e(){return ake(this,e),cke(this,e,arguments)}return dke(e,t),lke(e,[{key:"render",value:function(){return L.createElement(pke,this.props)}}])}(L.Component);k9(Ay,"displayName","YAxis");k9(Ay,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nz(t){return yke(t)||vke(t)||gke(t)||mke()}function mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(t,e){if(t){if(typeof t=="string")return aC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(t,e)}}function vke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yke(t){if(Array.isArray(t))return aC(t)}function aC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sC=function(e,n,r,i,o){var a=Qo(e,CI),s=Qo(e,MS),l=[].concat(nz(a),nz(s)),c=Qo(e,AS),u="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(x,v){if(v.props[u]===r&&os(v.props,"extendDomain")&&tt(v.props[f])){var y=v.props[f];return[Math.min(x[0],y),Math.max(x[1],y)]}return x},d)),c.length){var h="".concat(f,"1"),g="".concat(f,"2");d=c.reduce(function(x,v){if(v.props[u]===r&&os(v.props,"extendDomain")&&tt(v.props[h])&&tt(v.props[g])){var y=v.props[h],_=v.props[g];return[Math.min(x[0],y,_),Math.max(x[1],y,_)]}return x},d)}return o&&o.length&&(d=o.reduce(function(x,v){return tt(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},d)),d},F9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,g=new Array(h);d<h;d++)g[d]=f[d].fn;return g},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,d,h,g){var x=n?n+c:c;if(!this._events[x])return!1;var v=this._events[x],y=arguments.length,_,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,d),!0;case 5:return v.fn.call(v.context,u,f,d,h),!0;case 6:return v.fn.call(v.context,u,f,d,h,g),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];v.fn.apply(v.context,_)}else{var w=v.length,E;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,d);break;default:if(!_)for(E=1,_=new Array(y-1);E<y;E++)_[E-1]=arguments[E];v[b].fn.apply(v[b].context,_)}}return!0},s.prototype.on=function(c,u,f){return o(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return o(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,d){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!d||g.once)&&(!f||g.context===f)&&a(this,h);else{for(var x=0,v=[],y=g.length;x<y;x++)(g[x].fn!==u||d&&!g[x].once||f&&g[x].context!==f)&&v.push(g[x]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(F9);var xke=F9.exports;const _ke=rn(xke);var MT=new _ke,TT="recharts.syncMouseEvents";function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B9(r.key),r)}}function Ske(t,e,n){return e&&wke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AT(t,e,n){return e=B9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){var e=Eke(t,"string");return Vv(e)=="symbol"?e:e+""}function Eke(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mke=function(){function t(){bke(this,t),AT(this,"activeIndex",0),AT(this,"coordinateList",[]),AT(this,"layout","horizontal")}return Ske(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,d=n.mouseHandlerCallback,h=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,d=a+this.offset.top+s/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Tke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&tt(r)&&tt(i))return!0}return!1}function Ake(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function z9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Pn(e,n,r,i),s=Pn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Pke(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Pn(s,l,c,f),h=Pn(s,l,u,f);r=d.x,i=d.y,o=h.x,a=h.y}else return z9(e);return[{x:r,y:i},{x:o,y:a}]}function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){Cke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cke(t,e,n){return e=Rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rke(t){var e=Oke(t,"string");return Gv(e)=="symbol"?e:e+""}function Oke(t,e){if(Gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ike(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var g,x=RP;if(d==="ScatterChart")g=a,x=cIe;else if(d==="BarChart")g=Ake(f,a,l,u),x=bI;else if(f==="radial"){var v=z9(a),y=v.cx,_=v.cy,b=v.radius,w=v.startAngle,E=v.endAngle;g={cx:y,cy:_,startAngle:w,endAngle:E,innerRadius:b,outerRadius:b},x=H7}else g={points:Pke(f,a,l)},x=RP;var M=t1(t1(t1(t1({stroke:"#ccc",pointerEvents:"none"},l),g),Pt(h,!1)),{},{payload:s,payloadIndex:c,className:zt("recharts-tooltip-cursor",h.className)});return L.isValidElement(h)?L.cloneElement(h,M):L.createElement(x,M)}var Nke=["item"],Dke=["children","className","width","height","style","compact","title","desc"];function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function iz(t,e){return Uke(t)||kke(t,e)||H9(t,e)||Lke()}function Lke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Uke(t){if(Array.isArray(t))return t}function oz(t,e){if(t==null)return{};var n=Fke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V9(r.key),r)}}function jke(t,e,n){return e&&zke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hke(t,e,n){return e=yb(e),Vke(t,j9()?Reflect.construct(e,n||[],yb(t).constructor):e.apply(t,n))}function Vke(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(t)}function Gke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yb(t)}function $ke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lC(t,e)}function lp(t){return qke(t)||Xke(t)||H9(t)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H9(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function Xke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qke(t){if(Array.isArray(t))return cC(t)}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function az(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?az(Object(n),!0).forEach(function(r){Tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):az(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tt(t,e,n){return e=V9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V9(t){var e=Yke(t,"string");return sp(e)=="symbol"?e:e+""}function Yke(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kke={xAxis:["bottom","top"],yAxis:["left","right"]},Zke={width:"100%",height:"100%"},G9={x:0,y:0};function n1(t){return t}var Jke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Qke=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return ke(ke(ke({},i),Pn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return ke(ke(ke({},i),Pn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return G9},PS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(lp(s),lp(c)):s},[]);return a.length>0?a:e&&e.length&&tt(i)&&tt(o)?e.slice(i,o+1):[]};function $9(t){return t==="number"?[0,"auto"]:void 0}var uC=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=PS(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var h=f===void 0?s:f;d=F2(h,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(lp(l),[k7(c,d)]):l},[])},sz=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=Jke(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=FPe(a,s,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=uC(e,n,u,f),h=Qke(r,s,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:h}}return null},eUe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,h=R7(u,o);return r.reduce(function(g,x){var v,y=x.type.defaultProps!==void 0?ke(ke({},x.type.defaultProps),x.props):x.props,_=y.type,b=y.dataKey,w=y.allowDataOverflow,E=y.allowDuplicatedCategory,M=y.scale,T=y.ticks,O=y.includeHidden,P=y[a];if(g[P])return g;var R=PS(e.data,{graphicalItems:i.filter(function(X){var q,Z=a in X.props?X.props[a]:(q=X.type.defaultProps)===null||q===void 0?void 0:q[a];return Z===P}),dataStartIndex:l,dataEndIndex:c}),k=R.length,D,G,N;Tke(y.domain,w,_)&&(D=MP(y.domain,null,w),h&&(_==="number"||M!=="auto")&&(N=dg(R,b,"category")));var $=$9(_);if(!D||D.length===0){var H,K=(H=y.domain)!==null&&H!==void 0?H:$;if(b){if(D=dg(R,b,_),_==="category"&&h){var U=Pge(D);E&&U?(G=D,D=ab(0,k)):E||(D=I4(K,D,x).reduce(function(X,q){return X.indexOf(q)>=0?X:[].concat(lp(X),[q])},[]))}else if(_==="category")E?D=D.filter(function(X){return X!==""&&!$t(X)}):D=I4(K,D,x).reduce(function(X,q){return X.indexOf(q)>=0||q===""||$t(q)?X:[].concat(lp(X),[q])},[]);else if(_==="number"){var F=VPe(R,i.filter(function(X){var q,Z,ne=a in X.props?X.props[a]:(q=X.type.defaultProps)===null||q===void 0?void 0:q[a],se="hide"in X.props?X.props.hide:(Z=X.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ne===P&&(O||!se)}),b,o,u);F&&(D=F)}h&&(_==="number"||M!=="auto")&&(N=dg(R,b,"category"))}else h?D=ab(0,k):s&&s[P]&&s[P].hasStack&&_==="number"?D=d==="expand"?[0,1]:L7(s[P].stackGroups,l,c):D=C7(R,i.filter(function(X){var q=a in X.props?X.props[a]:X.type.defaultProps[a],Z="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return q===P&&(O||!Z)}),_,u,!0);if(_==="number")D=sC(f,D,P,o,T),K&&(D=MP(K,D,w));else if(_==="category"&&K){var j=K,z=D.every(function(X){return j.indexOf(X)>=0});z&&(D=j)}}return ke(ke({},g),{},Tt({},P,ke(ke({},y),{},{axisType:o,domain:D,categoricalDomain:N,duplicateDomain:G,originalDomain:(v=y.domain)!==null&&v!==void 0?v:$,isCategorical:h,layout:u})))},{})},tUe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=PS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=d.length,g=R7(u,o),x=-1;return r.reduce(function(v,y){var _=y.type.defaultProps!==void 0?ke(ke({},y.type.defaultProps),y.props):y.props,b=_[a],w=$9("number");if(!v[b]){x++;var E;return g?E=ab(0,h):s&&s[b]&&s[b].hasStack?(E=L7(s[b].stackGroups,l,c),E=sC(f,E,b,o)):(E=MP(w,C7(d,r.filter(function(M){var T,O,P=a in M.props?M.props[a]:(T=M.type.defaultProps)===null||T===void 0?void 0:T[a],R="hide"in M.props?M.props.hide:(O=M.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===b&&!R}),"number",u),i.defaultProps.allowDataOverflow),E=sC(f,E,b,o)),ke(ke({},v),{},Tt({},b,ke(ke({axisType:o},i.defaultProps),{},{hide:!0,orientation:Po(Kke,"".concat(o,".").concat(x%2),null),domain:E,originalDomain:w,isCategorical:g,layout:u})))}return v},{})},nUe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=Qo(u,o),h={};return d&&d.length?h=eUe(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=tUe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),h},rUe=function(e){var n=ec(e),r=Zs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:qO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:q_(n,r)}},lz=function(e){var n=e.children,r=e.defaultShowTooltip,i=xo(n,Qh),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},iUe=function(e){return!e||!e.length?!1:e.some(function(n){var r=el(n&&n.type);return r&&r.indexOf("Bar")>=0})},cz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oUe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,u=r.height,f=r.children,d=r.margin||{},h=xo(f,Qh),g=xo(f,Sc),x=Object.keys(l).reduce(function(E,M){var T=l[M],O=T.orientation;return!T.mirror&&!T.hide?ke(ke({},E),{},Tt({},O,E[O]+T.width)):E},{left:d.left||0,right:d.right||0}),v=Object.keys(a).reduce(function(E,M){var T=a[M],O=T.orientation;return!T.mirror&&!T.hide?ke(ke({},E),{},Tt({},O,Po(E,"".concat(O))+T.height)):E},{top:d.top||0,bottom:d.bottom||0}),y=ke(ke({},v),x),_=y.bottom;h&&(y.bottom+=h.props.height||Qh.defaultProps.height),g&&n&&(y=jPe(y,i,r,n));var b=c-y.left-y.right,w=u-y.top-y.bottom;return ke(ke({brushBottom:_},y),{},{width:Math.max(b,0),height:Math.max(w,0)})},aUe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},W9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(y,_){var b=_.graphicalItems,w=_.stackGroups,E=_.offset,M=_.updateId,T=_.dataStartIndex,O=_.dataEndIndex,P=y.barSize,R=y.layout,k=y.barGap,D=y.barCategoryGap,G=y.maxBarSize,N=cz(R),$=N.numericAxisName,H=N.cateAxisName,K=iUe(b),U=[];return b.forEach(function(F,j){var z=PS(y.data,{graphicalItems:[F],dataStartIndex:T,dataEndIndex:O}),X=F.type.defaultProps!==void 0?ke(ke({},F.type.defaultProps),F.props):F.props,q=X.dataKey,Z=X.maxBarSize,ne=X["".concat($,"Id")],se=X["".concat(H,"Id")],ae={},ge=l.reduce(function(ee,be){var fe=_["".concat(be.axisType,"Map")],me=X["".concat(be.axisType,"Id")];fe&&fe[me]||be.axisType==="zAxis"||Mf();var Ie=fe[me];return ke(ke({},ee),{},Tt(Tt({},be.axisType,Ie),"".concat(be.axisType,"Ticks"),Zs(Ie)))},ae),ce=ge[H],ve=ge["".concat(H,"Ticks")],he=w&&w[ne]&&w[ne].hasStack&&JPe(F,w[ne].stackGroups),V=el(F.type).indexOf("Bar")>=0,ye=q_(ce,ve),le=[],we=K&&BPe({barSize:P,stackGroups:w,totalSize:aUe(ge,H)});if(V){var ue,Fe,xe=$t(Z)?G:Z,Y=(ue=(Fe=q_(ce,ve,!0))!==null&&Fe!==void 0?Fe:xe)!==null&&ue!==void 0?ue:0;le=zPe({barGap:k,barCategoryGap:D,bandSize:Y!==ye?Y:ye,sizeList:we[se],maxBarSize:xe}),Y!==ye&&(le=le.map(function(ee){return ke(ke({},ee),{},{position:ke(ke({},ee.position),{},{offset:ee.position.offset-Y/2})})}))}var W=F&&F.type&&F.type.getComposedData;W&&U.push({props:ke(ke({},W(ke(ke({},ge),{},{displayedData:z,props:y,dataKey:q,item:F,bandSize:ye,barPosition:le,offset:E,stackedData:he,layout:R,dataStartIndex:T,dataEndIndex:O}))),{},Tt(Tt(Tt({key:F.key||"item-".concat(j)},$,ge[$]),H,ge[H]),"animationId",M)),childIndex:zge(F,y.children),item:F})}),U},h=function(y,_){var b=y.props,w=y.dataStartIndex,E=y.dataEndIndex,M=y.updateId;if(!TU({props:b}))return null;var T=b.children,O=b.layout,P=b.stackOffset,R=b.data,k=b.reverseStackOrder,D=cz(O),G=D.numericAxisName,N=D.cateAxisName,$=Qo(T,r),H=KPe(R,$,"".concat(G,"Id"),"".concat(N,"Id"),P,k),K=l.reduce(function(X,q){var Z="".concat(q.axisType,"Map");return ke(ke({},X),{},Tt({},Z,nUe(b,ke(ke({},q),{},{graphicalItems:$,stackGroups:q.axisType===G&&H,dataStartIndex:w,dataEndIndex:E}))))},{}),U=oUe(ke(ke({},K),{},{props:b,graphicalItems:$}),_==null?void 0:_.legendBBox);Object.keys(K).forEach(function(X){K[X]=u(b,K[X],U,X.replace("Map",""),n)});var F=K["".concat(N,"Map")],j=rUe(F),z=d(b,ke(ke({},K),{},{dataStartIndex:w,dataEndIndex:E,updateId:M,graphicalItems:$,stackGroups:H,offset:U}));return ke(ke({formattedGraphicalItems:z,graphicalItems:$,offset:U,stackGroups:H},j),K)},g=function(v){function y(_){var b,w,E;return Bke(this,y),E=Hke(this,y,[_]),Tt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tt(E,"accessibilityManager",new Mke),Tt(E,"handleLegendBBoxUpdate",function(M){if(M){var T=E.state,O=T.dataStartIndex,P=T.dataEndIndex,R=T.updateId;E.setState(ke({legendBBox:M},h({props:E.props,dataStartIndex:O,dataEndIndex:P,updateId:R},ke(ke({},E.state),{},{legendBBox:M}))))}}),Tt(E,"handleReceiveSyncEvent",function(M,T,O){if(E.props.syncId===M){if(O===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Tt(E,"handleBrushChange",function(M){var T=M.startIndex,O=M.endIndex;if(T!==E.state.dataStartIndex||O!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return ke({dataStartIndex:T,dataEndIndex:O},h({props:E.props,dataStartIndex:T,dataEndIndex:O,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),Tt(E,"handleMouseEnter",function(M){var T=E.getMouseInfo(M);if(T){var O=ke(ke({},T),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var P=E.props.onMouseEnter;Rt(P)&&P(O,M)}}),Tt(E,"triggeredAfterMouseMove",function(M){var T=E.getMouseInfo(M),O=T?ke(ke({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var P=E.props.onMouseMove;Rt(P)&&P(O,M)}),Tt(E,"handleItemMouseEnter",function(M){E.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Tt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Tt(E,"handleMouseMove",function(M){M.persist(),E.throttleTriggeredAfterMouseMove(M)}),Tt(E,"handleMouseLeave",function(M){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseLeave;Rt(O)&&O(T,M)}),Tt(E,"handleOuterEvent",function(M){var T=Bge(M),O=Po(E.props,"".concat(T));if(T&&Rt(O)){var P,R;/.*touch.*/i.test(T)?R=E.getMouseInfo(M.changedTouches[0]):R=E.getMouseInfo(M),O((P=R)!==null&&P!==void 0?P:{},M)}}),Tt(E,"handleClick",function(M){var T=E.getMouseInfo(M);if(T){var O=ke(ke({},T),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var P=E.props.onClick;Rt(P)&&P(O,M)}}),Tt(E,"handleMouseDown",function(M){var T=E.props.onMouseDown;if(Rt(T)){var O=E.getMouseInfo(M);T(O,M)}}),Tt(E,"handleMouseUp",function(M){var T=E.props.onMouseUp;if(Rt(T)){var O=E.getMouseInfo(M);T(O,M)}}),Tt(E,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Tt(E,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseDown(M.changedTouches[0])}),Tt(E,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseUp(M.changedTouches[0])}),Tt(E,"handleDoubleClick",function(M){var T=E.props.onDoubleClick;if(Rt(T)){var O=E.getMouseInfo(M);T(O,M)}}),Tt(E,"handleContextMenu",function(M){var T=E.props.onContextMenu;if(Rt(T)){var O=E.getMouseInfo(M);T(O,M)}}),Tt(E,"triggerSyncEvent",function(M){E.props.syncId!==void 0&&MT.emit(TT,E.props.syncId,M,E.eventEmitterSymbol)}),Tt(E,"applySyncEvent",function(M){var T=E.props,O=T.layout,P=T.syncMethod,R=E.state.updateId,k=M.dataStartIndex,D=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)E.setState(ke({dataStartIndex:k,dataEndIndex:D},h({props:E.props,dataStartIndex:k,dataEndIndex:D,updateId:R},E.state)));else if(M.activeTooltipIndex!==void 0){var G=M.chartX,N=M.chartY,$=M.activeTooltipIndex,H=E.state,K=H.offset,U=H.tooltipTicks;if(!K)return;if(typeof P=="function")$=P(U,M);else if(P==="value"){$=-1;for(var F=0;F<U.length;F++)if(U[F].value===M.activeLabel){$=F;break}}var j=ke(ke({},K),{},{x:K.left,y:K.top}),z=Math.min(G,j.x+j.width),X=Math.min(N,j.y+j.height),q=U[$]&&U[$].value,Z=uC(E.state,E.props.data,$),ne=U[$]?{x:O==="horizontal"?U[$].coordinate:z,y:O==="horizontal"?X:U[$].coordinate}:G9;E.setState(ke(ke({},M),{},{activeLabel:q,activeCoordinate:ne,activePayload:Z,activeTooltipIndex:$}))}else E.setState(M)}),Tt(E,"renderCursor",function(M){var T,O=E.state,P=O.isTooltipActive,R=O.activeCoordinate,k=O.activePayload,D=O.offset,G=O.activeTooltipIndex,N=O.tooltipAxisBandSize,$=E.getTooltipEventType(),H=(T=M.props.active)!==null&&T!==void 0?T:P,K=E.props.layout,U=M.key||"_recharts-cursor";return J.createElement(Ike,{key:U,activeCoordinate:R,activePayload:k,activeTooltipIndex:G,chartName:n,element:M,isActive:H,layout:K,offset:D,tooltipAxisBandSize:N,tooltipEventType:$})}),Tt(E,"renderPolarAxis",function(M,T,O){var P=Po(M,"type.axisType"),R=Po(E.state,"".concat(P,"Map")),k=M.type.defaultProps,D=k!==void 0?ke(ke({},k),M.props):M.props,G=R&&R[D["".concat(P,"Id")]];return L.cloneElement(M,ke(ke({},G),{},{className:zt(P,G.className),key:M.key||"".concat(T,"-").concat(O),ticks:Zs(G,!0)}))}),Tt(E,"renderPolarGrid",function(M){var T=M.props,O=T.radialLines,P=T.polarAngles,R=T.polarRadius,k=E.state,D=k.radiusAxisMap,G=k.angleAxisMap,N=ec(D),$=ec(G),H=$.cx,K=$.cy,U=$.innerRadius,F=$.outerRadius;return L.cloneElement(M,{polarAngles:Array.isArray(P)?P:Zs($,!0).map(function(j){return j.coordinate}),polarRadius:Array.isArray(R)?R:Zs(N,!0).map(function(j){return j.coordinate}),cx:H,cy:K,innerRadius:U,outerRadius:F,key:M.key||"polar-grid",radialLines:O})}),Tt(E,"renderLegend",function(){var M=E.state.formattedGraphicalItems,T=E.props,O=T.children,P=T.width,R=T.height,k=E.props.margin||{},D=P-(k.left||0)-(k.right||0),G=A7({children:O,formattedGraphicalItems:M,legendWidth:D,legendContent:c});if(!G)return null;var N=G.item,$=oz(G,Nke);return L.cloneElement(N,ke(ke({},$),{},{chartWidth:P,chartHeight:R,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Tt(E,"renderTooltip",function(){var M,T=E.props,O=T.children,P=T.accessibilityLayer,R=xo(O,_o);if(!R)return null;var k=E.state,D=k.isTooltipActive,G=k.activeCoordinate,N=k.activePayload,$=k.activeLabel,H=k.offset,K=(M=R.props.active)!==null&&M!==void 0?M:D;return L.cloneElement(R,{viewBox:ke(ke({},H),{},{x:H.left,y:H.top}),active:K,label:$,payload:K?N:[],coordinate:G,accessibilityLayer:P})}),Tt(E,"renderBrush",function(M){var T=E.props,O=T.margin,P=T.data,R=E.state,k=R.offset,D=R.dataStartIndex,G=R.dataEndIndex,N=R.updateId;return L.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Zx(E.handleBrushChange,M.props.onChange),data:P,x:tt(M.props.x)?M.props.x:k.left,y:tt(M.props.y)?M.props.y:k.top+k.height+k.brushBottom-(O.bottom||0),width:tt(M.props.width)?M.props.width:k.width,startIndex:D,endIndex:G,updateId:"brush-".concat(N)})}),Tt(E,"renderReferenceElement",function(M,T,O){if(!M)return null;var P=E,R=P.clipPathId,k=E.state,D=k.xAxisMap,G=k.yAxisMap,N=k.offset,$=M.type.defaultProps||{},H=M.props,K=H.xAxisId,U=K===void 0?$.xAxisId:K,F=H.yAxisId,j=F===void 0?$.yAxisId:F;return L.cloneElement(M,{key:M.key||"".concat(T,"-").concat(O),xAxis:D[U],yAxis:G[j],viewBox:{x:N.left,y:N.top,width:N.width,height:N.height},clipPathId:R})}),Tt(E,"renderActivePoints",function(M){var T=M.item,O=M.activePoint,P=M.basePoint,R=M.childIndex,k=M.isRange,D=[],G=T.props.key,N=T.item.type.defaultProps!==void 0?ke(ke({},T.item.type.defaultProps),T.item.props):T.item.props,$=N.activeDot,H=N.dataKey,K=ke(ke({index:R,dataKey:H,cx:O.x,cy:O.y,r:4,fill:_I(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Pt($,!1)),__($));return D.push(y.renderActiveDot($,K,"".concat(G,"-activePoint-").concat(R))),P?D.push(y.renderActiveDot($,ke(ke({},K),{},{cx:P.x,cy:P.y}),"".concat(G,"-basePoint-").concat(R))):k&&D.push(null),D}),Tt(E,"renderGraphicChild",function(M,T,O){var P=E.filterFormatItem(M,T,O);if(!P)return null;var R=E.getTooltipEventType(),k=E.state,D=k.isTooltipActive,G=k.tooltipAxis,N=k.activeTooltipIndex,$=k.activeLabel,H=E.props.children,K=xo(H,_o),U=P.props,F=U.points,j=U.isRange,z=U.baseLine,X=P.item.type.defaultProps!==void 0?ke(ke({},P.item.type.defaultProps),P.item.props):P.item.props,q=X.activeDot,Z=X.hide,ne=X.activeBar,se=X.activeShape,ae=!!(!Z&&D&&K&&(q||ne||se)),ge={};R!=="axis"&&K&&K.props.trigger==="click"?ge={onClick:Zx(E.handleItemMouseEnter,M.props.onClick)}:R!=="axis"&&(ge={onMouseLeave:Zx(E.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Zx(E.handleItemMouseEnter,M.props.onMouseEnter)});var ce=L.cloneElement(M,ke(ke({},P.props),ge));function ve(be){return typeof G.dataKey=="function"?G.dataKey(be.payload):null}if(ae)if(N>=0){var he,V;if(G.dataKey&&!G.allowDuplicatedCategory){var ye=typeof G.dataKey=="function"?ve:"payload.".concat(G.dataKey.toString());he=F2(F,ye,$),V=j&&z&&F2(z,ye,$)}else he=F==null?void 0:F[N],V=j&&z&&z[N];if(se||ne){var le=M.props.activeIndex!==void 0?M.props.activeIndex:N;return[L.cloneElement(M,ke(ke(ke({},P.props),ge),{},{activeIndex:le})),null,null]}if(!$t(he))return[ce].concat(lp(E.renderActivePoints({item:P,activePoint:he,basePoint:V,childIndex:N,isRange:j})))}else{var we,ue=(we=E.getItemByXY(E.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:ce},Fe=ue.graphicalItem,xe=Fe.item,Y=xe===void 0?M:xe,W=Fe.childIndex,ee=ke(ke(ke({},P.props),ge),{},{activeIndex:W});return[L.cloneElement(Y,ee),null,null]}return j?[ce,null,null]:[ce,null]}),Tt(E,"renderCustomized",function(M,T,O){return L.cloneElement(M,ke(ke({key:"recharts-customized-".concat(O)},E.props),E.state))}),Tt(E,"renderMap",{CartesianGrid:{handler:n1,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:n1},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:n1},YAxis:{handler:n1},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((b=_.id)!==null&&b!==void 0?b:_y("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=TW(E.triggeredAfterMouseMove,(w=_.throttleDelay)!==null&&w!==void 0?w:1e3/60),E.state={},E}return $ke(y,v),jke(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,E=b.data,M=b.height,T=b.layout,O=xo(w,_o);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=uC(this.state,E,P,R),D=this.state.tooltipTicks[P].coordinate,G=(this.state.offset.top+M)/2,N=T==="horizontal",$=N?{x:D,y:G}:{y:D,x:G},H=this.state.formattedGraphicalItems.find(function(U){var F=U.item;return F.type.name==="Scatter"});H&&($=ke(ke({},$),H.props.points[P].tooltipPosition),k=H.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:R,activePayload:k,activeCoordinate:$};this.setState(K),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var E,M;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(b){z2([xo(b.children,_o)],[xo(this.props.children,_o)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=xo(this.props.children,_o);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return s.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,E=w.getBoundingClientRect(),M=dMe(E),T={chartX:Math.round(b.pageX-M.left),chartY:Math.round(b.pageY-M.top)},O=E.width/w.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,O);if(!P)return null;var R=this.state,k=R.xAxisMap,D=R.yAxisMap,G=this.getTooltipEventType(),N=sz(this.state,this.props.data,this.props.layout,P);if(G!=="axis"&&k&&D){var $=ec(k).scale,H=ec(D).scale,K=$&&$.invert?$.invert(T.chartX):null,U=H&&H.invert?H.invert(T.chartY):null;return ke(ke({},T),{},{xValue:K,yValue:U},N)}return N?ke(ke({},T),N):null}},{key:"inRange",value:function(b,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,T=b/E,O=w/E;if(M==="horizontal"||M==="vertical"){var P=this.state.offset,R=T>=P.left&&T<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return R?{x:T,y:O}:null}var k=this.state,D=k.angleAxisMap,G=k.radiusAxisMap;if(D&&G){var N=ec(D);return L4({x:T,y:O},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),E=xo(b,_o),M={};E&&w==="axis"&&(E.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=__(this.props,this.handleOuterEvent);return ke(ke({},T),M)}},{key:"addListener",value:function(){MT.on(TT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){MT.removeListener(TT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,E){for(var M=this.state.formattedGraphicalItems,T=0,O=M.length;T<O;T++){var P=M[T];if(P.item===b||P.props.key===b.key||w===el(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,E=w.left,M=w.top,T=w.height,O=w.width;return J.createElement("defs",null,J.createElement("clipPath",{id:b},J.createElement("rect",{x:E,y:M,height:T,width:O})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,E){var M=iz(E,2),T=M[0],O=M[1];return ke(ke({},w),{},Tt({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,E){var M=iz(E,2),T=M[0],O=M[1];return ke(ke({},w),{},Tt({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,E=w.formattedGraphicalItems,M=w.activeItem;if(E&&E.length)for(var T=0,O=E.length;T<O;T++){var P=E[T],R=P.props,k=P.item,D=k.type.defaultProps!==void 0?ke(ke({},k.type.defaultProps),k.props):k.props,G=el(k.type);if(G==="Bar"){var N=(R.data||[]).find(function(U){return VOe(b,U)});if(N)return{graphicalItem:P,payload:N}}else if(G==="RadialBar"){var $=(R.data||[]).find(function(U){return L4(b,U)});if($)return{graphicalItem:P,payload:$}}else if(bS(P,M)||wS(P,M)||Fv(P,M)){var H=ONe({graphicalItem:P,activeTooltipItem:M,itemData:D.data}),K=D.activeIndex===void 0?H:D.activeIndex;return{graphicalItem:ke(ke({},P),{},{childIndex:K}),payload:Fv(P,M)?D.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!TU(this))return null;var w=this.props,E=w.children,M=w.className,T=w.width,O=w.height,P=w.style,R=w.compact,k=w.title,D=w.desc,G=oz(w,Dke),N=Pt(G,!1);if(R)return J.createElement(VB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(H2,nh({},N,{width:T,height:O,title:k,desc:D}),this.renderClipPath(),PU(E,this.renderMap)));if(this.props.accessibilityLayer){var $,H;N.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,N.role=(H=this.props.role)!==null&&H!==void 0?H:"application",N.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},N.onFocus=function(){b.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return J.createElement(VB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",nh({className:zt("recharts-wrapper",M),style:ke({position:"relative",cursor:"default",width:T,height:O},P)},K,{ref:function(F){b.container=F}}),J.createElement(H2,nh({},N,{width:T,height:O,title:k,desc:D,style:Zke}),this.renderClipPath(),PU(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(L.Component);Tt(g,"displayName",n),Tt(g,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Tt(g,"getDerivedStateFromProps",function(v,y){var _=v.dataKey,b=v.data,w=v.children,E=v.width,M=v.height,T=v.layout,O=v.stackOffset,P=v.margin,R=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var D=lz(v);return ke(ke(ke({},D),{},{updateId:0},h(ke(ke({props:v},D),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:M,prevLayout:T,prevStackOffset:O,prevMargin:P,prevChildren:w})}if(_!==y.prevDataKey||b!==y.prevData||E!==y.prevWidth||M!==y.prevHeight||T!==y.prevLayout||O!==y.prevStackOffset||!hh(P,y.prevMargin)){var G=lz(v),N={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},$=ke(ke({},sz(y,b,T)),{},{updateId:y.updateId+1}),H=ke(ke(ke({},G),N),$);return ke(ke(ke({},H),h(ke({props:v},H),y)),{},{prevDataKey:_,prevData:b,prevWidth:E,prevHeight:M,prevLayout:T,prevStackOffset:O,prevMargin:P,prevChildren:w})}if(!z2(w,y.prevChildren)){var K,U,F,j,z=xo(w,Qh),X=z&&(K=(U=z.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:R,q=z&&(F=(j=z.props)===null||j===void 0?void 0:j.endIndex)!==null&&F!==void 0?F:k,Z=X!==R||q!==k,ne=!$t(b),se=ne&&!Z?y.updateId:y.updateId+1;return ke(ke({updateId:se},h(ke(ke({props:v},y),{},{updateId:se,dataStartIndex:X,dataEndIndex:q}),y)),{},{prevChildren:w,dataStartIndex:X,dataEndIndex:q})}return null}),Tt(g,"renderActiveDot",function(v,y,_){var b;return L.isValidElement(v)?b=L.cloneElement(v,y):Rt(v)?b=v(y):b=J.createElement(wI,y),J.createElement(fn,{className:"recharts-active-dot",key:_},b)});var x=L.forwardRef(function(y,_){return J.createElement(g,nh({},y,{ref:_}))});return x.displayName=g.displayName,x},X9=W9({chartName:"BarChart",GraphicalChild:$c,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ty},{axisType:"yAxis",AxisComp:Ay}],formatAxisMap:cDe}),q9=W9({chartName:"PieChart",GraphicalChild:ms,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_S},{axisType:"radiusAxis",AxisComp:yS}],formatAxisMap:lCe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const sUe=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0],i=typeof r.value=="number"?r.value:0,o=n||r.name||"Value";return C.jsxs("div",{style:{backgroundColor:"hsl(222, 47%, 14%)",border:"1px solid hsl(217, 32%, 22%)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",padding:"8px 12px"},children:[C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",fontWeight:500,marginBottom:"4px",marginTop:0},children:o}),C.jsxs("p",{style:{color:"hsl(210, 40%, 98%)",margin:0},children:[i.toFixed(2)," mW"]})]})}return null},Kl={preStandby:"#64748b",actStandby:"#3b82f6",actPre:"#f97316",read:"#22c55e",write:"#a855f7",refresh:"#eab308",vdd:"#3b82f6",vpp:"#f97316"};function lUe({powerResult:t}){const e=L.useMemo(()=>t?[{name:`PRE
Standby`,value:t.P_PRE_STBY_core*1e3,fill:Kl.preStandby},{name:`ACT
Standby`,value:t.P_ACT_STBY_core*1e3,fill:Kl.actStandby},{name:"ACT/PRE",value:t.P_ACT_PRE_core*1e3,fill:Kl.actPre},{name:"Read",value:t.P_RD_core*1e3,fill:Kl.read},{name:"Write",value:t.P_WR_core*1e3,fill:Kl.write},{name:"Refresh",value:t.P_REF_core*1e3,fill:Kl.refresh}]:[],[t]);return t?C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"Power Breakdown (mW)"})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx(N_,{width:"100%",height:220,children:C.jsxs(X9,{data:e,margin:{top:10,right:10,left:-10,bottom:20},children:[C.jsx(II,{strokeDasharray:"3 3",stroke:"hsl(217, 32%, 22%)"}),C.jsx(Ty,{dataKey:"name",tick:{fill:"hsl(215, 20%, 65%)",fontSize:10},axisLine:{stroke:"hsl(217, 32%, 22%)"},tickLine:{stroke:"hsl(217, 32%, 22%)"},interval:0}),C.jsx(Ay,{tick:{fill:"hsl(215, 20%, 65%)",fontSize:10},axisLine:{stroke:"hsl(217, 32%, 22%)"},tickLine:{stroke:"hsl(217, 32%, 22%)"}}),C.jsx(_o,{content:C.jsx(sUe,{})}),C.jsx($c,{dataKey:"value",radius:[4,4,0,0],maxBarSize:40,children:e.map((n,r)=>C.jsx(wf,{fill:n.fill},`cell-${r}`))})]})})})]}):C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"Power Breakdown"})}),C.jsx(un,{className:"!p-4 !pt-0 h-[200px] flex items-center justify-center",children:C.jsx("p",{className:"text-muted-foreground text-sm",children:"No data available"})})]})}function cUe({powerResult:t}){const e=L.useMemo(()=>t?[{name:"VDD Core",value:t.P_VDD_core*1e3,color:Kl.vdd},{name:"VPP Core",value:t.P_VPP_core*1e3,color:Kl.vpp}]:[],[t]);if(!t)return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"VDD vs VPP"})}),C.jsx(un,{className:"!p-4 !pt-0 h-[200px] flex items-center justify-center",children:C.jsx("p",{className:"text-muted-foreground text-sm",children:"No data available"})})]});const n=e.reduce((r,i)=>r+i.value,0);return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"VDD vs VPP Distribution"})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx(N_,{width:"100%",height:220,children:C.jsxs(q9,{children:[C.jsx(ms,{data:e,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:3,dataKey:"value",children:e.map((r,i)=>C.jsx(wf,{fill:r.color},`cell-${i}`))}),C.jsx(_o,{content:r=>{if(r.active&&r.payload&&r.payload.length){const i=r.payload[0],o=typeof i.value=="number"?i.value:0;return C.jsxs("div",{style:{backgroundColor:"hsl(222, 47%, 14%)",border:"1px solid hsl(217, 32%, 22%)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",padding:"8px 12px"},children:[C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",fontWeight:500,marginBottom:"4px"},children:i.name||"Value"}),C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",margin:0},children:`${o.toFixed(2)} mW (${(o/n*100).toFixed(1)}%)`})]})}return null}}),C.jsx(Sc,{verticalAlign:"bottom",formatter:r=>C.jsx("span",{style:{color:"hsl(215, 20%, 65%)"},children:r})})]})})})]})}function uUe({powerResult:t}){return t?C.jsxs(cn,{className:"power-card relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-accent/10 pointer-events-none"}),C.jsxs(un,{className:"!p-4 !pt-0 relative",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("p",{className:"data-label mb-2",children:"Total Core Power"}),C.jsx("p",{className:"text-4xl font-bold font-mono gradient-text",children:Wo(t.P_total_core)})]}),C.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-center",children:[C.jsxs("div",{children:[C.jsx("p",{className:"data-label",children:"VDD Power"}),C.jsx("p",{className:"text-lg font-mono text-power-vdd",children:Wo(t.P_VDD_core)})]}),C.jsxs("div",{children:[C.jsx("p",{className:"data-label",children:"VPP Power"}),C.jsx("p",{className:"text-lg font-mono text-power-vpp",children:Wo(t.P_VPP_core)})]})]})]})]}):C.jsx(cn,{className:"power-card",children:C.jsx(un,{className:"py-6 text-center",children:C.jsx("p",{className:"text-muted-foreground",children:"Waiting for calculation..."})})})}function fUe({powerResult:t}){if(!t)return C.jsx(cn,{className:"power-card",children:C.jsx(un,{className:"!p-4 text-center",children:C.jsx("p",{className:"text-muted-foreground",children:"Configure memory and workload to see power details"})})});const e=[{label:"Precharge Standby",value:t.P_PRE_STBY_core,icon:i_,color:"text-power-standby",description:"Power when all banks precharged, CKE high"},{label:"Active Standby",value:t.P_ACT_STBY_core,icon:MA,color:"text-power-vdd",description:"Power with one or more banks active"},{label:"Activate/Precharge",value:t.P_ACT_PRE_core,icon:MA,color:"text-power-vpp",description:"Power for row activation and precharge"},{label:"Read Operations",value:t.P_RD_core,icon:nZ,color:"text-power-read",description:"Incremental power during read bursts"},{label:"Write Operations",value:t.P_WR_core,icon:tZ,color:"text-power-write",description:"Incremental power during write bursts"},{label:"Refresh",value:t.P_REF_core,icon:aZ,color:"text-power-refresh",description:"Power consumed by periodic cell refresh"}];return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsxs(Tn,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:[C.jsx("span",{children:"Power Components"}),C.jsxs(nw,{variant:"outline",className:"text-xs font-mono",children:["Total: ",Wo(t.P_total_core)]})]})}),C.jsx(un,{className:"!p-4 !pt-0 space-y-2.5",children:e.map(n=>{const r=n.icon,i=n.value/t.P_total_core*100;return C.jsxs("div",{className:"group",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(r,{className:`w-3.5 h-3.5 ${n.color}`}),C.jsx("span",{className:"text-sm",children:n.label})]}),C.jsx("span",{className:`data-value ${n.color}`,children:Wo(n.value)})]}),C.jsx("div",{className:"relative h-1.5 bg-secondary rounded-full overflow-hidden",children:C.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full transition-all duration-300",style:{width:`${Math.min(i,100)}%`,backgroundColor:`var(--${n.color.replace("text-","")})`,boxShadow:`0 0 8px var(--${n.color.replace("text-","")})`}})}),C.jsxs("p",{className:"text-xs text-muted-foreground mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.description," (",i.toFixed(1),"%)"]})]},n.label)})})]})}function Y9(t,e,n={}){const{debounceMs:r=150}=n,[i,o]=L.useState(null),[a,s]=L.useState(null),[l,c]=L.useState(!1),[u,f]=L.useState(null),d=L.useRef(),h=L.useCallback(()=>{if(!t||!e){o(null);return}c(!0),f(null),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{try{const g=bH(t,e);o(g);const x=$ne(g,t,{isRDIMM:!1});s(x),f(null)}catch(g){f(g instanceof Error?g:new Error("Calculation failed")),o(null),s(null)}finally{c(!1)}},r)},[t,e,r]);return L.useEffect(()=>(h(),()=>{d.current&&clearTimeout(d.current)}),[h]),{powerResult:i,dimmPowerResult:a,isCalculating:l,error:u,calculate:h}}function dUe(){const{memspec:t,workload:e}=Kb(),n=iy(),{powerResult:r,isCalculating:i,error:o}=Y9(t,e);return C.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[C.jsx(oy,{}),C.jsxs("main",{className:"flex-1 container mx-auto px-4 py-6 overflow-y-auto scrollbar-thin",children:[C.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Core Power Analysis"}),C.jsx("p",{className:"text-muted-foreground",children:"Detailed breakdown of DDR5 core power consumption per chip"})]}),C.jsxs(ro,{variant:"outline",onClick:()=>n("/configuration"),className:"flex items-center gap-2",children:[C.jsx(s6,{className:"w-4 h-4"}),"Back to Configuration"]})]}),i&&C.jsxs("div",{className:"fixed top-16 right-4 flex items-center gap-2 bg-card border border-border rounded-lg px-3 py-2 shadow-lg z-40",children:[C.jsx(l6,{className:"w-4 h-4 animate-spin text-primary"}),C.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculating..."})]}),o&&C.jsx("div",{className:"mb-4 p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:C.jsxs("p",{className:"text-sm text-destructive",children:["Error: ",o.message]})}),C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[C.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[C.jsx(uUe,{powerResult:r}),C.jsx(Xde,{powerResult:r,memspec:t})]}),C.jsx("div",{className:"lg:col-span-4 space-y-6",children:C.jsx(fUe,{powerResult:r})}),C.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[C.jsx(lUe,{powerResult:r}),C.jsx(cUe,{powerResult:r})]})]}),C.jsx("footer",{className:"mt-8 pt-6 border-t border-border",children:C.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 text-xs text-muted-foreground",children:[C.jsx("p",{children:"DDR5 Power Calculator  Based on JEDEC JESD79-5 specifications"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{children:"VDD: 1.1V nominal"}),C.jsx("span",{children:"VPP: 1.8V nominal"}),C.jsx("span",{children:"VDDQ: 1.1V nominal"})]})]})})]})]})}const Ls={core:"#3b82f6",interface:"#22c55e",overhead:"#f97316",rcd:"#a855f7"},hUe=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0],i=typeof r.value=="number"?r.value:0;return C.jsxs("div",{style:{backgroundColor:"hsl(222, 47%, 14%)",border:"1px solid hsl(217, 32%, 22%)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",padding:"8px 12px"},children:[C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",fontWeight:500,marginBottom:"4px",marginTop:0},children:n||r.name||"Value"}),C.jsxs("p",{style:{color:"hsl(210, 40%, 98%)",margin:0},children:[i.toFixed(3)," W"]})]})}return null};function pUe({dimmPower:t,memspec:e}){const n=L.useMemo(()=>t?[{name:"Core Power",value:t.P_core_DIMM,fill:Ls.core,icon:i_,description:`Power from ${t.chipsPerDIMM} memory chips`},{name:"Interface Power",value:t.P_interface_DIMM,fill:Ls.interface,icon:yc,description:"VDDQ IO power for data lines"},{name:"Overhead",value:t.P_overhead_DIMM,fill:Ls.overhead,icon:Ng,description:"PMIC efficiency loss"+(t.rcdPower?" + RCD power":"")}]:[],[t]),r=L.useMemo(()=>t?[{name:"Core",value:t.P_core_DIMM,color:Ls.core},{name:"Interface",value:t.P_interface_DIMM,color:Ls.interface},{name:"Overhead",value:t.P_overhead_DIMM,color:Ls.overhead}]:[],[t]);if(!t)return C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"Total DIMM Power"})}),C.jsx(un,{className:"!p-4 !pt-0 text-center py-8",children:C.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure memory and workload to see DIMM power"})})]});const i=t.P_total_DIMM,o=t.corePower.P_total_core*t.chipsPerDIMM,a=(t.P_overhead_DIMM/i*100).toFixed(1),s=(t.P_interface_DIMM/i*100).toFixed(1),l=(t.P_core_DIMM/i*100).toFixed(1);return C.jsxs("div",{className:"space-y-6",children:[C.jsxs(cn,{className:"power-card relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-accent/5 to-transparent pointer-events-none"}),C.jsx(Mn,{className:"!p-4 !pb-2 relative",children:C.jsxs(Tn,{className:"text-sm font-medium text-muted-foreground flex items-center justify-between",children:[C.jsxs("span",{className:"flex items-center gap-2",children:[C.jsx(Oh,{className:"w-4 h-4 text-primary"}),"Total DIMM Power"]}),C.jsxs(nw,{variant:"outline",className:"text-xs font-mono",children:[t.chipsPerDIMM," chips"]})]})}),C.jsxs(un,{className:"!p-4 !pt-0 relative",children:[C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("p",{className:"data-label mb-2",children:"Total DIMM Power"}),C.jsx("p",{className:"text-5xl font-bold font-mono gradient-text",children:Wo(t.P_total_DIMM,3)}),C.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Core only: ",Wo(o,3),"  Overhead: ",a,"%  Interface: ",s,"%"]})]}),C.jsx("div",{className:"grid grid-cols-3 gap-3 mt-4",children:n.map(c=>{const u=c.icon,f=c.value/i*100;return C.jsxs("div",{className:"text-center p-2 rounded-lg bg-secondary/30",children:[C.jsx(u,{className:"w-4 h-4 mx-auto mb-1",style:{color:c.fill}}),C.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:c.name}),C.jsx("p",{className:"text-sm font-mono font-semibold",style:{color:c.fill},children:Wo(c.value,2)}),C.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.toFixed(1),"%"]})]},c.name)})})]})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"DIMM Power Breakdown (W)"})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx(N_,{width:"100%",height:200,children:C.jsxs(X9,{data:n,margin:{top:10,right:10,left:-10,bottom:20},children:[C.jsx(II,{strokeDasharray:"3 3",stroke:"hsl(217, 32%, 22%)"}),C.jsx(Ty,{dataKey:"name",tick:{fill:"hsl(215, 20%, 65%)",fontSize:10},axisLine:{stroke:"hsl(217, 32%, 22%)"},tickLine:{stroke:"hsl(217, 32%, 22%)"}}),C.jsx(Ay,{tick:{fill:"hsl(215, 20%, 65%)",fontSize:10},axisLine:{stroke:"hsl(217, 32%, 22%)"},tickLine:{stroke:"hsl(217, 32%, 22%)"}}),C.jsx(_o,{content:C.jsx(hUe,{})}),C.jsx($c,{dataKey:"value",radius:[4,4,0,0],maxBarSize:60,children:n.map((c,u)=>C.jsx(wf,{fill:c.fill},`cell-${u}`))})]})})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"Power Distribution"})}),C.jsx(un,{className:"!p-4 !pt-0",children:C.jsx(N_,{width:"100%",height:200,children:C.jsxs(q9,{children:[C.jsx(ms,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:3,dataKey:"value",children:r.map((c,u)=>C.jsx(wf,{fill:c.color},`cell-${u}`))}),C.jsx(_o,{content:c=>{if(c.active&&c.payload&&c.payload.length){const u=c.payload[0],f=typeof u.value=="number"?u.value:0,d=r.reduce((h,g)=>h+g.value,0);return C.jsxs("div",{style:{backgroundColor:"hsl(222, 47%, 14%)",border:"1px solid hsl(217, 32%, 22%)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",padding:"8px 12px"},children:[C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",fontWeight:500,marginBottom:"4px",marginTop:0},children:u.name||"Value"}),C.jsx("p",{style:{color:"hsl(210, 40%, 98%)",margin:0},children:`${f.toFixed(3)} W (${(f/d*100).toFixed(1)}%)`})]})}return null}}),C.jsx(Sc,{verticalAlign:"bottom",formatter:c=>C.jsx("span",{style:{color:"hsl(215, 20%, 65%)"},children:c})})]})})})]}),C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{className:"!p-4 !pb-2",children:C.jsx(Tn,{className:"text-sm font-medium text-muted-foreground",children:"Component Details"})}),C.jsxs(un,{className:"!p-4 !pt-0 space-y-3",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(i_,{className:"w-3.5 h-3.5 text-power-vdd"}),C.jsxs("span",{className:"text-sm",children:["Core Power (",t.chipsPerDIMM," chips)"]})]}),C.jsx("span",{className:"data-value text-power-vdd",children:Wo(t.P_core_DIMM,3)})]}),C.jsx("div",{className:"relative h-1.5 bg-secondary rounded-full overflow-hidden",children:C.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full",style:{width:`${l}%`,backgroundColor:Ls.core}})})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(yc,{className:"w-3.5 h-3.5 text-power-read"}),C.jsx("span",{className:"text-sm",children:"Interface Power (VDDQ IO)"})]}),C.jsx("span",{className:"data-value text-power-read",children:Wo(t.P_interface_DIMM,3)})]}),C.jsx("div",{className:"relative h-1.5 bg-secondary rounded-full overflow-hidden",children:C.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full",style:{width:`${s}%`,backgroundColor:Ls.interface}})})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Ng,{className:"w-3.5 h-3.5 text-power-vpp"}),C.jsx("span",{className:"text-sm",children:"Overhead"})]}),C.jsx("span",{className:"data-value text-power-vpp",children:Wo(t.P_overhead_DIMM,3)})]}),C.jsx("div",{className:"relative h-1.5 bg-secondary rounded-full overflow-hidden",children:C.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full",style:{width:`${a}%`,backgroundColor:Ls.overhead}})}),t.rcdPower&&C.jsxs("p",{className:"text-xs text-muted-foreground ml-7",children:["Includes RCD power: ",Wo(t.rcdPower,3)]})]})]})]})]})}function mUe(){const{memspec:t,workload:e}=Kb(),n=iy(),{dimmPowerResult:r,isCalculating:i,error:o}=Y9(t,e);return C.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[C.jsx(oy,{}),C.jsxs("main",{className:"flex-1 container mx-auto px-4 py-6 overflow-y-auto scrollbar-thin",children:[C.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Total DIMM Power Analysis"}),C.jsx("p",{className:"text-muted-foreground",children:"Complete DIMM power consumption including core, interface, and overhead components"})]}),C.jsxs(ro,{variant:"outline",onClick:()=>n("/configuration"),className:"flex items-center gap-2",children:[C.jsx(s6,{className:"w-4 h-4"}),"Back to Configuration"]})]}),i&&C.jsxs("div",{className:"fixed top-16 right-4 flex items-center gap-2 bg-card border border-border rounded-lg px-3 py-2 shadow-lg z-40",children:[C.jsx(l6,{className:"w-4 h-4 animate-spin text-primary"}),C.jsx("span",{className:"text-sm text-muted-foreground",children:"Calculating..."})]}),o&&C.jsx("div",{className:"mb-4 p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:C.jsxs("p",{className:"text-sm text-destructive",children:["Error: ",o.message]})}),C.jsx("div",{className:"max-w-7xl mx-auto",children:C.jsx(pUe,{dimmPower:r,memspec:t})}),C.jsx("footer",{className:"mt-8 pt-6 border-t border-border",children:C.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 text-xs text-muted-foreground",children:[C.jsx("p",{children:"DDR5 Power Calculator  Based on JEDEC JESD79-5 specifications"}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("span",{children:"VDD: 1.1V nominal"}),C.jsx("span",{children:"VPP: 1.8V nominal"}),C.jsx("span",{children:"VDDQ: 1.1V nominal"})]})]})})]})]})}const gUe={P_total_core:1,P_VDD_core:.3,P_VPP_core:.3,P_RD_core:.5,P_WR_core:.5},vUe=["idd0","idd2n","idd3n","idd4r","idd4w","idd5b","ipp0","ipp2n","ipp3n","ipp5b"],yUe={idd0:[.7,1.3],idd2n:[.7,1.3],idd3n:[.7,1.3],idd4r:[.7,1.3],idd4w:[.7,1.3],idd5b:[.7,1.3],ipp0:[.7,1.3],ipp2n:[.7,1.3],ipp3n:[.7,1.3],ipp5b:[.7,1.3]},uz={vdd:[1,1.2],vpp:[1.6,1.9]};function xUe(t){return JSON.parse(JSON.stringify(t))}function PT(t,e){return t+Math.random()*(e-t)}function _Ue(t){const e=xUe(t),n=e.mempowerspec;for(const s of vUe){const[l,c]=yUe[s],u=PT(l,c);n[s]=n[s]*u}const[r,i]=uz.vdd,[o,a]=uz.vpp;return n.vdd=PT(r,i),n.vpp=PT(o,a),e}function bUe(t,e,n){let r=0;if(r+=n.P_total_core*(t.P_total_core-e.P_total_core)*(t.P_total_core-e.P_total_core),typeof e.P_VDD_core=="number"){const i=t.P_VDD_core-e.P_VDD_core;r+=n.P_VDD_core*i*i}if(typeof e.P_VPP_core=="number"){const i=t.P_VPP_core-e.P_VPP_core;r+=n.P_VPP_core*i*i}if(typeof e.P_RD_core=="number"){const i=t.P_RD_core-e.P_RD_core;r+=n.P_RD_core*i*i}if(typeof e.P_WR_core=="number"){const i=t.P_WR_core-e.P_WR_core;r+=n.P_WR_core*i*i}return r}function wUe(t){return t.P_total_core>=0&&t.P_VDD_core>=0&&t.P_VPP_core>=0&&t.P_RD_core>=0&&t.P_WR_core>=0&&t.P_PRE_STBY_core>=0&&t.P_ACT_STBY_core>=0&&t.P_ACT_PRE_core>=0&&t.P_REF_core>=0}async function SUe(t,e,n){const r={...gUe},i=300;let o=null;const a=Vs;for(const s of a){let l=null;for(let c=0;c<i;c++){const u=_Ue(s.memspec),f=bH(u,t);if(!wUe(f))continue;const d=bUe(f,e,r);(!l||d<l.loss)&&(l={basePresetId:s.id,basePresetName:s.name,optimizedMemspec:u,power:f,loss:d})}l&&(!o||l.loss<o.loss)&&(o=l)}if(!o)throw new Error("Inverse search failed to find any valid configuration.");return o}function EUe(){const{memspec:t,workload:e,setMemspec:n}=Kb(),[r,i]=L.useState("2.0"),[o,a]=L.useState(!1),[s,l]=L.useState(null),[c,u]=L.useState(null),f=async()=>{if(!t||!e){l("Please configure a memory spec and workload first.");return}const h=parseFloat(r);if(!Number.isFinite(h)||h<=0){l("Please enter a valid positive number for target total core power.");return}a(!0),l(null),u(null);try{const g=await SUe(e,{P_total_core:h});u({basePresetId:g.basePresetId,basePresetName:g.basePresetName,loss:g.loss,optimizedMemspec:g.optimizedMemspec,power:g.power})}catch(g){l((g==null?void 0:g.message)??"Failed to run inverse search")}finally{a(!1)}},d=()=>{c&&n(c.optimized_memspec)};return C.jsxs("div",{className:"h-screen flex flex-col bg-background overflow-hidden",children:[C.jsx(oy,{}),C.jsx("main",{className:"flex-1 container mx-auto px-4 py-6 overflow-y-auto scrollbar-thin",children:C.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{children:C.jsx(Tn,{children:"Target Power (Inverse DDR5)"})}),C.jsxs(un,{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm mb-1",children:"Target Total Core Power (W)"}),C.jsx(Hg,{type:"number",step:"0.01",value:r,onChange:h=>i(h.target.value),className:"max-w-xs"})]}),C.jsx(ro,{onClick:f,disabled:o,children:o?"Solving...":"Find Matching Spec"}),s&&C.jsx(Gd,{variant:"destructive",children:C.jsx($d,{className:"text-sm",children:s})}),C.jsx("p",{className:"text-xs text-muted-foreground",children:"This feature finds a DDR5 memspec whose modeled core power best matches your target. Results are approximate and may not be unique."})]})]}),c&&C.jsxs(cn,{className:"power-card",children:[C.jsx(Mn,{children:C.jsx(Tn,{children:"Best Match"})}),C.jsxs(un,{className:"space-y-2 text-sm",children:[C.jsxs("p",{children:["Base preset: ",c.basePresetName]}),C.jsxs("p",{children:["Fit error (loss): ",c.loss.toFixed(4)]}),C.jsxs("p",{children:["Resulting P_total_core:"," ",c.power.P_total_core.toFixed(4)," W"]}),C.jsx(ro,{size:"sm",className:"mt-3",onClick:d,children:"Use in Calculator"})]})]})]})})]})}const MUe=()=>{const t=Yb();return L.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),C.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:C.jsxs("div",{className:"text-center",children:[C.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),C.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),C.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},TUe=new Fee,AUe=()=>C.jsx(zee,{client:TUe,children:C.jsx(hee,{children:C.jsxs(Dte,{children:[C.jsx($Z,{}),C.jsx(SJ,{}),C.jsx(Nte,{basename:"/Capstone_AI_037/",children:C.jsxs(Rte,{children:[C.jsx(Mu,{path:"/",element:C.jsx(Ute,{})}),C.jsx(Mu,{path:"/configuration",element:C.jsx(Yne,{})}),C.jsx(Mu,{path:"/core-power",element:C.jsx(dUe,{})}),C.jsx(Mu,{path:"/dimm-power",element:C.jsx(mUe,{})}),C.jsx(Mu,{path:"/target-power",element:C.jsx(EUe,{})}),C.jsx(Mu,{path:"*",element:C.jsx(MUe,{})})]})})]})})});I5(document.getElementById("root")).render(C.jsx(AUe,{}));
